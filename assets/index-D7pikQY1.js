var FR=Object.defineProperty;var BR=(t,r,e)=>r in t?FR(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var at=(t,r,e)=>BR(t,typeof r!="symbol"?r+"":r,e);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ry(t){const r=Object.create(null);for(const e of t.split(","))r[e]=1;return e=>e in r}const st={},Bs=[],Mn=()=>{},NR=()=>!1,ef=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),My=t=>t.startsWith("onUpdate:"),Mt=Object.assign,Dy=(t,r)=>{const e=t.indexOf(r);e>-1&&t.splice(e,1)},LR=Object.prototype.hasOwnProperty,Ke=(t,r)=>LR.call(t,r),$e=Array.isArray,Ns=t=>eu(t)==="[object Map]",tf=t=>eu(t)==="[object Set]",Qb=t=>eu(t)==="[object Date]",Re=t=>typeof t=="function",yt=t=>typeof t=="string",pn=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",Ik=t=>(lt(t)||Re(t))&&Re(t.then)&&Re(t.catch),Pk=Object.prototype.toString,eu=t=>Pk.call(t),jR=t=>eu(t).slice(8,-1),xk=t=>eu(t)==="[object Object]",Fy=t=>yt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,il=Ry(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rf=t=>{const r=Object.create(null);return e=>r[e]||(r[e]=t(e))},zR=/-(\w)/g,tn=rf(t=>t.replace(zR,(r,e)=>e?e.toUpperCase():"")),HR=/\B([A-Z])/g,Ha=rf(t=>t.replace(HR,"-$1").toLowerCase()),nf=rf(t=>t.charAt(0).toUpperCase()+t.slice(1)),wh=rf(t=>t?`on${nf(t)}`:""),xi=(t,r)=>!Object.is(t,r),Uc=(t,...r)=>{for(let e=0;e<t.length;e++)t[e](...r)},Rk=(t,r,e,n=!1)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,writable:n,value:e})},Qp=t=>{const r=parseFloat(t);return isNaN(r)?t:r},WR=t=>{const r=yt(t)?Number(t):NaN;return isNaN(r)?t:r};let Jb;const af=()=>Jb||(Jb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function er(t){if($e(t)){const r={};for(let e=0;e<t.length;e++){const n=t[e],i=yt(n)?KR(n):er(n);if(i)for(const a in i)r[a]=i[a]}return r}else if(yt(t)||lt(t))return t}const VR=/;(?![^(]*\))/g,UR=/:([^]+)/,GR=/\/\*[^]*?\*\//g;function KR(t){const r={};return t.replace(GR,"").split(VR).forEach(e=>{if(e){const n=e.split(UR);n.length>1&&(r[n[0].trim()]=n[1].trim())}}),r}function Me(t){let r="";if(yt(t))r=t;else if($e(t))for(let e=0;e<t.length;e++){const n=Me(t[e]);n&&(r+=n+" ")}else if(lt(t))for(const e in t)t[e]&&(r+=e+" ");return r.trim()}const qR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",YR=Ry(qR);function Mk(t){return!!t||t===""}function XR(t,r){if(t.length!==r.length)return!1;let e=!0;for(let n=0;e&&n<t.length;n++)e=sf(t[n],r[n]);return e}function sf(t,r){if(t===r)return!0;let e=Qb(t),n=Qb(r);if(e||n)return e&&n?t.getTime()===r.getTime():!1;if(e=pn(t),n=pn(r),e||n)return t===r;if(e=$e(t),n=$e(r),e||n)return e&&n?XR(t,r):!1;if(e=lt(t),n=lt(r),e||n){if(!e||!n)return!1;const i=Object.keys(t).length,a=Object.keys(r).length;if(i!==a)return!1;for(const s in t){const o=t.hasOwnProperty(s),l=r.hasOwnProperty(s);if(o&&!l||!o&&l||!sf(t[s],r[s]))return!1}}return String(t)===String(r)}function Dk(t,r){return t.findIndex(e=>sf(e,r))}const Fk=t=>!!(t&&t.__v_isRef===!0),G=t=>yt(t)?t:t==null?"":$e(t)||lt(t)&&(t.toString===Pk||!Re(t.toString))?Fk(t)?G(t.value):JSON.stringify(t,Bk,2):String(t),Bk=(t,r)=>Fk(r)?Bk(t,r.value):Ns(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((e,[n,i],a)=>(e[_h(n,a)+" =>"]=i,e),{})}:tf(r)?{[`Set(${r.size})`]:[...r.values()].map(e=>_h(e))}:pn(r)?_h(r):lt(r)&&!$e(r)&&!xk(r)?String(r):r,_h=(t,r="")=>{var e;return pn(t)?`Symbol(${(e=t.description)!=null?e:r})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lr;class Nk{constructor(r=!1){this.detached=r,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=lr,!r&&lr&&(this.index=(lr.scopes||(lr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let r,e;if(this.scopes)for(r=0,e=this.scopes.length;r<e;r++)this.scopes[r].pause();for(r=0,e=this.effects.length;r<e;r++)this.effects[r].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let r,e;if(this.scopes)for(r=0,e=this.scopes.length;r<e;r++)this.scopes[r].resume();for(r=0,e=this.effects.length;r<e;r++)this.effects[r].resume()}}run(r){if(this._active){const e=lr;try{return lr=this,r()}finally{lr=e}}}on(){lr=this}off(){lr=this.parent}stop(r){if(this._active){this._active=!1;let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!r){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Lk(t){return new Nk(t)}function By(){return lr}function jk(t,r=!1){lr&&lr.cleanups.push(t)}let ct;const Sh=new WeakSet;class zk{constructor(r){this.fn=r,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,lr&&lr.active&&lr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sh.has(this)&&(Sh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,e1(this),Vk(this);const r=ct,e=vn;ct=this,vn=!0;try{return this.fn()}finally{Uk(this),ct=r,vn=e,this.flags&=-3}}stop(){if(this.flags&1){for(let r=this.deps;r;r=r.nextDep)jy(r);this.deps=this.depsTail=void 0,e1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jp(this)&&this.run()}get dirty(){return Jp(this)}}let Hk=0,al,sl;function Wk(t,r=!1){if(t.flags|=8,r){t.next=sl,sl=t;return}t.next=al,al=t}function Ny(){Hk++}function Ly(){if(--Hk>0)return;if(sl){let r=sl;for(sl=void 0;r;){const e=r.next;r.next=void 0,r.flags&=-9,r=e}}let t;for(;al;){let r=al;for(al=void 0;r;){const e=r.next;if(r.next=void 0,r.flags&=-9,r.flags&1)try{r.trigger()}catch(n){t||(t=n)}r=e}}if(t)throw t}function Vk(t){for(let r=t.deps;r;r=r.nextDep)r.version=-1,r.prevActiveLink=r.dep.activeLink,r.dep.activeLink=r}function Uk(t){let r,e=t.depsTail,n=e;for(;n;){const i=n.prevDep;n.version===-1?(n===e&&(e=i),jy(n),ZR(n)):r=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=r,t.depsTail=e}function Jp(t){for(let r=t.deps;r;r=r.nextDep)if(r.dep.version!==r.version||r.dep.computed&&(Gk(r.dep.computed)||r.dep.version!==r.version))return!0;return!!t._dirty}function Gk(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Tl))return;t.globalVersion=Tl;const r=t.dep;if(t.flags|=2,r.version>0&&!t.isSSR&&t.deps&&!Jp(t)){t.flags&=-3;return}const e=ct,n=vn;ct=t,vn=!0;try{Vk(t);const i=t.fn(t._value);(r.version===0||xi(i,t._value))&&(t._value=i,r.version++)}catch(i){throw r.version++,i}finally{ct=e,vn=n,Uk(t),t.flags&=-3}}function jy(t,r=!1){const{dep:e,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n,!n&&e.computed)){e.computed.flags&=-5;for(let a=e.computed.deps;a;a=a.nextDep)jy(a,!0)}!r&&!--e.sc&&e.map&&e.map.delete(e.key)}function ZR(t){const{prevDep:r,nextDep:e}=t;r&&(r.nextDep=e,t.prevDep=void 0),e&&(e.prevDep=r,t.nextDep=void 0)}let vn=!0;const Kk=[];function Ui(){Kk.push(vn),vn=!1}function Gi(){const t=Kk.pop();vn=t===void 0?!0:t}function e1(t){const{cleanup:r}=t;if(t.cleanup=void 0,r){const e=ct;ct=void 0;try{r()}finally{ct=e}}}let Tl=0;class QR{constructor(r,e){this.sub=r,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zy{constructor(r){this.computed=r,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(r){if(!ct||!vn||ct===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==ct)e=this.activeLink=new QR(ct,this),ct.deps?(e.prevDep=ct.depsTail,ct.depsTail.nextDep=e,ct.depsTail=e):ct.deps=ct.depsTail=e,qk(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const n=e.nextDep;n.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=n),e.prevDep=ct.depsTail,e.nextDep=void 0,ct.depsTail.nextDep=e,ct.depsTail=e,ct.deps===e&&(ct.deps=n)}return e}trigger(r){this.version++,Tl++,this.notify(r)}notify(r){Ny();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Ly()}}}function qk(t){if(t.dep.sc++,t.sub.flags&4){const r=t.dep.computed;if(r&&!t.dep.subs){r.flags|=20;for(let n=r.deps;n;n=n.nextDep)qk(n)}const e=t.dep.subs;e!==t&&(t.prevSub=e,e&&(e.nextSub=t)),t.dep.subs=t}}const gd=new WeakMap,ba=Symbol(""),eg=Symbol(""),Ol=Symbol("");function nr(t,r,e){if(vn&&ct){let n=gd.get(t);n||gd.set(t,n=new Map);let i=n.get(e);i||(n.set(e,i=new zy),i.map=n,i.key=e),i.track()}}function qn(t,r,e,n,i,a){const s=gd.get(t);if(!s){Tl++;return}const o=l=>{l&&l.trigger()};if(Ny(),r==="clear")s.forEach(o);else{const l=$e(t),u=l&&Fy(e);if(l&&e==="length"){const c=Number(n);s.forEach((d,f)=>{(f==="length"||f===Ol||!pn(f)&&f>=c)&&o(d)})}else switch((e!==void 0||s.has(void 0))&&o(s.get(e)),u&&o(s.get(Ol)),r){case"add":l?u&&o(s.get("length")):(o(s.get(ba)),Ns(t)&&o(s.get(eg)));break;case"delete":l||(o(s.get(ba)),Ns(t)&&o(s.get(eg)));break;case"set":Ns(t)&&o(s.get(ba));break}}Ly()}function JR(t,r){const e=gd.get(t);return e&&e.get(r)}function as(t){const r=je(t);return r===t?r:(nr(r,"iterate",Ol),Qr(t)?r:r.map(ir))}function of(t){return nr(t=je(t),"iterate",Ol),t}const e3={__proto__:null,[Symbol.iterator](){return kh(this,Symbol.iterator,ir)},concat(...t){return as(this).concat(...t.map(r=>$e(r)?as(r):r))},entries(){return kh(this,"entries",t=>(t[1]=ir(t[1]),t))},every(t,r){return Vn(this,"every",t,r,void 0,arguments)},filter(t,r){return Vn(this,"filter",t,r,e=>e.map(ir),arguments)},find(t,r){return Vn(this,"find",t,r,ir,arguments)},findIndex(t,r){return Vn(this,"findIndex",t,r,void 0,arguments)},findLast(t,r){return Vn(this,"findLast",t,r,ir,arguments)},findLastIndex(t,r){return Vn(this,"findLastIndex",t,r,void 0,arguments)},forEach(t,r){return Vn(this,"forEach",t,r,void 0,arguments)},includes(...t){return Eh(this,"includes",t)},indexOf(...t){return Eh(this,"indexOf",t)},join(t){return as(this).join(t)},lastIndexOf(...t){return Eh(this,"lastIndexOf",t)},map(t,r){return Vn(this,"map",t,r,void 0,arguments)},pop(){return jo(this,"pop")},push(...t){return jo(this,"push",t)},reduce(t,...r){return t1(this,"reduce",t,r)},reduceRight(t,...r){return t1(this,"reduceRight",t,r)},shift(){return jo(this,"shift")},some(t,r){return Vn(this,"some",t,r,void 0,arguments)},splice(...t){return jo(this,"splice",t)},toReversed(){return as(this).toReversed()},toSorted(t){return as(this).toSorted(t)},toSpliced(...t){return as(this).toSpliced(...t)},unshift(...t){return jo(this,"unshift",t)},values(){return kh(this,"values",ir)}};function kh(t,r,e){const n=of(t),i=n[r]();return n!==t&&!Qr(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=e(a.value)),a}),i}const t3=Array.prototype;function Vn(t,r,e,n,i,a){const s=of(t),o=s!==t&&!Qr(t),l=s[r];if(l!==t3[r]){const d=l.apply(t,a);return o?ir(d):d}let u=e;s!==t&&(o?u=function(d,f){return e.call(this,ir(d),f,t)}:e.length>2&&(u=function(d,f){return e.call(this,d,f,t)}));const c=l.call(s,u,n);return o&&i?i(c):c}function t1(t,r,e,n){const i=of(t);let a=e;return i!==t&&(Qr(t)?e.length>3&&(a=function(s,o,l){return e.call(this,s,o,l,t)}):a=function(s,o,l){return e.call(this,s,ir(o),l,t)}),i[r](a,...n)}function Eh(t,r,e){const n=je(t);nr(n,"iterate",Ol);const i=n[r](...e);return(i===-1||i===!1)&&Vy(e[0])?(e[0]=je(e[0]),n[r](...e)):i}function jo(t,r,e=[]){Ui(),Ny();const n=je(t)[r].apply(t,e);return Ly(),Gi(),n}const r3=Ry("__proto__,__v_isRef,__isVue"),Yk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pn));function n3(t){pn(t)||(t=String(t));const r=je(this);return nr(r,"has",t),r.hasOwnProperty(t)}class Xk{constructor(r=!1,e=!1){this._isReadonly=r,this._isShallow=e}get(r,e,n){if(e==="__v_skip")return r.__v_skip;const i=this._isReadonly,a=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return a;if(e==="__v_raw")return n===(i?a?h3:eE:a?Jk:Qk).get(r)||Object.getPrototypeOf(r)===Object.getPrototypeOf(n)?r:void 0;const s=$e(r);if(!i){let l;if(s&&(l=e3[e]))return l;if(e==="hasOwnProperty")return n3}const o=Reflect.get(r,e,At(r)?r:n);return(pn(e)?Yk.has(e):r3(e))||(i||nr(r,"get",e),a)?o:At(o)?s&&Fy(e)?o:o.value:lt(o)?i?rE(o):tu(o):o}}class Zk extends Xk{constructor(r=!1){super(!1,r)}set(r,e,n,i){let a=r[e];if(!this._isShallow){const l=Pa(a);if(!Qr(n)&&!Pa(n)&&(a=je(a),n=je(n)),!$e(r)&&At(a)&&!At(n))return l?!1:(a.value=n,!0)}const s=$e(r)&&Fy(e)?Number(e)<r.length:Ke(r,e),o=Reflect.set(r,e,n,At(r)?r:i);return r===je(i)&&(s?xi(n,a)&&qn(r,"set",e,n):qn(r,"add",e,n)),o}deleteProperty(r,e){const n=Ke(r,e);r[e];const i=Reflect.deleteProperty(r,e);return i&&n&&qn(r,"delete",e,void 0),i}has(r,e){const n=Reflect.has(r,e);return(!pn(e)||!Yk.has(e))&&nr(r,"has",e),n}ownKeys(r){return nr(r,"iterate",$e(r)?"length":ba),Reflect.ownKeys(r)}}class i3 extends Xk{constructor(r=!1){super(!0,r)}set(r,e){return!0}deleteProperty(r,e){return!0}}const a3=new Zk,s3=new i3,o3=new Zk(!0);const tg=t=>t,ec=t=>Reflect.getPrototypeOf(t);function l3(t,r,e){return function(...n){const i=this.__v_raw,a=je(i),s=Ns(a),o=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...n),c=e?tg:r?rg:ir;return!r&&nr(a,"iterate",l?eg:ba),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function tc(t){return function(...r){return t==="delete"?!1:t==="clear"?void 0:this}}function u3(t,r){const e={get(i){const a=this.__v_raw,s=je(a),o=je(i);t||(xi(i,o)&&nr(s,"get",i),nr(s,"get",o));const{has:l}=ec(s),u=r?tg:t?rg:ir;if(l.call(s,i))return u(a.get(i));if(l.call(s,o))return u(a.get(o));a!==s&&a.get(i)},get size(){const i=this.__v_raw;return!t&&nr(je(i),"iterate",ba),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,s=je(a),o=je(i);return t||(xi(i,o)&&nr(s,"has",i),nr(s,"has",o)),i===o?a.has(i):a.has(i)||a.has(o)},forEach(i,a){const s=this,o=s.__v_raw,l=je(o),u=r?tg:t?rg:ir;return!t&&nr(l,"iterate",ba),o.forEach((c,d)=>i.call(a,u(c),u(d),s))}};return Mt(e,t?{add:tc("add"),set:tc("set"),delete:tc("delete"),clear:tc("clear")}:{add(i){!r&&!Qr(i)&&!Pa(i)&&(i=je(i));const a=je(this);return ec(a).has.call(a,i)||(a.add(i),qn(a,"add",i,i)),this},set(i,a){!r&&!Qr(a)&&!Pa(a)&&(a=je(a));const s=je(this),{has:o,get:l}=ec(s);let u=o.call(s,i);u||(i=je(i),u=o.call(s,i));const c=l.call(s,i);return s.set(i,a),u?xi(a,c)&&qn(s,"set",i,a):qn(s,"add",i,a),this},delete(i){const a=je(this),{has:s,get:o}=ec(a);let l=s.call(a,i);l||(i=je(i),l=s.call(a,i)),o&&o.call(a,i);const u=a.delete(i);return l&&qn(a,"delete",i,void 0),u},clear(){const i=je(this),a=i.size!==0,s=i.clear();return a&&qn(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=l3(i,t,r)}),e}function Hy(t,r){const e=u3(t,r);return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Ke(e,i)&&i in n?e:n,i,a)}const c3={get:Hy(!1,!1)},d3={get:Hy(!1,!0)},f3={get:Hy(!0,!1)};const Qk=new WeakMap,Jk=new WeakMap,eE=new WeakMap,h3=new WeakMap;function v3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p3(t){return t.__v_skip||!Object.isExtensible(t)?0:v3(jR(t))}function tu(t){return Pa(t)?t:Wy(t,!1,a3,c3,Qk)}function tE(t){return Wy(t,!1,o3,d3,Jk)}function rE(t){return Wy(t,!0,s3,f3,eE)}function Wy(t,r,e,n,i){if(!lt(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const a=i.get(t);if(a)return a;const s=p3(t);if(s===0)return t;const o=new Proxy(t,s===2?n:e);return i.set(t,o),o}function Zn(t){return Pa(t)?Zn(t.__v_raw):!!(t&&t.__v_isReactive)}function Pa(t){return!!(t&&t.__v_isReadonly)}function Qr(t){return!!(t&&t.__v_isShallow)}function Vy(t){return t?!!t.__v_raw:!1}function je(t){const r=t&&t.__v_raw;return r?je(r):t}function Uy(t){return!Ke(t,"__v_skip")&&Object.isExtensible(t)&&Rk(t,"__v_skip",!0),t}const ir=t=>lt(t)?tu(t):t,rg=t=>lt(t)?rE(t):t;function At(t){return t?t.__v_isRef===!0:!1}function le(t){return nE(t,!1)}function g3(t){return nE(t,!0)}function nE(t,r){return At(t)?t:new y3(t,r)}class y3{constructor(r,e){this.dep=new zy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?r:je(r),this._value=e?r:ir(r),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(r){const e=this._rawValue,n=this.__v_isShallow||Qr(r)||Pa(r);r=n?r:je(r),xi(r,e)&&(this._rawValue=r,this._value=n?r:ir(r),this.dep.trigger())}}function ue(t){return At(t)?t.value:t}const m3={get:(t,r,e)=>r==="__v_raw"?t:ue(Reflect.get(t,r,e)),set:(t,r,e,n)=>{const i=t[r];return At(i)&&!At(e)?(i.value=e,!0):Reflect.set(t,r,e,n)}};function iE(t){return Zn(t)?t:new Proxy(t,m3)}function b3(t){const r=$e(t)?new Array(t.length):{};for(const e in t)r[e]=A3(t,e);return r}class $3{constructor(r,e,n){this._object=r,this._key=e,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const r=this._object[this._key];return this._value=r===void 0?this._defaultValue:r}set value(r){this._object[this._key]=r}get dep(){return JR(je(this._object),this._key)}}function A3(t,r,e){const n=t[r];return At(n)?n:new $3(t,r,e)}class w3{constructor(r,e,n){this.fn=r,this.setter=e,this._value=void 0,this.dep=new zy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ct!==this)return Wk(this,!0),!0}get value(){const r=this.dep.track();return Gk(this),r&&(r.version=this.dep.version),this._value}set value(r){this.setter&&this.setter(r)}}function _3(t,r,e=!1){let n,i;return Re(t)?n=t:(n=t.get,i=t.set),new w3(n,i,e)}const rc={},yd=new WeakMap;let oa;function S3(t,r=!1,e=oa){if(e){let n=yd.get(e);n||yd.set(e,n=[]),n.push(t)}}function k3(t,r,e=st){const{immediate:n,deep:i,once:a,scheduler:s,augmentJob:o,call:l}=e,u=$=>i?$:Qr($)||i===!1||i===0?Yn($,1):Yn($);let c,d,f,h,v=!1,p=!1;if(At(t)?(d=()=>t.value,v=Qr(t)):Zn(t)?(d=()=>u(t),v=!0):$e(t)?(p=!0,v=t.some($=>Zn($)||Qr($)),d=()=>t.map($=>{if(At($))return $.value;if(Zn($))return u($);if(Re($))return l?l($,2):$()})):Re(t)?r?d=l?()=>l(t,2):t:d=()=>{if(f){Ui();try{f()}finally{Gi()}}const $=oa;oa=c;try{return l?l(t,3,[h]):t(h)}finally{oa=$}}:d=Mn,r&&i){const $=d,k=i===!0?1/0:i;d=()=>Yn($(),k)}const m=By(),y=()=>{c.stop(),m&&m.active&&Dy(m.effects,c)};if(a&&r){const $=r;r=(...k)=>{$(...k),y()}}let b=p?new Array(t.length).fill(rc):rc;const A=$=>{if(!(!(c.flags&1)||!c.dirty&&!$))if(r){const k=c.run();if(i||v||(p?k.some((C,T)=>xi(C,b[T])):xi(k,b))){f&&f();const C=oa;oa=c;try{const T=[k,b===rc?void 0:p&&b[0]===rc?[]:b,h];l?l(r,3,T):r(...T),b=k}finally{oa=C}}}else c.run()};return o&&o(A),c=new zk(d),c.scheduler=s?()=>s(A,!1):A,h=$=>S3($,!1,c),f=c.onStop=()=>{const $=yd.get(c);if($){if(l)l($,4);else for(const k of $)k();yd.delete(c)}},r?n?A(!0):b=c.run():s?s(A.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function Yn(t,r=1/0,e){if(r<=0||!lt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),r--,At(t))Yn(t.value,r,e);else if($e(t))for(let n=0;n<t.length;n++)Yn(t[n],r,e);else if(tf(t)||Ns(t))t.forEach(n=>{Yn(n,r,e)});else if(xk(t)){for(const n in t)Yn(t[n],r,e);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Yn(t[n],r,e)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ru(t,r,e,n){try{return n?t(...n):t()}catch(i){lf(i,r,e)}}function gn(t,r,e,n){if(Re(t)){const i=ru(t,r,e,n);return i&&Ik(i)&&i.catch(a=>{lf(a,r,e)}),i}if($e(t)){const i=[];for(let a=0;a<t.length;a++)i.push(gn(t[a],r,e,n));return i}}function lf(t,r,e,n=!0){const i=r?r.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=r&&r.appContext.config||st;if(r){let o=r.parent;const l=r.proxy,u=`https://vuejs.org/error-reference/#runtime-${e}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}o=o.parent}if(a){Ui(),ru(a,null,10,[t,l,u]),Gi();return}}E3(t,e,i,n,s)}function E3(t,r,e,n=!0,i=!1){if(i)throw t;console.error(t)}const dr=[];let En=-1;const Ls=[];let _i=null,bs=0;const aE=Promise.resolve();let md=null;function qs(t){const r=md||aE;return t?r.then(this?t.bind(this):t):r}function T3(t){let r=En+1,e=dr.length;for(;r<e;){const n=r+e>>>1,i=dr[n],a=Cl(i);a<t||a===t&&i.flags&2?r=n+1:e=n}return r}function Gy(t){if(!(t.flags&1)){const r=Cl(t),e=dr[dr.length-1];!e||!(t.flags&2)&&r>=Cl(e)?dr.push(t):dr.splice(T3(r),0,t),t.flags|=1,sE()}}function sE(){md||(md=aE.then(lE))}function O3(t){$e(t)?Ls.push(...t):_i&&t.id===-1?_i.splice(bs+1,0,t):t.flags&1||(Ls.push(t),t.flags|=1),sE()}function r1(t,r,e=En+1){for(;e<dr.length;e++){const n=dr[e];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;dr.splice(e,1),e--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function oE(t){if(Ls.length){const r=[...new Set(Ls)].sort((e,n)=>Cl(e)-Cl(n));if(Ls.length=0,_i){_i.push(...r);return}for(_i=r,bs=0;bs<_i.length;bs++){const e=_i[bs];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}_i=null,bs=0}}const Cl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lE(t){try{for(En=0;En<dr.length;En++){const r=dr[En];r&&!(r.flags&8)&&(r.flags&4&&(r.flags&=-2),ru(r,r.i,r.i?15:14),r.flags&4||(r.flags&=-2))}}finally{for(;En<dr.length;En++){const r=dr[En];r&&(r.flags&=-2)}En=-1,dr.length=0,oE(),md=null,(dr.length||Ls.length)&&lE()}}let Bt=null,uE=null;function bd(t){const r=Bt;return Bt=t,uE=t&&t.type.__scopeId||null,r}function On(t,r=Bt,e){if(!r||t._n)return t;const n=(...i)=>{n._d&&p1(-1);const a=bd(r);let s;try{s=t(...i)}finally{bd(a),n._d&&p1(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function fa(t,r){if(Bt===null)return t;const e=hf(Bt),n=t.dirs||(t.dirs=[]);for(let i=0;i<r.length;i++){let[a,s,o,l=st]=r[i];a&&(Re(a)&&(a={mounted:a,updated:a}),a.deep&&Yn(s),n.push({dir:a,instance:e,value:s,oldValue:void 0,arg:o,modifiers:l}))}return t}function ra(t,r,e,n){const i=t.dirs,a=r&&r.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[n];l&&(Ui(),gn(l,e,8,[t.el,o,t,r]),Gi())}}const cE=Symbol("_vte"),dE=t=>t.__isTeleport,ol=t=>t&&(t.disabled||t.disabled===""),n1=t=>t&&(t.defer||t.defer===""),i1=t=>typeof SVGElement<"u"&&t instanceof SVGElement,a1=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ng=(t,r)=>{const e=t&&t.to;return yt(e)?r?r(e):null:e},fE={name:"Teleport",__isTeleport:!0,process(t,r,e,n,i,a,s,o,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:v,createText:p,createComment:m}}=u,y=ol(r.props);let{shapeFlag:b,children:A,dynamicChildren:$}=r;if(t==null){const k=r.el=p(""),C=r.anchor=p("");h(k,e,n),h(C,e,n);const T=(S,O)=>{b&16&&(i&&i.isCE&&(i.ce._teleportTarget=S),c(A,S,O,i,a,s,o,l))},E=()=>{const S=r.target=ng(r.props,v),O=vE(S,r,p,h);S&&(s!=="svg"&&i1(S)?s="svg":s!=="mathml"&&a1(S)&&(s="mathml"),y||(T(S,O),Gc(r,!1)))};y&&(T(e,C),Gc(r,!0)),n1(r.props)?or(()=>{E(),r.el.__isMounted=!0},a):E()}else{if(n1(r.props)&&!t.el.__isMounted){or(()=>{fE.process(t,r,e,n,i,a,s,o,l,u),delete t.el.__isMounted},a);return}r.el=t.el,r.targetStart=t.targetStart;const k=r.anchor=t.anchor,C=r.target=t.target,T=r.targetAnchor=t.targetAnchor,E=ol(t.props),S=E?e:C,O=E?k:T;if(s==="svg"||i1(C)?s="svg":(s==="mathml"||a1(C))&&(s="mathml"),$?(f(t.dynamicChildren,$,S,i,a,s,o),Yy(t,r,!0)):l||d(t,r,S,O,i,a,s,o,!1),y)E?r.props&&t.props&&r.props.to!==t.props.to&&(r.props.to=t.props.to):nc(r,e,k,u,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const P=r.target=ng(r.props,v);P&&nc(r,P,null,u,0)}else E&&nc(r,C,T,u,1);Gc(r,y)}},remove(t,r,e,{um:n,o:{remove:i}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=t;if(d&&(i(u),i(c)),a&&i(l),s&16){const h=a||!ol(f);for(let v=0;v<o.length;v++){const p=o[v];n(p,r,e,h,!!p.dynamicChildren)}}},move:nc,hydrate:C3};function nc(t,r,e,{o:{insert:n},m:i},a=2){a===0&&n(t.targetAnchor,r,e);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=t,d=a===2;if(d&&n(s,r,e),(!d||ol(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],r,e,2);d&&n(o,r,e)}function C3(t,r,e,n,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:u,createText:c}},d){const f=r.target=ng(r.props,l);if(f){const h=ol(r.props),v=f._lpa||f.firstChild;if(r.shapeFlag&16)if(h)r.anchor=d(s(t),r,o(t),e,n,i,a),r.targetStart=v,r.targetAnchor=v&&s(v);else{r.anchor=s(t);let p=v;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")r.targetStart=p;else if(p.data==="teleport anchor"){r.targetAnchor=p,f._lpa=r.targetAnchor&&s(r.targetAnchor);break}}p=s(p)}r.targetAnchor||vE(f,r,c,u),d(v&&s(v),r,f,e,n,i,a)}Gc(r,h)}return r.anchor&&s(r.anchor)}const hE=fE;function Gc(t,r){const e=t.ctx;if(e&&e.ut){let n,i;for(r?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function vE(t,r,e,n){const i=r.targetStart=e(""),a=r.targetAnchor=e("");return i[cE]=a,t&&(n(i,t),n(a,t)),a}const Si=Symbol("_leaveCb"),ic=Symbol("_enterCb");function I3(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wt(()=>{t.isMounted=!0}),wE(()=>{t.isUnmounting=!0}),t}const Gr=[Function,Array],pE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gr,onEnter:Gr,onAfterEnter:Gr,onEnterCancelled:Gr,onBeforeLeave:Gr,onLeave:Gr,onAfterLeave:Gr,onLeaveCancelled:Gr,onBeforeAppear:Gr,onAppear:Gr,onAfterAppear:Gr,onAppearCancelled:Gr},gE=t=>{const r=t.subTree;return r.component?gE(r.component):r},P3={name:"BaseTransition",props:pE,setup(t,{slots:r}){const e=Qy(),n=I3();return()=>{const i=r.default&&bE(r.default(),!0);if(!i||!i.length)return;const a=yE(i),s=je(t),{mode:o}=s;if(n.isLeaving)return Th(a);const l=s1(a);if(!l)return Th(a);let u=ig(l,s,n,e,d=>u=d);l.type!==hr&&Il(l,u);let c=e.subTree&&s1(e.subTree);if(c&&c.type!==hr&&!ua(l,c)&&gE(e).type!==hr){let d=ig(c,s,n,e);if(Il(c,d),o==="out-in"&&l.type!==hr)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,e.job.flags&8||e.update(),delete d.afterLeave,c=void 0},Th(a);o==="in-out"&&l.type!==hr?d.delayLeave=(f,h,v)=>{const p=mE(n,c);p[String(c.key)]=c,f[Si]=()=>{h(),f[Si]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{v(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function yE(t){let r=t[0];if(t.length>1){for(const e of t)if(e.type!==hr){r=e;break}}return r}const x3=P3;function mE(t,r){const{leavingVNodes:e}=t;let n=e.get(r.type);return n||(n=Object.create(null),e.set(r.type,n)),n}function ig(t,r,e,n,i){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:v,onLeaveCancelled:p,onBeforeAppear:m,onAppear:y,onAfterAppear:b,onAppearCancelled:A}=r,$=String(t.key),k=mE(e,t),C=(S,O)=>{S&&gn(S,n,9,O)},T=(S,O)=>{const P=O[1];C(S,O),$e(S)?S.every(j=>j.length<=1)&&P():S.length<=1&&P()},E={mode:s,persisted:o,beforeEnter(S){let O=l;if(!e.isMounted)if(a)O=m||l;else return;S[Si]&&S[Si](!0);const P=k[$];P&&ua(t,P)&&P.el[Si]&&P.el[Si](),C(O,[S])},enter(S){let O=u,P=c,j=d;if(!e.isMounted)if(a)O=y||u,P=b||c,j=A||d;else return;let K=!1;const me=S[ic]=Ee=>{K||(K=!0,Ee?C(j,[S]):C(P,[S]),E.delayedLeave&&E.delayedLeave(),S[ic]=void 0)};O?T(O,[S,me]):me()},leave(S,O){const P=String(t.key);if(S[ic]&&S[ic](!0),e.isUnmounting)return O();C(f,[S]);let j=!1;const K=S[Si]=me=>{j||(j=!0,O(),me?C(p,[S]):C(v,[S]),S[Si]=void 0,k[P]===t&&delete k[P])};k[P]=t,h?T(h,[S,K]):K()},clone(S){const O=ig(S,r,e,n,i);return i&&i(O),O}};return E}function Th(t){if(uf(t))return t=ji(t),t.children=null,t}function s1(t){if(!uf(t))return dE(t.type)&&t.children?yE(t.children):t;const{shapeFlag:r,children:e}=t;if(e){if(r&16)return e[0];if(r&32&&Re(e.default))return e.default()}}function Il(t,r){t.shapeFlag&6&&t.component?(t.transition=r,Il(t.component.subTree,r)):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function bE(t,r=!1,e){let n=[],i=0;for(let a=0;a<t.length;a++){let s=t[a];const o=e==null?s.key:String(e)+String(s.key!=null?s.key:a);s.type===he?(s.patchFlag&128&&i++,n=n.concat(bE(s.children,r,o))):(r||s.type!==hr)&&n.push(o!=null?ji(s,{key:o}):s)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function qe(t,r){return Re(t)?Mt({name:t.name},r,{setup:t}):t}function $E(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function $d(t,r,e,n,i=!1){if($e(t)){t.forEach((v,p)=>$d(v,r&&($e(r)?r[p]:r),e,n,i));return}if(js(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&$d(t,r,e,n.component.subTree);return}const a=n.shapeFlag&4?hf(n.component):n.el,s=i?null:a,{i:o,r:l}=t,u=r&&r.r,c=o.refs===st?o.refs={}:o.refs,d=o.setupState,f=je(d),h=d===st?()=>!1:v=>Ke(f,v);if(u!=null&&u!==l&&(yt(u)?(c[u]=null,h(u)&&(d[u]=null)):At(u)&&(u.value=null)),Re(l))ru(l,o,12,[s,c]);else{const v=yt(l),p=At(l);if(v||p){const m=()=>{if(t.f){const y=v?h(l)?d[l]:c[l]:l.value;i?$e(y)&&Dy(y,a):$e(y)?y.includes(a)||y.push(a):v?(c[l]=[a],h(l)&&(d[l]=c[l])):(l.value=[a],t.k&&(c[t.k]=l.value))}else v?(c[l]=s,h(l)&&(d[l]=s)):p&&(l.value=s,t.k&&(c[t.k]=s))};s?(m.id=-1,or(m,e)):m()}}}af().requestIdleCallback;af().cancelIdleCallback;const js=t=>!!t.type.__asyncLoader,uf=t=>t.type.__isKeepAlive;function R3(t,r){AE(t,"a",r)}function M3(t,r){AE(t,"da",r)}function AE(t,r,e=jt){const n=t.__wdc||(t.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(cf(r,n,e),e){let i=e.parent;for(;i&&i.parent;)uf(i.parent.vnode)&&D3(n,r,e,i),i=i.parent}}function D3(t,r,e,n){const i=cf(r,t,n,!0);jr(()=>{Dy(n[r],i)},e)}function cf(t,r,e=jt,n=!1){if(e){const i=e[t]||(e[t]=[]),a=r.__weh||(r.__weh=(...s)=>{Ui();const o=nu(e),l=gn(r,e,t,s);return o(),Gi(),l});return n?i.unshift(a):i.push(a),a}}const fi=t=>(r,e=jt)=>{(!Rl||t==="sp")&&cf(t,(...n)=>r(...n),e)},F3=fi("bm"),Wt=fi("m"),B3=fi("bu"),N3=fi("u"),wE=fi("bum"),jr=fi("um"),L3=fi("sp"),j3=fi("rtg"),z3=fi("rtc");function H3(t,r=jt){cf("ec",t,r)}const W3="components",_E=Symbol.for("v-ndc");function V3(t){return yt(t)?U3(W3,t,!1)||t:t||_E}function U3(t,r,e=!0,n=!1){const i=Bt||jt;if(i){const a=i.type;{const o=xM(a,!1);if(o&&(o===r||o===tn(r)||o===nf(tn(r))))return a}const s=o1(i[t]||a[t],r)||o1(i.appContext[t],r);return!s&&n?a:s}}function o1(t,r){return t&&(t[r]||t[tn(r)]||t[nf(tn(r))])}function Ce(t,r,e,n){let i;const a=e,s=$e(t);if(s||yt(t)){const o=s&&Zn(t);let l=!1;o&&(l=!Qr(t),t=of(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=r(l?ir(t[u]):t[u],u,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=r(o+1,o,void 0,a)}else if(lt(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>r(o,l,void 0,a));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];i[l]=r(t[c],c,l,a)}}else i=[];return i}function SE(t,r,e={},n,i){if(Bt.ce||Bt.parent&&js(Bt.parent)&&Bt.parent.ce)return r!=="default"&&(e.name=r),I(),vr(he,null,[Pe("slot",e,n)],64);let a=t[r];a&&a._c&&(a._d=!1),I();const s=a&&kE(a(e)),o=e.key||s&&s.key,l=vr(he,{key:(o&&!pn(o)?o:`_${r}`)+(!s&&n?"_fb":"")},s||[],s&&t._===1?64:-2);return a&&a._c&&(a._d=!0),l}function kE(t){return t.some(r=>xl(r)?!(r.type===hr||r.type===he&&!kE(r.children)):!0)?t:null}const ag=t=>t?UE(t)?hf(t):ag(t.parent):null,ll=Mt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ag(t.parent),$root:t=>ag(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ky(t),$forceUpdate:t=>t.f||(t.f=()=>{Gy(t.update)}),$nextTick:t=>t.n||(t.n=qs.bind(t.proxy)),$watch:t=>vM.bind(t)}),Oh=(t,r)=>t!==st&&!t.__isScriptSetup&&Ke(t,r),G3={get({_:t},r){if(r==="__v_skip")return!0;const{ctx:e,setupState:n,data:i,props:a,accessCache:s,type:o,appContext:l}=t;let u;if(r[0]!=="$"){const h=s[r];if(h!==void 0)switch(h){case 1:return n[r];case 2:return i[r];case 4:return e[r];case 3:return a[r]}else{if(Oh(n,r))return s[r]=1,n[r];if(i!==st&&Ke(i,r))return s[r]=2,i[r];if((u=t.propsOptions[0])&&Ke(u,r))return s[r]=3,a[r];if(e!==st&&Ke(e,r))return s[r]=4,e[r];sg&&(s[r]=0)}}const c=ll[r];let d,f;if(c)return r==="$attrs"&&nr(t.attrs,"get",""),c(t);if((d=o.__cssModules)&&(d=d[r]))return d;if(e!==st&&Ke(e,r))return s[r]=4,e[r];if(f=l.config.globalProperties,Ke(f,r))return f[r]},set({_:t},r,e){const{data:n,setupState:i,ctx:a}=t;return Oh(i,r)?(i[r]=e,!0):n!==st&&Ke(n,r)?(n[r]=e,!0):Ke(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(a[r]=e,!0)},has({_:{data:t,setupState:r,accessCache:e,ctx:n,appContext:i,propsOptions:a}},s){let o;return!!e[s]||t!==st&&Ke(t,s)||Oh(r,s)||(o=a[0])&&Ke(o,s)||Ke(n,s)||Ke(ll,s)||Ke(i.config.globalProperties,s)},defineProperty(t,r,e){return e.get!=null?t._.accessCache[r]=0:Ke(e,"value")&&this.set(t,r,e.value,null),Reflect.defineProperty(t,r,e)}};function l1(t){return $e(t)?t.reduce((r,e)=>(r[e]=null,r),{}):t}let sg=!0;function K3(t){const r=Ky(t),e=t.proxy,n=t.ctx;sg=!1,r.beforeCreate&&u1(r.beforeCreate,t,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:v,activated:p,deactivated:m,beforeDestroy:y,beforeUnmount:b,destroyed:A,unmounted:$,render:k,renderTracked:C,renderTriggered:T,errorCaptured:E,serverPrefetch:S,expose:O,inheritAttrs:P,components:j,directives:K,filters:me}=r;if(u&&q3(u,n,null),s)for(const B in s){const oe=s[B];Re(oe)&&(n[B]=oe.bind(e))}if(i){const B=i.call(e,e);lt(B)&&(t.data=tu(B))}if(sg=!0,a)for(const B in a){const oe=a[B],de=Re(oe)?oe.bind(e,e):Re(oe.get)?oe.get.bind(e,e):Mn,Ae=!Re(oe)&&Re(oe.set)?oe.set.bind(e):Mn,_e=ce({get:de,set:Ae});Object.defineProperty(n,B,{enumerable:!0,configurable:!0,get:()=>_e.value,set:te=>_e.value=te})}if(o)for(const B in o)EE(o[B],n,e,B);if(l){const B=Re(l)?l.call(e):l;Reflect.ownKeys(B).forEach(oe=>{Kc(oe,B[oe])})}c&&u1(c,t,"c");function z(B,oe){$e(oe)?oe.forEach(de=>B(de.bind(e))):oe&&B(oe.bind(e))}if(z(F3,d),z(Wt,f),z(B3,h),z(N3,v),z(R3,p),z(M3,m),z(H3,E),z(z3,C),z(j3,T),z(wE,b),z(jr,$),z(L3,S),$e(O))if(O.length){const B=t.exposed||(t.exposed={});O.forEach(oe=>{Object.defineProperty(B,oe,{get:()=>e[oe],set:de=>e[oe]=de})})}else t.exposed||(t.exposed={});k&&t.render===Mn&&(t.render=k),P!=null&&(t.inheritAttrs=P),j&&(t.components=j),K&&(t.directives=K),S&&$E(t)}function q3(t,r,e=Mn){$e(t)&&(t=og(t));for(const n in t){const i=t[n];let a;lt(i)?"default"in i?a=Dn(i.from||n,i.default,!0):a=Dn(i.from||n):a=Dn(i),At(a)?Object.defineProperty(r,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):r[n]=a}}function u1(t,r,e){gn($e(t)?t.map(n=>n.bind(r.proxy)):t.bind(r.proxy),r,e)}function EE(t,r,e,n){let i=n.includes(".")?NE(e,n):()=>e[n];if(yt(t)){const a=r[t];Re(a)&&wt(i,a)}else if(Re(t))wt(i,t.bind(e));else if(lt(t))if($e(t))t.forEach(a=>EE(a,r,e,n));else{const a=Re(t.handler)?t.handler.bind(e):r[t.handler];Re(a)&&wt(i,a,t)}}function Ky(t){const r=t.type,{mixins:e,extends:n}=r,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=t.appContext,o=a.get(r);let l;return o?l=o:!i.length&&!e&&!n?l=r:(l={},i.length&&i.forEach(u=>Ad(l,u,s,!0)),Ad(l,r,s)),lt(r)&&a.set(r,l),l}function Ad(t,r,e,n=!1){const{mixins:i,extends:a}=r;a&&Ad(t,a,e,!0),i&&i.forEach(s=>Ad(t,s,e,!0));for(const s in r)if(!(n&&s==="expose")){const o=Y3[s]||e&&e[s];t[s]=o?o(t[s],r[s]):r[s]}return t}const Y3={data:c1,props:d1,emits:d1,methods:Jo,computed:Jo,beforeCreate:sr,created:sr,beforeMount:sr,mounted:sr,beforeUpdate:sr,updated:sr,beforeDestroy:sr,beforeUnmount:sr,destroyed:sr,unmounted:sr,activated:sr,deactivated:sr,errorCaptured:sr,serverPrefetch:sr,components:Jo,directives:Jo,watch:Z3,provide:c1,inject:X3};function c1(t,r){return r?t?function(){return Mt(Re(t)?t.call(this,this):t,Re(r)?r.call(this,this):r)}:r:t}function X3(t,r){return Jo(og(t),og(r))}function og(t){if($e(t)){const r={};for(let e=0;e<t.length;e++)r[t[e]]=t[e];return r}return t}function sr(t,r){return t?[...new Set([].concat(t,r))]:r}function Jo(t,r){return t?Mt(Object.create(null),t,r):r}function d1(t,r){return t?$e(t)&&$e(r)?[...new Set([...t,...r])]:Mt(Object.create(null),l1(t),l1(r??{})):r}function Z3(t,r){if(!t)return r;if(!r)return t;const e=Mt(Object.create(null),t);for(const n in r)e[n]=sr(t[n],r[n]);return e}function TE(){return{app:null,config:{isNativeTag:NR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q3=0;function J3(t,r){return function(n,i=null){Re(n)||(n=Mt({},n)),i!=null&&!lt(i)&&(i=null);const a=TE(),s=new WeakSet,o=[];let l=!1;const u=a.app={_uid:Q3++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:MM,get config(){return a.config},set config(c){},use(c,...d){return s.has(c)||(c&&Re(c.install)?(s.add(c),c.install(u,...d)):Re(c)&&(s.add(c),c(u,...d))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,d){return d?(a.components[c]=d,u):a.components[c]},directive(c,d){return d?(a.directives[c]=d,u):a.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||Pe(n,i);return h.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),d&&r?r(h,c):t(h,c,f),l=!0,u._container=c,c.__vue_app__=u,hf(h.component)}},onUnmount(c){o.push(c)},unmount(){l&&(gn(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return a.provides[c]=d,u},runWithContext(c){const d=$a;$a=u;try{return c()}finally{$a=d}}};return u}}let $a=null;function Kc(t,r){if(jt){let e=jt.provides;const n=jt.parent&&jt.parent.provides;n===e&&(e=jt.provides=Object.create(n)),e[t]=r}}function Dn(t,r,e=!1){const n=jt||Bt;if(n||$a){const i=$a?$a._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return e&&Re(r)?r.call(n&&n.proxy):r}}function eM(){return!!(jt||Bt||$a)}const OE={},CE=()=>Object.create(OE),IE=t=>Object.getPrototypeOf(t)===OE;function tM(t,r,e,n=!1){const i={},a=CE();t.propsDefaults=Object.create(null),PE(t,r,i,a);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);e?t.props=n?i:tE(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function rM(t,r,e,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=t,o=je(i),[l]=t.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(df(t.emitsOptions,f))continue;const h=r[f];if(l)if(Ke(a,f))h!==a[f]&&(a[f]=h,u=!0);else{const v=tn(f);i[v]=lg(l,o,v,h,t,!1)}else h!==a[f]&&(a[f]=h,u=!0)}}}else{PE(t,r,i,a)&&(u=!0);let c;for(const d in o)(!r||!Ke(r,d)&&((c=Ha(d))===d||!Ke(r,c)))&&(l?e&&(e[d]!==void 0||e[c]!==void 0)&&(i[d]=lg(l,o,d,void 0,t,!0)):delete i[d]);if(a!==o)for(const d in a)(!r||!Ke(r,d))&&(delete a[d],u=!0)}u&&qn(t.attrs,"set","")}function PE(t,r,e,n){const[i,a]=t.propsOptions;let s=!1,o;if(r)for(let l in r){if(il(l))continue;const u=r[l];let c;i&&Ke(i,c=tn(l))?!a||!a.includes(c)?e[c]=u:(o||(o={}))[c]=u:df(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(a){const l=je(e),u=o||st;for(let c=0;c<a.length;c++){const d=a[c];e[d]=lg(i,l,d,u[d],t,!Ke(u,d))}}return s}function lg(t,r,e,n,i,a){const s=t[e];if(s!=null){const o=Ke(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Re(l)){const{propsDefaults:u}=i;if(e in u)n=u[e];else{const c=nu(i);n=u[e]=l.call(null,r),c()}}else n=l;i.ce&&i.ce._setProp(e,n)}s[0]&&(a&&!o?n=!1:s[1]&&(n===""||n===Ha(e))&&(n=!0))}return n}const nM=new WeakMap;function xE(t,r,e=!1){const n=e?nM:r.propsCache,i=n.get(t);if(i)return i;const a=t.props,s={},o=[];let l=!1;if(!Re(t)){const c=d=>{l=!0;const[f,h]=xE(d,r,!0);Mt(s,f),h&&o.push(...h)};!e&&r.mixins.length&&r.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!a&&!l)return lt(t)&&n.set(t,Bs),Bs;if($e(a))for(let c=0;c<a.length;c++){const d=tn(a[c]);f1(d)&&(s[d]=st)}else if(a)for(const c in a){const d=tn(c);if(f1(d)){const f=a[c],h=s[d]=$e(f)||Re(f)?{type:f}:Mt({},f),v=h.type;let p=!1,m=!0;if($e(v))for(let y=0;y<v.length;++y){const b=v[y],A=Re(b)&&b.name;if(A==="Boolean"){p=!0;break}else A==="String"&&(m=!1)}else p=Re(v)&&v.name==="Boolean";h[0]=p,h[1]=m,(p||Ke(h,"default"))&&o.push(d)}}const u=[s,o];return lt(t)&&n.set(t,u),u}function f1(t){return t[0]!=="$"&&!il(t)}const RE=t=>t[0]==="_"||t==="$stable",qy=t=>$e(t)?t.map(Tn):[Tn(t)],iM=(t,r,e)=>{if(r._n)return r;const n=On((...i)=>qy(r(...i)),e);return n._c=!1,n},ME=(t,r,e)=>{const n=t._ctx;for(const i in t){if(RE(i))continue;const a=t[i];if(Re(a))r[i]=iM(i,a,n);else if(a!=null){const s=qy(a);r[i]=()=>s}}},DE=(t,r)=>{const e=qy(r);t.slots.default=()=>e},FE=(t,r,e)=>{for(const n in r)(e||n!=="_")&&(t[n]=r[n])},aM=(t,r,e)=>{const n=t.slots=CE();if(t.vnode.shapeFlag&32){const i=r._;i?(FE(n,r,e),e&&Rk(n,"_",i,!0)):ME(r,n)}else r&&DE(t,r)},sM=(t,r,e)=>{const{vnode:n,slots:i}=t;let a=!0,s=st;if(n.shapeFlag&32){const o=r._;o?e&&o===1?a=!1:FE(i,r,e):(a=!r.$stable,ME(r,i)),s=r}else r&&(DE(t,r),s={default:1});if(a)for(const o in i)!RE(o)&&s[o]==null&&delete i[o]},or=AM;function oM(t){return lM(t)}function lM(t,r){const e=af();e.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Mn,insertStaticContent:v}=t,p=(w,_,x,V=null,L=null,U=null,ie=void 0,Q=null,se=!!_.dynamicChildren)=>{if(w===_)return;w&&!ua(w,_)&&(V=N(w),te(w,L,U,!0),w=null),_.patchFlag===-2&&(se=!1,_.dynamicChildren=null);const{type:q,ref:Te,shapeFlag:fe}=_;switch(q){case ff:m(w,_,x,V);break;case hr:y(w,_,x,V);break;case qc:w==null&&b(_,x,V,ie);break;case he:j(w,_,x,V,L,U,ie,Q,se);break;default:fe&1?k(w,_,x,V,L,U,ie,Q,se):fe&6?K(w,_,x,V,L,U,ie,Q,se):(fe&64||fe&128)&&q.process(w,_,x,V,L,U,ie,Q,se,M)}Te!=null&&L&&$d(Te,w&&w.ref,U,_||w,!_)},m=(w,_,x,V)=>{if(w==null)n(_.el=o(_.children),x,V);else{const L=_.el=w.el;_.children!==w.children&&u(L,_.children)}},y=(w,_,x,V)=>{w==null?n(_.el=l(_.children||""),x,V):_.el=w.el},b=(w,_,x,V)=>{[w.el,w.anchor]=v(w.children,_,x,V,w.el,w.anchor)},A=({el:w,anchor:_},x,V)=>{let L;for(;w&&w!==_;)L=f(w),n(w,x,V),w=L;n(_,x,V)},$=({el:w,anchor:_})=>{let x;for(;w&&w!==_;)x=f(w),i(w),w=x;i(_)},k=(w,_,x,V,L,U,ie,Q,se)=>{_.type==="svg"?ie="svg":_.type==="math"&&(ie="mathml"),w==null?C(_,x,V,L,U,ie,Q,se):S(w,_,L,U,ie,Q,se)},C=(w,_,x,V,L,U,ie,Q)=>{let se,q;const{props:Te,shapeFlag:fe,transition:be,dirs:xe}=w;if(se=w.el=s(w.type,U,Te&&Te.is,Te),fe&8?c(se,w.children):fe&16&&E(w.children,se,null,V,L,Ch(w,U),ie,Q),xe&&ra(w,null,V,"created"),T(se,w,w.scopeId,ie,V),Te){for(const ut in Te)ut!=="value"&&!il(ut)&&a(se,ut,null,Te[ut],U,V);"value"in Te&&a(se,"value",null,Te.value,U),(q=Te.onVnodeBeforeMount)&&An(q,V,w)}xe&&ra(w,null,V,"beforeMount");const Le=uM(L,be);Le&&be.beforeEnter(se),n(se,_,x),((q=Te&&Te.onVnodeMounted)||Le||xe)&&or(()=>{q&&An(q,V,w),Le&&be.enter(se),xe&&ra(w,null,V,"mounted")},L)},T=(w,_,x,V,L)=>{if(x&&h(w,x),V)for(let U=0;U<V.length;U++)h(w,V[U]);if(L){let U=L.subTree;if(_===U||jE(U.type)&&(U.ssContent===_||U.ssFallback===_)){const ie=L.vnode;T(w,ie,ie.scopeId,ie.slotScopeIds,L.parent)}}},E=(w,_,x,V,L,U,ie,Q,se=0)=>{for(let q=se;q<w.length;q++){const Te=w[q]=Q?ki(w[q]):Tn(w[q]);p(null,Te,_,x,V,L,U,ie,Q)}},S=(w,_,x,V,L,U,ie)=>{const Q=_.el=w.el;let{patchFlag:se,dynamicChildren:q,dirs:Te}=_;se|=w.patchFlag&16;const fe=w.props||st,be=_.props||st;let xe;if(x&&na(x,!1),(xe=be.onVnodeBeforeUpdate)&&An(xe,x,_,w),Te&&ra(_,w,x,"beforeUpdate"),x&&na(x,!0),(fe.innerHTML&&be.innerHTML==null||fe.textContent&&be.textContent==null)&&c(Q,""),q?O(w.dynamicChildren,q,Q,x,V,Ch(_,L),U):ie||oe(w,_,Q,null,x,V,Ch(_,L),U,!1),se>0){if(se&16)P(Q,fe,be,x,L);else if(se&2&&fe.class!==be.class&&a(Q,"class",null,be.class,L),se&4&&a(Q,"style",fe.style,be.style,L),se&8){const Le=_.dynamicProps;for(let ut=0;ut<Le.length;ut++){const Qe=Le[ut],Rr=fe[Qe],rr=be[Qe];(rr!==Rr||Qe==="value")&&a(Q,Qe,Rr,rr,L,x)}}se&1&&w.children!==_.children&&c(Q,_.children)}else!ie&&q==null&&P(Q,fe,be,x,L);((xe=be.onVnodeUpdated)||Te)&&or(()=>{xe&&An(xe,x,_,w),Te&&ra(_,w,x,"updated")},V)},O=(w,_,x,V,L,U,ie)=>{for(let Q=0;Q<_.length;Q++){const se=w[Q],q=_[Q],Te=se.el&&(se.type===he||!ua(se,q)||se.shapeFlag&70)?d(se.el):x;p(se,q,Te,null,V,L,U,ie,!0)}},P=(w,_,x,V,L)=>{if(_!==x){if(_!==st)for(const U in _)!il(U)&&!(U in x)&&a(w,U,_[U],null,L,V);for(const U in x){if(il(U))continue;const ie=x[U],Q=_[U];ie!==Q&&U!=="value"&&a(w,U,Q,ie,L,V)}"value"in x&&a(w,"value",_.value,x.value,L)}},j=(w,_,x,V,L,U,ie,Q,se)=>{const q=_.el=w?w.el:o(""),Te=_.anchor=w?w.anchor:o("");let{patchFlag:fe,dynamicChildren:be,slotScopeIds:xe}=_;xe&&(Q=Q?Q.concat(xe):xe),w==null?(n(q,x,V),n(Te,x,V),E(_.children||[],x,Te,L,U,ie,Q,se)):fe>0&&fe&64&&be&&w.dynamicChildren?(O(w.dynamicChildren,be,x,L,U,ie,Q),(_.key!=null||L&&_===L.subTree)&&Yy(w,_,!0)):oe(w,_,x,Te,L,U,ie,Q,se)},K=(w,_,x,V,L,U,ie,Q,se)=>{_.slotScopeIds=Q,w==null?_.shapeFlag&512?L.ctx.activate(_,x,V,ie,se):me(_,x,V,L,U,ie,se):Ee(w,_,se)},me=(w,_,x,V,L,U,ie)=>{const Q=w.component=TM(w,V,L);if(uf(w)&&(Q.ctx.renderer=M),OM(Q,!1,ie),Q.asyncDep){if(L&&L.registerDep(Q,z,ie),!w.el){const se=Q.subTree=Pe(hr);y(null,se,_,x)}}else z(Q,w,_,x,L,U,ie)},Ee=(w,_,x)=>{const V=_.component=w.component;if(bM(w,_,x))if(V.asyncDep&&!V.asyncResolved){B(V,_,x);return}else V.next=_,V.update();else _.el=w.el,V.vnode=_},z=(w,_,x,V,L,U,ie)=>{const Q=()=>{if(w.isMounted){let{next:fe,bu:be,u:xe,parent:Le,vnode:ut}=w;{const Mr=BE(w);if(Mr){fe&&(fe.el=ut.el,B(w,fe,ie)),Mr.asyncDep.then(()=>{w.isUnmounted||Q()});return}}let Qe=fe,Rr;na(w,!1),fe?(fe.el=ut.el,B(w,fe,ie)):fe=ut,be&&Uc(be),(Rr=fe.props&&fe.props.onVnodeBeforeUpdate)&&An(Rr,Le,fe,ut),na(w,!0);const rr=Ih(w),on=w.subTree;w.subTree=rr,p(on,rr,d(on.el),N(on),w,L,U),fe.el=rr.el,Qe===null&&$M(w,rr.el),xe&&or(xe,L),(Rr=fe.props&&fe.props.onVnodeUpdated)&&or(()=>An(Rr,Le,fe,ut),L)}else{let fe;const{el:be,props:xe}=_,{bm:Le,m:ut,parent:Qe,root:Rr,type:rr}=w,on=js(_);if(na(w,!1),Le&&Uc(Le),!on&&(fe=xe&&xe.onVnodeBeforeMount)&&An(fe,Qe,_),na(w,!0),be&&ae){const Mr=()=>{w.subTree=Ih(w),ae(be,w.subTree,w,L,null)};on&&rr.__asyncHydrate?rr.__asyncHydrate(be,w,Mr):Mr()}else{Rr.ce&&Rr.ce._injectChildStyle(rr);const Mr=w.subTree=Ih(w);p(null,Mr,x,V,w,L,U),_.el=Mr.el}if(ut&&or(ut,L),!on&&(fe=xe&&xe.onVnodeMounted)){const Mr=_;or(()=>An(fe,Qe,Mr),L)}(_.shapeFlag&256||Qe&&js(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&w.a&&or(w.a,L),w.isMounted=!0,_=x=V=null}};w.scope.on();const se=w.effect=new zk(Q);w.scope.off();const q=w.update=se.run.bind(se),Te=w.job=se.runIfDirty.bind(se);Te.i=w,Te.id=w.uid,se.scheduler=()=>Gy(Te),na(w,!0),q()},B=(w,_,x)=>{_.component=w;const V=w.vnode.props;w.vnode=_,w.next=null,rM(w,_.props,V,x),sM(w,_.children,x),Ui(),r1(w),Gi()},oe=(w,_,x,V,L,U,ie,Q,se=!1)=>{const q=w&&w.children,Te=w?w.shapeFlag:0,fe=_.children,{patchFlag:be,shapeFlag:xe}=_;if(be>0){if(be&128){Ae(q,fe,x,V,L,U,ie,Q,se);return}else if(be&256){de(q,fe,x,V,L,U,ie,Q,se);return}}xe&8?(Te&16&&it(q,L,U),fe!==q&&c(x,fe)):Te&16?xe&16?Ae(q,fe,x,V,L,U,ie,Q,se):it(q,L,U,!0):(Te&8&&c(x,""),xe&16&&E(fe,x,V,L,U,ie,Q,se))},de=(w,_,x,V,L,U,ie,Q,se)=>{w=w||Bs,_=_||Bs;const q=w.length,Te=_.length,fe=Math.min(q,Te);let be;for(be=0;be<fe;be++){const xe=_[be]=se?ki(_[be]):Tn(_[be]);p(w[be],xe,x,null,L,U,ie,Q,se)}q>Te?it(w,L,U,!0,!1,fe):E(_,x,V,L,U,ie,Q,se,fe)},Ae=(w,_,x,V,L,U,ie,Q,se)=>{let q=0;const Te=_.length;let fe=w.length-1,be=Te-1;for(;q<=fe&&q<=be;){const xe=w[q],Le=_[q]=se?ki(_[q]):Tn(_[q]);if(ua(xe,Le))p(xe,Le,x,null,L,U,ie,Q,se);else break;q++}for(;q<=fe&&q<=be;){const xe=w[fe],Le=_[be]=se?ki(_[be]):Tn(_[be]);if(ua(xe,Le))p(xe,Le,x,null,L,U,ie,Q,se);else break;fe--,be--}if(q>fe){if(q<=be){const xe=be+1,Le=xe<Te?_[xe].el:V;for(;q<=be;)p(null,_[q]=se?ki(_[q]):Tn(_[q]),x,Le,L,U,ie,Q,se),q++}}else if(q>be)for(;q<=fe;)te(w[q],L,U,!0),q++;else{const xe=q,Le=q,ut=new Map;for(q=Le;q<=be;q++){const Dr=_[q]=se?ki(_[q]):Tn(_[q]);Dr.key!=null&&ut.set(Dr.key,q)}let Qe,Rr=0;const rr=be-Le+1;let on=!1,Mr=0;const Lo=new Array(rr);for(q=0;q<rr;q++)Lo[q]=0;for(q=xe;q<=fe;q++){const Dr=w[q];if(Rr>=rr){te(Dr,L,U,!0);continue}let $n;if(Dr.key!=null)$n=ut.get(Dr.key);else for(Qe=Le;Qe<=be;Qe++)if(Lo[Qe-Le]===0&&ua(Dr,_[Qe])){$n=Qe;break}$n===void 0?te(Dr,L,U,!0):(Lo[$n-Le]=q+1,$n>=Mr?Mr=$n:on=!0,p(Dr,_[$n],x,null,L,U,ie,Q,se),Rr++)}const Xb=on?cM(Lo):Bs;for(Qe=Xb.length-1,q=rr-1;q>=0;q--){const Dr=Le+q,$n=_[Dr],Zb=Dr+1<Te?_[Dr+1].el:V;Lo[q]===0?p(null,$n,x,Zb,L,U,ie,Q,se):on&&(Qe<0||q!==Xb[Qe]?_e($n,x,Zb,2):Qe--)}}},_e=(w,_,x,V,L=null)=>{const{el:U,type:ie,transition:Q,children:se,shapeFlag:q}=w;if(q&6){_e(w.component.subTree,_,x,V);return}if(q&128){w.suspense.move(_,x,V);return}if(q&64){ie.move(w,_,x,M);return}if(ie===he){n(U,_,x);for(let fe=0;fe<se.length;fe++)_e(se[fe],_,x,V);n(w.anchor,_,x);return}if(ie===qc){A(w,_,x);return}if(V!==2&&q&1&&Q)if(V===0)Q.beforeEnter(U),n(U,_,x),or(()=>Q.enter(U),L);else{const{leave:fe,delayLeave:be,afterLeave:xe}=Q,Le=()=>n(U,_,x),ut=()=>{fe(U,()=>{Le(),xe&&xe()})};be?be(U,Le,ut):ut()}else n(U,_,x)},te=(w,_,x,V=!1,L=!1)=>{const{type:U,props:ie,ref:Q,children:se,dynamicChildren:q,shapeFlag:Te,patchFlag:fe,dirs:be,cacheIndex:xe}=w;if(fe===-2&&(L=!1),Q!=null&&$d(Q,null,x,w,!0),xe!=null&&(_.renderCache[xe]=void 0),Te&256){_.ctx.deactivate(w);return}const Le=Te&1&&be,ut=!js(w);let Qe;if(ut&&(Qe=ie&&ie.onVnodeBeforeUnmount)&&An(Qe,_,w),Te&6)Ze(w.component,x,V);else{if(Te&128){w.suspense.unmount(x,V);return}Le&&ra(w,null,_,"beforeUnmount"),Te&64?w.type.remove(w,_,x,M,V):q&&!q.hasOnce&&(U!==he||fe>0&&fe&64)?it(q,_,x,!1,!0):(U===he&&fe&384||!L&&Te&16)&&it(se,_,x),V&&Ie(w)}(ut&&(Qe=ie&&ie.onVnodeUnmounted)||Le)&&or(()=>{Qe&&An(Qe,_,w),Le&&ra(w,null,_,"unmounted")},x)},Ie=w=>{const{type:_,el:x,anchor:V,transition:L}=w;if(_===he){Ne(x,V);return}if(_===qc){$(w);return}const U=()=>{i(x),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(w.shapeFlag&1&&L&&!L.persisted){const{leave:ie,delayLeave:Q}=L,se=()=>ie(x,U);Q?Q(w.el,U,se):se()}else U()},Ne=(w,_)=>{let x;for(;w!==_;)x=f(w),i(w),w=x;i(_)},Ze=(w,_,x)=>{const{bum:V,scope:L,job:U,subTree:ie,um:Q,m:se,a:q}=w;h1(se),h1(q),V&&Uc(V),L.stop(),U&&(U.flags|=8,te(ie,w,_,x)),Q&&or(Q,_),or(()=>{w.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},it=(w,_,x,V=!1,L=!1,U=0)=>{for(let ie=U;ie<w.length;ie++)te(w[ie],_,x,V,L)},N=w=>{if(w.shapeFlag&6)return N(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const _=f(w.anchor||w.el),x=_&&_[cE];return x?f(x):_};let J=!1;const D=(w,_,x)=>{w==null?_._vnode&&te(_._vnode,null,null,!0):p(_._vnode||null,w,_,null,null,null,x),_._vnode=w,J||(J=!0,r1(),oE(),J=!1)},M={p,um:te,m:_e,r:Ie,mt:me,mc:E,pc:oe,pbc:O,n:N,o:t};let W,ae;return{render:D,hydrate:W,createApp:J3(D,W)}}function Ch({type:t,props:r},e){return e==="svg"&&t==="foreignObject"||e==="mathml"&&t==="annotation-xml"&&r&&r.encoding&&r.encoding.includes("html")?void 0:e}function na({effect:t,job:r},e){e?(t.flags|=32,r.flags|=4):(t.flags&=-33,r.flags&=-5)}function uM(t,r){return(!t||t&&!t.pendingBranch)&&r&&!r.persisted}function Yy(t,r,e=!1){const n=t.children,i=r.children;if($e(n)&&$e(i))for(let a=0;a<n.length;a++){const s=n[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=ki(i[a]),o.el=s.el),!e&&o.patchFlag!==-2&&Yy(s,o)),o.type===ff&&(o.el=s.el)}}function cM(t){const r=t.slice(),e=[0];let n,i,a,s,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=e[e.length-1],t[i]<u){r[n]=i,e.push(n);continue}for(a=0,s=e.length-1;a<s;)o=a+s>>1,t[e[o]]<u?a=o+1:s=o;u<t[e[a]]&&(a>0&&(r[n]=e[a-1]),e[a]=n)}}for(a=e.length,s=e[a-1];a-- >0;)e[a]=s,s=r[s];return e}function BE(t){const r=t.subTree.component;if(r)return r.asyncDep&&!r.asyncResolved?r:BE(r)}function h1(t){if(t)for(let r=0;r<t.length;r++)t[r].flags|=8}const dM=Symbol.for("v-scx"),fM=()=>Dn(dM);function hM(t,r){return Xy(t,null,r)}function wt(t,r,e){return Xy(t,r,e)}function Xy(t,r,e=st){const{immediate:n,deep:i,flush:a,once:s}=e,o=Mt({},e),l=r&&n||!r&&a!=="post";let u;if(Rl){if(a==="sync"){const h=fM();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Mn,h.resume=Mn,h.pause=Mn,h}}const c=jt;o.call=(h,v,p)=>gn(h,c,v,p);let d=!1;a==="post"?o.scheduler=h=>{or(h,c&&c.suspense)}:a!=="sync"&&(d=!0,o.scheduler=(h,v)=>{v?h():Gy(h)}),o.augmentJob=h=>{r&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=k3(t,r,o);return Rl&&(u?u.push(f):l&&f()),f}function vM(t,r,e){const n=this.proxy,i=yt(t)?t.includes(".")?NE(n,t):()=>n[t]:t.bind(n,n);let a;Re(r)?a=r:(a=r.handler,e=r);const s=nu(this),o=Xy(i,a.bind(n),e);return s(),o}function NE(t,r){const e=r.split(".");return()=>{let n=t;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}const pM=(t,r)=>r==="modelValue"||r==="model-value"?t.modelModifiers:t[`${r}Modifiers`]||t[`${tn(r)}Modifiers`]||t[`${Ha(r)}Modifiers`];function gM(t,r,...e){if(t.isUnmounted)return;const n=t.vnode.props||st;let i=e;const a=r.startsWith("update:"),s=a&&pM(n,r.slice(7));s&&(s.trim&&(i=e.map(c=>yt(c)?c.trim():c)),s.number&&(i=e.map(Qp)));let o,l=n[o=wh(r)]||n[o=wh(tn(r))];!l&&a&&(l=n[o=wh(Ha(r))]),l&&gn(l,t,6,i);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,gn(u,t,6,i)}}function LE(t,r,e=!1){const n=r.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let s={},o=!1;if(!Re(t)){const l=u=>{const c=LE(u,r,!0);c&&(o=!0,Mt(s,c))};!e&&r.mixins.length&&r.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!o?(lt(t)&&n.set(t,null),null):($e(a)?a.forEach(l=>s[l]=null):Mt(s,a),lt(t)&&n.set(t,s),s)}function df(t,r){return!t||!ef(r)?!1:(r=r.slice(2).replace(/Once$/,""),Ke(t,r[0].toLowerCase()+r.slice(1))||Ke(t,Ha(r))||Ke(t,r))}function Ih(t){const{type:r,vnode:e,proxy:n,withProxy:i,propsOptions:[a],slots:s,attrs:o,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:v,inheritAttrs:p}=t,m=bd(t);let y,b;try{if(e.shapeFlag&4){const $=i||n,k=$;y=Tn(u.call(k,$,c,d,h,f,v)),b=o}else{const $=r;y=Tn($.length>1?$(d,{attrs:o,slots:s,emit:l}):$(d,null)),b=r.props?o:yM(o)}}catch($){ul.length=0,lf($,t,1),y=Pe(hr)}let A=y;if(b&&p!==!1){const $=Object.keys(b),{shapeFlag:k}=A;$.length&&k&7&&(a&&$.some(My)&&(b=mM(b,a)),A=ji(A,b,!1,!0))}return e.dirs&&(A=ji(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(e.dirs):e.dirs),e.transition&&Il(A,e.transition),y=A,bd(m),y}const yM=t=>{let r;for(const e in t)(e==="class"||e==="style"||ef(e))&&((r||(r={}))[e]=t[e]);return r},mM=(t,r)=>{const e={};for(const n in t)(!My(n)||!(n.slice(9)in r))&&(e[n]=t[n]);return e};function bM(t,r,e){const{props:n,children:i,component:a}=t,{props:s,children:o,patchFlag:l}=r,u=a.emitsOptions;if(r.dirs||r.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?v1(n,s,u):!!s;if(l&8){const c=r.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==n[f]&&!df(u,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?v1(n,s,u):!0:!!s;return!1}function v1(t,r,e){const n=Object.keys(r);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(r[a]!==t[a]&&!df(e,a))return!0}return!1}function $M({vnode:t,parent:r},e){for(;r;){const n=r.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=r.vnode).el=e,r=r.parent;else break}}const jE=t=>t.__isSuspense;function AM(t,r){r&&r.pendingBranch?$e(t)?r.effects.push(...t):r.effects.push(t):O3(t)}const he=Symbol.for("v-fgt"),ff=Symbol.for("v-txt"),hr=Symbol.for("v-cmt"),qc=Symbol.for("v-stc"),ul=[];let Nr=null;function I(t=!1){ul.push(Nr=t?null:[])}function wM(){ul.pop(),Nr=ul[ul.length-1]||null}let Pl=1;function p1(t,r=!1){Pl+=t,t<0&&Nr&&r&&(Nr.hasOnce=!0)}function zE(t){return t.dynamicChildren=Pl>0?Nr||Bs:null,wM(),Pl>0&&Nr&&Nr.push(t),t}function R(t,r,e,n,i,a){return zE(g(t,r,e,n,i,a,!0))}function vr(t,r,e,n,i){return zE(Pe(t,r,e,n,i,!0))}function xl(t){return t?t.__v_isVNode===!0:!1}function ua(t,r){return t.type===r.type&&t.key===r.key}const HE=({key:t})=>t??null,Yc=({ref:t,ref_key:r,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?yt(t)||At(t)||Re(t)?{i:Bt,r:t,k:r,f:!!e}:t:null);function g(t,r=null,e=null,n=0,i=null,a=t===he?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&HE(r),ref:r&&Yc(r),scopeId:uE,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Bt};return o?(Zy(l,e),a&128&&t.normalize(l)):e&&(l.shapeFlag|=yt(e)?8:16),Pl>0&&!s&&Nr&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Nr.push(l),l}const Pe=_M;function _M(t,r=null,e=null,n=0,i=null,a=!1){if((!t||t===_E)&&(t=hr),xl(t)){const o=ji(t,r,!0);return e&&Zy(o,e),Pl>0&&!a&&Nr&&(o.shapeFlag&6?Nr[Nr.indexOf(t)]=o:Nr.push(o)),o.patchFlag=-2,o}if(RM(t)&&(t=t.__vccOpts),r){r=SM(r);let{class:o,style:l}=r;o&&!yt(o)&&(r.class=Me(o)),lt(l)&&(Vy(l)&&!$e(l)&&(l=Mt({},l)),r.style=er(l))}const s=yt(t)?1:jE(t)?128:dE(t)?64:lt(t)?4:Re(t)?2:0;return g(t,r,e,n,i,s,a,!0)}function SM(t){return t?Vy(t)||IE(t)?Mt({},t):t:null}function ji(t,r,e=!1,n=!1){const{props:i,ref:a,patchFlag:s,children:o,transition:l}=t,u=r?VE(i||{},r):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&HE(u),ref:r&&r.ref?e&&a?$e(a)?a.concat(Yc(r)):[a,Yc(r)]:Yc(r):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==he?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ji(t.ssContent),ssFallback:t.ssFallback&&ji(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Il(c,l.clone(c)),c}function It(t=" ",r=0){return Pe(ff,null,t,r)}function WE(t,r){const e=Pe(qc,null,t);return e.staticCount=r,e}function De(t="",r=!1){return r?(I(),vr(hr,null,t)):Pe(hr,null,t)}function Tn(t){return t==null||typeof t=="boolean"?Pe(hr):$e(t)?Pe(he,null,t.slice()):xl(t)?ki(t):Pe(ff,null,String(t))}function ki(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ji(t)}function Zy(t,r){let e=0;const{shapeFlag:n}=t;if(r==null)r=null;else if($e(r))e=16;else if(typeof r=="object")if(n&65){const i=r.default;i&&(i._c&&(i._d=!1),Zy(t,i()),i._c&&(i._d=!0));return}else{e=32;const i=r._;!i&&!IE(r)?r._ctx=Bt:i===3&&Bt&&(Bt.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else Re(r)?(r={default:r,_ctx:Bt},e=32):(r=String(r),n&64?(e=16,r=[It(r)]):e=8);t.children=r,t.shapeFlag|=e}function VE(...t){const r={};for(let e=0;e<t.length;e++){const n=t[e];for(const i in n)if(i==="class")r.class!==n.class&&(r.class=Me([r.class,n.class]));else if(i==="style")r.style=er([r.style,n.style]);else if(ef(i)){const a=r[i],s=n[i];s&&a!==s&&!($e(a)&&a.includes(s))&&(r[i]=a?[].concat(a,s):s)}else i!==""&&(r[i]=n[i])}return r}function An(t,r,e,n=null){gn(t,r,7,[e,n])}const kM=TE();let EM=0;function TM(t,r,e){const n=t.type,i=(r?r.appContext:t.appContext)||kM,a={uid:EM++,vnode:t,type:n,parent:r,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(i.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xE(n,i),emitsOptions:LE(n,i),emit:null,emitted:null,propsDefaults:st,inheritAttrs:n.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=r?r.root:a,a.emit=gM.bind(null,a),t.ce&&t.ce(a),a}let jt=null;const Qy=()=>jt||Bt;let wd,ug;{const t=af(),r=(e,n)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(n),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};wd=r("__VUE_INSTANCE_SETTERS__",e=>jt=e),ug=r("__VUE_SSR_SETTERS__",e=>Rl=e)}const nu=t=>{const r=jt;return wd(t),t.scope.on(),()=>{t.scope.off(),wd(r)}},g1=()=>{jt&&jt.scope.off(),wd(null)};function UE(t){return t.vnode.shapeFlag&4}let Rl=!1;function OM(t,r=!1,e=!1){r&&ug(r);const{props:n,children:i}=t.vnode,a=UE(t);tM(t,n,a,r),aM(t,i,e);const s=a?CM(t,r):void 0;return r&&ug(!1),s}function CM(t,r){const e=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,G3);const{setup:n}=e;if(n){Ui();const i=t.setupContext=n.length>1?PM(t):null,a=nu(t),s=ru(n,t,0,[t.props,i]),o=Ik(s);if(Gi(),a(),(o||t.sp)&&!js(t)&&$E(t),o){if(s.then(g1,g1),r)return s.then(l=>{y1(t,l,r)}).catch(l=>{lf(l,t,0)});t.asyncDep=s}else y1(t,s,r)}else GE(t,r)}function y1(t,r,e){Re(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:lt(r)&&(t.setupState=iE(r)),GE(t,e)}let m1;function GE(t,r,e){const n=t.type;if(!t.render){if(!r&&m1&&!n.render){const i=n.template||Ky(t).template;if(i){const{isCustomElement:a,compilerOptions:s}=t.appContext.config,{delimiters:o,compilerOptions:l}=n,u=Mt(Mt({isCustomElement:a,delimiters:o},s),l);n.render=m1(i,u)}}t.render=n.render||Mn}{const i=nu(t);Ui();try{K3(t)}finally{Gi(),i()}}}const IM={get(t,r){return nr(t,"get",""),t[r]}};function PM(t){const r=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,IM),slots:t.slots,emit:t.emit,expose:r}}function hf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(iE(Uy(t.exposed)),{get(r,e){if(e in r)return r[e];if(e in ll)return ll[e](t)},has(r,e){return e in r||e in ll}})):t.proxy}function xM(t,r=!0){return Re(t)?t.displayName||t.name:t.name||r&&t.__name}function RM(t){return Re(t)&&"__vccOpts"in t}const ce=(t,r)=>_3(t,r,Rl);function Cn(t,r,e){const n=arguments.length;return n===2?lt(r)&&!$e(r)?xl(r)?Pe(t,null,[r]):Pe(t,r):Pe(t,null,r):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&xl(e)&&(e=[e]),Pe(t,r,e))}const MM="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cg;const b1=typeof window<"u"&&window.trustedTypes;if(b1)try{cg=b1.createPolicy("vue",{createHTML:t=>t})}catch{}const KE=cg?t=>cg.createHTML(t):t=>t,DM="http://www.w3.org/2000/svg",FM="http://www.w3.org/1998/Math/MathML",Kn=typeof document<"u"?document:null,$1=Kn&&Kn.createElement("template"),BM={insert:(t,r,e)=>{r.insertBefore(t,e||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,e,n)=>{const i=r==="svg"?Kn.createElementNS(DM,t):r==="mathml"?Kn.createElementNS(FM,t):e?Kn.createElement(t,{is:e}):Kn.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Kn.createTextNode(t),createComment:t=>Kn.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Kn.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},insertStaticContent(t,r,e,n,i,a){const s=e?e.previousSibling:r.lastChild;if(i&&(i===a||i.nextSibling))for(;r.insertBefore(i.cloneNode(!0),e),!(i===a||!(i=i.nextSibling)););else{$1.innerHTML=KE(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const o=$1.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}r.insertBefore(o,e)}return[s?s.nextSibling:r.firstChild,e?e.previousSibling:r.lastChild]}},gi="transition",zo="animation",Ml=Symbol("_vtc"),qE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},NM=Mt({},pE,qE),LM=t=>(t.displayName="Transition",t.props=NM,t),Jy=LM((t,{slots:r})=>Cn(x3,jM(t),r)),ia=(t,r=[])=>{$e(t)?t.forEach(e=>e(...r)):t&&t(...r)},A1=t=>t?$e(t)?t.some(r=>r.length>1):t.length>1:!1;function jM(t){const r={};for(const j in t)j in qE||(r[j]=t[j]);if(t.css===!1)return r;const{name:e="v",type:n,duration:i,enterFromClass:a=`${e}-enter-from`,enterActiveClass:s=`${e}-enter-active`,enterToClass:o=`${e}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:d=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:h=`${e}-leave-to`}=t,v=zM(i),p=v&&v[0],m=v&&v[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:A,onLeave:$,onLeaveCancelled:k,onBeforeAppear:C=y,onAppear:T=b,onAppearCancelled:E=A}=r,S=(j,K,me,Ee)=>{j._enterCancelled=Ee,aa(j,K?c:o),aa(j,K?u:s),me&&me()},O=(j,K)=>{j._isLeaving=!1,aa(j,d),aa(j,h),aa(j,f),K&&K()},P=j=>(K,me)=>{const Ee=j?T:b,z=()=>S(K,j,me);ia(Ee,[K,z]),w1(()=>{aa(K,j?l:a),Un(K,j?c:o),A1(Ee)||_1(K,n,p,z)})};return Mt(r,{onBeforeEnter(j){ia(y,[j]),Un(j,a),Un(j,s)},onBeforeAppear(j){ia(C,[j]),Un(j,l),Un(j,u)},onEnter:P(!1),onAppear:P(!0),onLeave(j,K){j._isLeaving=!0;const me=()=>O(j,K);Un(j,d),j._enterCancelled?(Un(j,f),E1()):(E1(),Un(j,f)),w1(()=>{j._isLeaving&&(aa(j,d),Un(j,h),A1($)||_1(j,n,m,me))}),ia($,[j,me])},onEnterCancelled(j){S(j,!1,void 0,!0),ia(A,[j])},onAppearCancelled(j){S(j,!0,void 0,!0),ia(E,[j])},onLeaveCancelled(j){O(j),ia(k,[j])}})}function zM(t){if(t==null)return null;if(lt(t))return[Ph(t.enter),Ph(t.leave)];{const r=Ph(t);return[r,r]}}function Ph(t){return WR(t)}function Un(t,r){r.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t[Ml]||(t[Ml]=new Set)).add(r)}function aa(t,r){r.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const e=t[Ml];e&&(e.delete(r),e.size||(t[Ml]=void 0))}function w1(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let HM=0;function _1(t,r,e,n){const i=t._endId=++HM,a=()=>{i===t._endId&&n()};if(e!=null)return setTimeout(a,e);const{type:s,timeout:o,propCount:l}=WM(t,r);if(!s)return n();const u=s+"end";let c=0;const d=()=>{t.removeEventListener(u,f),a()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),t.addEventListener(u,f)}function WM(t,r){const e=window.getComputedStyle(t),n=v=>(e[v]||"").split(", "),i=n(`${gi}Delay`),a=n(`${gi}Duration`),s=S1(i,a),o=n(`${zo}Delay`),l=n(`${zo}Duration`),u=S1(o,l);let c=null,d=0,f=0;r===gi?s>0&&(c=gi,d=s,f=a.length):r===zo?u>0&&(c=zo,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?gi:zo:null,f=c?c===gi?a.length:l.length:0);const h=c===gi&&/\b(transform|all)(,|$)/.test(n(`${gi}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function S1(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((e,n)=>k1(e)+k1(t[n])))}function k1(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function E1(){return document.body.offsetHeight}function VM(t,r,e){const n=t[Ml];n&&(r=(r?[r,...n]:[...n]).join(" ")),r==null?t.removeAttribute("class"):e?t.setAttribute("class",r):t.className=r}const _d=Symbol("_vod"),YE=Symbol("_vsh"),em={beforeMount(t,{value:r},{transition:e}){t[_d]=t.style.display==="none"?"":t.style.display,e&&r?e.beforeEnter(t):Ho(t,r)},mounted(t,{value:r},{transition:e}){e&&r&&e.enter(t)},updated(t,{value:r,oldValue:e},{transition:n}){!r!=!e&&(n?r?(n.beforeEnter(t),Ho(t,!0),n.enter(t)):n.leave(t,()=>{Ho(t,!1)}):Ho(t,r))},beforeUnmount(t,{value:r}){Ho(t,r)}};function Ho(t,r){t.style.display=r?t[_d]:"none",t[YE]=!r}const UM=Symbol(""),GM=/(^|;)\s*display\s*:/;function KM(t,r,e){const n=t.style,i=yt(e);let a=!1;if(e&&!i){if(r)if(yt(r))for(const s of r.split(";")){const o=s.slice(0,s.indexOf(":")).trim();e[o]==null&&Xc(n,o,"")}else for(const s in r)e[s]==null&&Xc(n,s,"");for(const s in e)s==="display"&&(a=!0),Xc(n,s,e[s])}else if(i){if(r!==e){const s=n[UM];s&&(e+=";"+s),n.cssText=e,a=GM.test(e)}}else r&&t.removeAttribute("style");_d in t&&(t[_d]=a?n.display:"",t[YE]&&(n.display="none"))}const T1=/\s*!important$/;function Xc(t,r,e){if($e(e))e.forEach(n=>Xc(t,r,n));else if(e==null&&(e=""),r.startsWith("--"))t.setProperty(r,e);else{const n=qM(t,r);T1.test(e)?t.setProperty(Ha(n),e.replace(T1,""),"important"):t[n]=e}}const O1=["Webkit","Moz","ms"],xh={};function qM(t,r){const e=xh[r];if(e)return e;let n=tn(r);if(n!=="filter"&&n in t)return xh[r]=n;n=nf(n);for(let i=0;i<O1.length;i++){const a=O1[i]+n;if(a in t)return xh[r]=a}return r}const C1="http://www.w3.org/1999/xlink";function I1(t,r,e,n,i,a=YR(r)){n&&r.startsWith("xlink:")?e==null?t.removeAttributeNS(C1,r.slice(6,r.length)):t.setAttributeNS(C1,r,e):e==null||a&&!Mk(e)?t.removeAttribute(r):t.setAttribute(r,a?"":pn(e)?String(e):e)}function P1(t,r,e,n,i){if(r==="innerHTML"||r==="textContent"){e!=null&&(t[r]=r==="innerHTML"?KE(e):e);return}const a=t.tagName;if(r==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?t.getAttribute("value")||"":t.value,l=e==null?t.type==="checkbox"?"on":"":String(e);(o!==l||!("_value"in t))&&(t.value=l),e==null&&t.removeAttribute(r),t._value=e;return}let s=!1;if(e===""||e==null){const o=typeof t[r];o==="boolean"?e=Mk(e):e==null&&o==="string"?(e="",s=!0):o==="number"&&(e=0,s=!0)}try{t[r]=e}catch{}s&&t.removeAttribute(i||r)}function ca(t,r,e,n){t.addEventListener(r,e,n)}function YM(t,r,e,n){t.removeEventListener(r,e,n)}const x1=Symbol("_vei");function XM(t,r,e,n,i=null){const a=t[x1]||(t[x1]={}),s=a[r];if(n&&s)s.value=n;else{const[o,l]=ZM(r);if(n){const u=a[r]=eD(n,i);ca(t,o,u,l)}else s&&(YM(t,o,s,l),a[r]=void 0)}}const R1=/(?:Once|Passive|Capture)$/;function ZM(t){let r;if(R1.test(t)){r={};let n;for(;n=t.match(R1);)t=t.slice(0,t.length-n[0].length),r[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ha(t.slice(2)),r]}let Rh=0;const QM=Promise.resolve(),JM=()=>Rh||(QM.then(()=>Rh=0),Rh=Date.now());function eD(t,r){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;gn(tD(n,e.value),r,5,[n])};return e.value=t,e.attached=JM(),e}function tD(t,r){if($e(r)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},r.map(n=>i=>!i._stopped&&n&&n(i))}else return r}const M1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,rD=(t,r,e,n,i,a)=>{const s=i==="svg";r==="class"?VM(t,n,s):r==="style"?KM(t,e,n):ef(r)?My(r)||XM(t,r,e,n,a):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):nD(t,r,n,s))?(P1(t,r,n),!t.tagName.includes("-")&&(r==="value"||r==="checked"||r==="selected")&&I1(t,r,n,s,a,r!=="value")):t._isVueCE&&(/[A-Z]/.test(r)||!yt(n))?P1(t,tn(r),n,a,r):(r==="true-value"?t._trueValue=n:r==="false-value"&&(t._falseValue=n),I1(t,r,n,s))};function nD(t,r,e,n){if(n)return!!(r==="innerHTML"||r==="textContent"||r in t&&M1(r)&&Re(e));if(r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA")return!1;if(r==="width"||r==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return M1(r)&&yt(e)?!1:r in t}const Sd=t=>{const r=t.props["onUpdate:modelValue"]||!1;return $e(r)?e=>Uc(r,e):r};function iD(t){t.target.composing=!0}function D1(t){const r=t.target;r.composing&&(r.composing=!1,r.dispatchEvent(new Event("input")))}const zs=Symbol("_assign"),F1={created(t,{modifiers:{lazy:r,trim:e,number:n}},i){t[zs]=Sd(i);const a=n||i.props&&i.props.type==="number";ca(t,r?"change":"input",s=>{if(s.target.composing)return;let o=t.value;e&&(o=o.trim()),a&&(o=Qp(o)),t[zs](o)}),e&&ca(t,"change",()=>{t.value=t.value.trim()}),r||(ca(t,"compositionstart",iD),ca(t,"compositionend",D1),ca(t,"change",D1))},mounted(t,{value:r}){t.value=r??""},beforeUpdate(t,{value:r,oldValue:e,modifiers:{lazy:n,trim:i,number:a}},s){if(t[zs]=Sd(s),t.composing)return;const o=(a||t.type==="number")&&!/^0\d/.test(t.value)?Qp(t.value):t.value,l=r??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&r===e||i&&t.value.trim()===l)||(t.value=l))}},aD={deep:!0,created(t,r,e){t[zs]=Sd(e),ca(t,"change",()=>{const n=t._modelValue,i=sD(t),a=t.checked,s=t[zs];if($e(n)){const o=Dk(n,i),l=o!==-1;if(a&&!l)s(n.concat(i));else if(!a&&l){const u=[...n];u.splice(o,1),s(u)}}else if(tf(n)){const o=new Set(n);a?o.add(i):o.delete(i),s(o)}else s(XE(t,a))})},mounted:B1,beforeUpdate(t,r,e){t[zs]=Sd(e),B1(t,r,e)}};function B1(t,{value:r,oldValue:e},n){t._modelValue=r;let i;if($e(r))i=Dk(r,n.props.value)>-1;else if(tf(r))i=r.has(n.props.value);else{if(r===e)return;i=sf(r,XE(t,!0))}t.checked!==i&&(t.checked=i)}function sD(t){return"_value"in t?t._value:t.value}function XE(t,r){const e=r?"_trueValue":"_falseValue";return e in t?t[e]:r}const oD=["ctrl","shift","alt","meta"],lD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,r)=>oD.some(e=>t[`${e}Key`]&&!r.includes(e))},kr=(t,r)=>{const e=t._withMods||(t._withMods={}),n=r.join(".");return e[n]||(e[n]=(i,...a)=>{for(let s=0;s<r.length;s++){const o=lD[r[s]];if(o&&o(i,r))return}return t(i,...a)})},uD=Mt({patchProp:rD},BM);let N1;function cD(){return N1||(N1=oM(uD))}const ZE=(...t)=>{const r=cD().createApp(...t),{mount:e}=r;return r.mount=n=>{const i=fD(n);if(!i)return;const a=r._component;!Re(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=e(i,!1,dD(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},r};function dD(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function fD(t){return yt(t)?document.querySelector(t):t}var hD=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let QE;const vf=t=>QE=t,JE=Symbol();function dg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var cl;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(cl||(cl={}));function vD(){const t=Lk(!0),r=t.run(()=>le({}));let e=[],n=[];const i=Uy({install(a){vf(i),i._a=a,a.provide(JE,i),a.config.globalProperties.$pinia=i,n.forEach(s=>e.push(s)),n=[]},use(a){return!this._a&&!hD?n.push(a):e.push(a),this},_p:e,_a:null,_e:t,_s:new Map,state:r});return i}const eT=()=>{};function L1(t,r,e,n=eT){t.push(r);const i=()=>{const a=t.indexOf(r);a>-1&&(t.splice(a,1),n())};return!e&&By()&&jk(i),i}function ss(t,...r){t.slice().forEach(e=>{e(...r)})}const pD=t=>t(),j1=Symbol(),Mh=Symbol();function fg(t,r){t instanceof Map&&r instanceof Map?r.forEach((e,n)=>t.set(n,e)):t instanceof Set&&r instanceof Set&&r.forEach(t.add,t);for(const e in r){if(!r.hasOwnProperty(e))continue;const n=r[e],i=t[e];dg(i)&&dg(n)&&t.hasOwnProperty(e)&&!At(n)&&!Zn(n)?t[e]=fg(i,n):t[e]=n}return t}const gD=Symbol();function yD(t){return!dg(t)||!t.hasOwnProperty(gD)}const{assign:$i}=Object;function mD(t){return!!(At(t)&&t.effect)}function bD(t,r,e,n){const{state:i,actions:a,getters:s}=r,o=e.state.value[t];let l;function u(){o||(e.state.value[t]=i?i():{});const c=b3(e.state.value[t]);return $i(c,a,Object.keys(s||{}).reduce((d,f)=>(d[f]=Uy(ce(()=>{vf(e);const h=e._s.get(t);return s[f].call(h,h)})),d),{}))}return l=tT(t,u,r,e,n,!0),l}function tT(t,r,e={},n,i,a){let s;const o=$i({actions:{}},e),l={deep:!0};let u,c,d=[],f=[],h;const v=n.state.value[t];!a&&!v&&(n.state.value[t]={}),le({});let p;function m(E){let S;u=c=!1,typeof E=="function"?(E(n.state.value[t]),S={type:cl.patchFunction,storeId:t,events:h}):(fg(n.state.value[t],E),S={type:cl.patchObject,payload:E,storeId:t,events:h});const O=p=Symbol();qs().then(()=>{p===O&&(u=!0)}),c=!0,ss(d,S,n.state.value[t])}const y=a?function(){const{state:S}=e,O=S?S():{};this.$patch(P=>{$i(P,O)})}:eT;function b(){s.stop(),d=[],f=[],n._s.delete(t)}const A=(E,S="")=>{if(j1 in E)return E[Mh]=S,E;const O=function(){vf(n);const P=Array.from(arguments),j=[],K=[];function me(B){j.push(B)}function Ee(B){K.push(B)}ss(f,{args:P,name:O[Mh],store:k,after:me,onError:Ee});let z;try{z=E.apply(this&&this.$id===t?this:k,P)}catch(B){throw ss(K,B),B}return z instanceof Promise?z.then(B=>(ss(j,B),B)).catch(B=>(ss(K,B),Promise.reject(B))):(ss(j,z),z)};return O[j1]=!0,O[Mh]=S,O},$={_p:n,$id:t,$onAction:L1.bind(null,f),$patch:m,$reset:y,$subscribe(E,S={}){const O=L1(d,E,S.detached,()=>P()),P=s.run(()=>wt(()=>n.state.value[t],j=>{(S.flush==="sync"?c:u)&&E({storeId:t,type:cl.direct,events:h},j)},$i({},l,S)));return O},$dispose:b},k=tu($);n._s.set(t,k);const T=(n._a&&n._a.runWithContext||pD)(()=>n._e.run(()=>(s=Lk()).run(()=>r({action:A}))));for(const E in T){const S=T[E];if(At(S)&&!mD(S)||Zn(S))a||(v&&yD(S)&&(At(S)?S.value=v[E]:fg(S,v[E])),n.state.value[t][E]=S);else if(typeof S=="function"){const O=A(S,E);T[E]=O,o.actions[E]=S}}return $i(k,T),$i(je(k),T),Object.defineProperty(k,"$state",{get:()=>n.state.value[t],set:E=>{m(S=>{$i(S,E)})}}),n._p.forEach(E=>{$i(k,s.run(()=>E({store:k,app:n._a,pinia:n,options:o})))}),v&&a&&e.hydrate&&e.hydrate(k.$state,v),u=!0,c=!0,k}/*! #__NO_SIDE_EFFECTS__ */function pf(t,r,e){let n,i;const a=typeof r=="function";typeof t=="string"?(n=t,i=a?e:r):(i=t,n=t.id);function s(o,l){const u=eM();return o=o||(u?Dn(JE,null):null),o&&vf(o),o=QE,o._s.has(n)||(a?tT(n,r,i,o):bD(n,i,o)),o._s.get(n)}return s.$id=n,s}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const $s=typeof document<"u";function rT(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $D(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&rT(t.default)}const Je=Object.assign;function Dh(t,r){const e={};for(const n in r){const i=r[n];e[n]=yn(i)?i.map(t):t(i)}return e}const dl=()=>{},yn=Array.isArray,nT=/#/g,AD=/&/g,wD=/\//g,_D=/=/g,SD=/\?/g,iT=/\+/g,kD=/%5B/g,ED=/%5D/g,aT=/%5E/g,TD=/%60/g,sT=/%7B/g,OD=/%7C/g,oT=/%7D/g,CD=/%20/g;function tm(t){return encodeURI(""+t).replace(OD,"|").replace(kD,"[").replace(ED,"]")}function ID(t){return tm(t).replace(sT,"{").replace(oT,"}").replace(aT,"^")}function hg(t){return tm(t).replace(iT,"%2B").replace(CD,"+").replace(nT,"%23").replace(AD,"%26").replace(TD,"`").replace(sT,"{").replace(oT,"}").replace(aT,"^")}function PD(t){return hg(t).replace(_D,"%3D")}function xD(t){return tm(t).replace(nT,"%23").replace(SD,"%3F")}function RD(t){return t==null?"":xD(t).replace(wD,"%2F")}function Dl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const MD=/\/$/,DD=t=>t.replace(MD,"");function Fh(t,r,e="/"){let n,i={},a="",s="";const o=r.indexOf("#");let l=r.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=r.slice(0,l),a=r.slice(l+1,o>-1?o:r.length),i=t(a)),o>-1&&(n=n||r.slice(0,o),s=r.slice(o,r.length)),n=LD(n??r,e),{fullPath:n+(a&&"?")+a+s,path:n,query:i,hash:Dl(s)}}function FD(t,r){const e=r.query?t(r.query):"";return r.path+(e&&"?")+e+(r.hash||"")}function z1(t,r){return!r||!t.toLowerCase().startsWith(r.toLowerCase())?t:t.slice(r.length)||"/"}function BD(t,r,e){const n=r.matched.length-1,i=e.matched.length-1;return n>-1&&n===i&&Ys(r.matched[n],e.matched[i])&&lT(r.params,e.params)&&t(r.query)===t(e.query)&&r.hash===e.hash}function Ys(t,r){return(t.aliasOf||t)===(r.aliasOf||r)}function lT(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const e in t)if(!ND(t[e],r[e]))return!1;return!0}function ND(t,r){return yn(t)?H1(t,r):yn(r)?H1(r,t):t===r}function H1(t,r){return yn(r)?t.length===r.length&&t.every((e,n)=>e===r[n]):t.length===1&&t[0]===r}function LD(t,r){if(t.startsWith("/"))return t;if(!t)return r;const e=r.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=e.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")a>1&&a--;else break;return e.slice(0,a).join("/")+"/"+n.slice(s).join("/")}const yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fl;(function(t){t.pop="pop",t.push="push"})(Fl||(Fl={}));var fl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fl||(fl={}));function jD(t){if(!t)if($s){const r=document.querySelector("base");t=r&&r.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),DD(t)}const zD=/^[^#]+#/;function HD(t,r){return t.replace(zD,"#")+r}function WD(t,r){const e=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:r.behavior,left:n.left-e.left-(r.left||0),top:n.top-e.top-(r.top||0)}}const gf=()=>({left:window.scrollX,top:window.scrollY});function VD(t){let r;if("el"in t){const e=t.el,n=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?n?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;r=WD(i,t)}else r=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.scrollX,r.top!=null?r.top:window.scrollY)}function W1(t,r){return(history.state?history.state.position-r:-1)+t}const vg=new Map;function UD(t,r){vg.set(t,r)}function GD(t){const r=vg.get(t);return vg.delete(t),r}let KD=()=>location.protocol+"//"+location.host;function uT(t,r){const{pathname:e,search:n,hash:i}=r,a=t.indexOf("#");if(a>-1){let o=i.includes(t.slice(a))?t.slice(a).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),z1(l,"")}return z1(e,t)+n+i}function qD(t,r,e,n){let i=[],a=[],s=null;const o=({state:f})=>{const h=uT(t,location),v=e.value,p=r.value;let m=0;if(f){if(e.value=h,r.value=f,s&&s===v){s=null;return}m=p?f.position-p.position:0}else n(h);i.forEach(y=>{y(e.value,v,{delta:m,type:Fl.pop,direction:m?m>0?fl.forward:fl.back:fl.unknown})})};function l(){s=e.value}function u(f){i.push(f);const h=()=>{const v=i.indexOf(f);v>-1&&i.splice(v,1)};return a.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Je({},f.state,{scroll:gf()}),"")}function d(){for(const f of a)f();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function V1(t,r,e,n=!1,i=!1){return{back:t,current:r,forward:e,replaced:n,position:window.history.length,scroll:i?gf():null}}function YD(t){const{history:r,location:e}=window,n={value:uT(t,e)},i={value:r.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const d=t.indexOf("#"),f=d>-1?(e.host&&document.querySelector("base")?t:t.slice(d))+l:KD()+t+l;try{r[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),e[c?"replace":"assign"](f)}}function s(l,u){const c=Je({},r.state,V1(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});a(l,c,!0),n.value=l}function o(l,u){const c=Je({},i.value,r.state,{forward:l,scroll:gf()});a(c.current,c,!0);const d=Je({},V1(n.value,l,null),{position:c.position+1},u);a(l,d,!1),n.value=l}return{location:n,state:i,push:o,replace:s}}function XD(t){t=jD(t);const r=YD(t),e=qD(t,r.state,r.location,r.replace);function n(a,s=!0){s||e.pauseListeners(),history.go(a)}const i=Je({location:"",base:t,go:n,createHref:HD.bind(null,t)},r,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>r.state.value}),i}function ZD(t){return typeof t=="string"||t&&typeof t=="object"}function cT(t){return typeof t=="string"||typeof t=="symbol"}const dT=Symbol("");var U1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(U1||(U1={}));function Xs(t,r){return Je(new Error,{type:t,[dT]:!0},r)}function Gn(t,r){return t instanceof Error&&dT in t&&(r==null||!!(t.type&r))}const G1="[^/]+?",QD={sensitive:!1,strict:!1,start:!0,end:!0},JD=/[.+*?^${}()[\]/\\]/g;function eF(t,r){const e=Je({},QD,r),n=[];let i=e.start?"^":"";const a=[];for(const u of t){const c=u.length?[]:[90];e.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(e.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(JD,"\\$&"),h+=40;else if(f.type===1){const{value:v,repeatable:p,optional:m,regexp:y}=f;a.push({name:v,repeatable:p,optional:m});const b=y||G1;if(b!==G1){h+=10;try{new RegExp(`(${b})`)}catch($){throw new Error(`Invalid custom RegExp for param "${v}" (${b}): `+$.message)}}let A=p?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(A=m&&u.length<2?`(?:/${A})`:"/"+A),m&&(A+="?"),i+=A,h+=20,m&&(h+=-8),p&&(h+=-20),b===".*"&&(h+=-50)}c.push(h)}n.push(c)}if(e.strict&&e.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&(i+="(?:/|$)");const s=new RegExp(i,e.sensitive?"":"i");function o(u){const c=u.match(s),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",v=a[f-1];d[v.name]=h&&v.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:v,repeatable:p,optional:m}=h,y=v in u?u[v]:"";if(yn(y)&&!p)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const b=yn(y)?y.join("/"):y;if(!b)if(m)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);c+=b}}return c||"/"}return{re:s,score:n,keys:a,parse:o,stringify:l}}function tF(t,r){let e=0;for(;e<t.length&&e<r.length;){const n=r[e]-t[e];if(n)return n;e++}return t.length<r.length?t.length===1&&t[0]===80?-1:1:t.length>r.length?r.length===1&&r[0]===80?1:-1:0}function fT(t,r){let e=0;const n=t.score,i=r.score;for(;e<n.length&&e<i.length;){const a=tF(n[e],i[e]);if(a)return a;e++}if(Math.abs(i.length-n.length)===1){if(K1(n))return 1;if(K1(i))return-1}return i.length-n.length}function K1(t){const r=t[t.length-1];return t.length>0&&r[r.length-1]<0}const rF={type:0,value:""},nF=/[a-zA-Z0-9_]/;function iF(t){if(!t)return[[]];if(t==="/")return[[rF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function r(h){throw new Error(`ERR (${e})/"${u}": ${h}`)}let e=0,n=e;const i=[];let a;function s(){a&&i.push(a),a=[]}let o=0,l,u="",c="";function d(){u&&(e===0?a.push({type:0,value:u}):e===1||e===2||e===3?(a.length>1&&(l==="*"||l==="+")&&r(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):r("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&e!==2){n=e,e=4;continue}switch(e){case 0:l==="/"?(u&&d(),s()):l===":"?(d(),e=1):f();break;case 4:f(),e=n;break;case 1:l==="("?e=2:nF.test(l)?f():(d(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:e=3:c+=l;break;case 3:d(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:r("Unknown state");break}}return e===2&&r(`Unfinished custom RegExp for param "${u}"`),d(),s(),i}function aF(t,r,e){const n=eF(iF(t.path),e),i=Je(n,{record:t,parent:r,children:[],alias:[]});return r&&!i.record.aliasOf==!r.record.aliasOf&&r.children.push(i),i}function sF(t,r){const e=[],n=new Map;r=Z1({strict:!1,end:!0,sensitive:!1},r);function i(d){return n.get(d)}function a(d,f,h){const v=!h,p=Y1(d);p.aliasOf=h&&h.record;const m=Z1(r,d),y=[p];if("alias"in d){const $=typeof d.alias=="string"?[d.alias]:d.alias;for(const k of $)y.push(Y1(Je({},p,{components:h?h.record.components:p.components,path:k,aliasOf:h?h.record:p})))}let b,A;for(const $ of y){const{path:k}=$;if(f&&k[0]!=="/"){const C=f.record.path,T=C[C.length-1]==="/"?"":"/";$.path=f.record.path+(k&&T+k)}if(b=aF($,f,m),h?h.alias.push(b):(A=A||b,A!==b&&A.alias.push(b),v&&d.name&&!X1(b)&&s(d.name)),hT(b)&&l(b),p.children){const C=p.children;for(let T=0;T<C.length;T++)a(C[T],b,h&&h.children[T])}h=h||b}return A?()=>{s(A)}:dl}function s(d){if(cT(d)){const f=n.get(d);f&&(n.delete(d),e.splice(e.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=e.indexOf(d);f>-1&&(e.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function o(){return e}function l(d){const f=uF(d,e);e.splice(f,0,d),d.record.name&&!X1(d)&&n.set(d.record.name,d)}function u(d,f){let h,v={},p,m;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw Xs(1,{location:d});m=h.record.name,v=Je(q1(f.params,h.keys.filter(A=>!A.optional).concat(h.parent?h.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),d.params&&q1(d.params,h.keys.map(A=>A.name))),p=h.stringify(v)}else if(d.path!=null)p=d.path,h=e.find(A=>A.re.test(p)),h&&(v=h.parse(p),m=h.record.name);else{if(h=f.name?n.get(f.name):e.find(A=>A.re.test(f.path)),!h)throw Xs(1,{location:d,currentLocation:f});m=h.record.name,v=Je({},f.params,d.params),p=h.stringify(v)}const y=[];let b=h;for(;b;)y.unshift(b.record),b=b.parent;return{name:m,path:p,params:v,matched:y,meta:lF(y)}}t.forEach(d=>a(d));function c(){e.length=0,n.clear()}return{addRoute:a,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:i}}function q1(t,r){const e={};for(const n of r)n in t&&(e[n]=t[n]);return e}function Y1(t){const r={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:oF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(r,"mods",{value:{}}),r}function oF(t){const r={},e=t.props||!1;if("component"in t)r.default=e;else for(const n in t.components)r[n]=typeof e=="object"?e[n]:e;return r}function X1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lF(t){return t.reduce((r,e)=>Je(r,e.meta),{})}function Z1(t,r){const e={};for(const n in t)e[n]=n in r?r[n]:t[n];return e}function uF(t,r){let e=0,n=r.length;for(;e!==n;){const a=e+n>>1;fT(t,r[a])<0?n=a:e=a+1}const i=cF(t);return i&&(n=r.lastIndexOf(i,n-1)),n}function cF(t){let r=t;for(;r=r.parent;)if(hT(r)&&fT(t,r)===0)return r}function hT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function dF(t){const r={};if(t===""||t==="?")return r;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const a=n[i].replace(iT," "),s=a.indexOf("="),o=Dl(s<0?a:a.slice(0,s)),l=s<0?null:Dl(a.slice(s+1));if(o in r){let u=r[o];yn(u)||(u=r[o]=[u]),u.push(l)}else r[o]=l}return r}function Q1(t){let r="";for(let e in t){const n=t[e];if(e=PD(e),n==null){n!==void 0&&(r+=(r.length?"&":"")+e);continue}(yn(n)?n.map(a=>a&&hg(a)):[n&&hg(n)]).forEach(a=>{a!==void 0&&(r+=(r.length?"&":"")+e,a!=null&&(r+="="+a))})}return r}function fF(t){const r={};for(const e in t){const n=t[e];n!==void 0&&(r[e]=yn(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return r}const hF=Symbol(""),J1=Symbol(""),rm=Symbol(""),vT=Symbol(""),pg=Symbol("");function Wo(){let t=[];function r(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function e(){t=[]}return{add:r,list:()=>t.slice(),reset:e}}function Ei(t,r,e,n,i,a=s=>s()){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(Xs(4,{from:e,to:r})):f instanceof Error?l(f):ZD(f)?l(Xs(2,{from:r,to:f})):(s&&n.enterCallbacks[i]===s&&typeof f=="function"&&s.push(f),o())},c=a(()=>t.call(n&&n.instances[i],r,e,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Bh(t,r,e,n,i=a=>a()){const a=[];for(const s of t)for(const o in s.components){let l=s.components[o];if(!(r!=="beforeRouteEnter"&&!s.instances[o]))if(rT(l)){const c=(l.__vccOpts||l)[r];c&&a.push(Ei(c,e,n,s,o,i))}else{let u=l();a.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const d=$D(c)?c.default:c;s.mods[o]=c,s.components[o]=d;const h=(d.__vccOpts||d)[r];return h&&Ei(h,e,n,s,o,i)()}))}}return a}function e$(t){const r=Dn(rm),e=Dn(vT),n=ce(()=>{const l=ue(t.to);return r.resolve(l)}),i=ce(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],d=e.matched;if(!c||!d.length)return-1;const f=d.findIndex(Ys.bind(null,c));if(f>-1)return f;const h=t$(l[u-2]);return u>1&&t$(c)===h&&d[d.length-1].path!==h?d.findIndex(Ys.bind(null,l[u-2])):f}),a=ce(()=>i.value>-1&&gF(e.params,n.value.params)),s=ce(()=>i.value>-1&&i.value===e.matched.length-1&&lT(e.params,n.value.params));function o(l={}){return pF(l)?r[ue(t.replace)?"replace":"push"](ue(t.to)).catch(dl):Promise.resolve()}return{route:n,href:ce(()=>n.value.href),isActive:a,isExactActive:s,navigate:o}}const vF=qe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:e$,setup(t,{slots:r}){const e=tu(e$(t)),{options:n}=Dn(rm),i=ce(()=>({[r$(t.activeClass,n.linkActiveClass,"router-link-active")]:e.isActive,[r$(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const a=r.default&&r.default(e);return t.custom?a:Cn("a",{"aria-current":e.isExactActive?t.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},a)}}}),As=vF;function pF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const r=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return t.preventDefault&&t.preventDefault(),!0}}function gF(t,r){for(const e in r){const n=r[e],i=t[e];if(typeof n=="string"){if(n!==i)return!1}else if(!yn(i)||i.length!==n.length||n.some((a,s)=>a!==i[s]))return!1}return!0}function t$(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const r$=(t,r,e)=>t??r??e,yF=qe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:r,slots:e}){const n=Dn(pg),i=ce(()=>t.route||n.value),a=Dn(J1,0),s=ce(()=>{let u=ue(a);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=ce(()=>i.value.matched[s.value]);Kc(J1,ce(()=>s.value+1)),Kc(hF,o),Kc(pg,i);const l=le();return wt(()=>[l.value,o.value,t.name],([u,c,d],[f,h,v])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Ys(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=o.value,f=d&&d.components[c];if(!f)return n$(e.default,{Component:f,route:u});const h=d.props[c],v=h?h===!0?u.params:typeof h=="function"?h(u):h:null,m=Cn(f,Je({},v,r,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return n$(e.default,{Component:m,route:u})||m}}});function n$(t,r){if(!t)return null;const e=t(r);return e.length===1?e[0]:e}const pT=yF;function mF(t){const r=sF(t.routes,t),e=t.parseQuery||dF,n=t.stringifyQuery||Q1,i=t.history,a=Wo(),s=Wo(),o=Wo(),l=g3(yi);let u=yi;$s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Dh.bind(null,N=>""+N),d=Dh.bind(null,RD),f=Dh.bind(null,Dl);function h(N,J){let D,M;return cT(N)?(D=r.getRecordMatcher(N),M=J):M=N,r.addRoute(M,D)}function v(N){const J=r.getRecordMatcher(N);J&&r.removeRoute(J)}function p(){return r.getRoutes().map(N=>N.record)}function m(N){return!!r.getRecordMatcher(N)}function y(N,J){if(J=Je({},J||l.value),typeof N=="string"){const _=Fh(e,N,J.path),x=r.resolve({path:_.path},J),V=i.createHref(_.fullPath);return Je(_,x,{params:f(x.params),hash:Dl(_.hash),redirectedFrom:void 0,href:V})}let D;if(N.path!=null)D=Je({},N,{path:Fh(e,N.path,J.path).path});else{const _=Je({},N.params);for(const x in _)_[x]==null&&delete _[x];D=Je({},N,{params:d(_)}),J.params=d(J.params)}const M=r.resolve(D,J),W=N.hash||"";M.params=c(f(M.params));const ae=FD(n,Je({},N,{hash:ID(W),path:M.path})),w=i.createHref(ae);return Je({fullPath:ae,hash:W,query:n===Q1?fF(N.query):N.query||{}},M,{redirectedFrom:void 0,href:w})}function b(N){return typeof N=="string"?Fh(e,N,l.value.path):Je({},N)}function A(N,J){if(u!==N)return Xs(8,{from:J,to:N})}function $(N){return T(N)}function k(N){return $(Je(b(N),{replace:!0}))}function C(N){const J=N.matched[N.matched.length-1];if(J&&J.redirect){const{redirect:D}=J;let M=typeof D=="function"?D(N):D;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=b(M):{path:M},M.params={}),Je({query:N.query,hash:N.hash,params:M.path!=null?{}:N.params},M)}}function T(N,J){const D=u=y(N),M=l.value,W=N.state,ae=N.force,w=N.replace===!0,_=C(D);if(_)return T(Je(b(_),{state:typeof _=="object"?Je({},W,_.state):W,force:ae,replace:w}),J||D);const x=D;x.redirectedFrom=J;let V;return!ae&&BD(n,M,D)&&(V=Xs(16,{to:x,from:M}),_e(M,M,!0,!1)),(V?Promise.resolve(V):O(x,M)).catch(L=>Gn(L)?Gn(L,2)?L:Ae(L):oe(L,x,M)).then(L=>{if(L){if(Gn(L,2))return T(Je({replace:w},b(L.to),{state:typeof L.to=="object"?Je({},W,L.to.state):W,force:ae}),J||x)}else L=j(x,M,!0,w,W);return P(x,M,L),L})}function E(N,J){const D=A(N,J);return D?Promise.reject(D):Promise.resolve()}function S(N){const J=Ne.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(N):N()}function O(N,J){let D;const[M,W,ae]=bF(N,J);D=Bh(M.reverse(),"beforeRouteLeave",N,J);for(const _ of M)_.leaveGuards.forEach(x=>{D.push(Ei(x,N,J))});const w=E.bind(null,N,J);return D.push(w),it(D).then(()=>{D=[];for(const _ of a.list())D.push(Ei(_,N,J));return D.push(w),it(D)}).then(()=>{D=Bh(W,"beforeRouteUpdate",N,J);for(const _ of W)_.updateGuards.forEach(x=>{D.push(Ei(x,N,J))});return D.push(w),it(D)}).then(()=>{D=[];for(const _ of ae)if(_.beforeEnter)if(yn(_.beforeEnter))for(const x of _.beforeEnter)D.push(Ei(x,N,J));else D.push(Ei(_.beforeEnter,N,J));return D.push(w),it(D)}).then(()=>(N.matched.forEach(_=>_.enterCallbacks={}),D=Bh(ae,"beforeRouteEnter",N,J,S),D.push(w),it(D))).then(()=>{D=[];for(const _ of s.list())D.push(Ei(_,N,J));return D.push(w),it(D)}).catch(_=>Gn(_,8)?_:Promise.reject(_))}function P(N,J,D){o.list().forEach(M=>S(()=>M(N,J,D)))}function j(N,J,D,M,W){const ae=A(N,J);if(ae)return ae;const w=J===yi,_=$s?history.state:{};D&&(M||w?i.replace(N.fullPath,Je({scroll:w&&_&&_.scroll},W)):i.push(N.fullPath,W)),l.value=N,_e(N,J,D,w),Ae()}let K;function me(){K||(K=i.listen((N,J,D)=>{if(!Ze.listening)return;const M=y(N),W=C(M);if(W){T(Je(W,{replace:!0}),M).catch(dl);return}u=M;const ae=l.value;$s&&UD(W1(ae.fullPath,D.delta),gf()),O(M,ae).catch(w=>Gn(w,12)?w:Gn(w,2)?(T(w.to,M).then(_=>{Gn(_,20)&&!D.delta&&D.type===Fl.pop&&i.go(-1,!1)}).catch(dl),Promise.reject()):(D.delta&&i.go(-D.delta,!1),oe(w,M,ae))).then(w=>{w=w||j(M,ae,!1),w&&(D.delta&&!Gn(w,8)?i.go(-D.delta,!1):D.type===Fl.pop&&Gn(w,20)&&i.go(-1,!1)),P(M,ae,w)}).catch(dl)}))}let Ee=Wo(),z=Wo(),B;function oe(N,J,D){Ae(N);const M=z.list();return M.length?M.forEach(W=>W(N,J,D)):console.error(N),Promise.reject(N)}function de(){return B&&l.value!==yi?Promise.resolve():new Promise((N,J)=>{Ee.add([N,J])})}function Ae(N){return B||(B=!N,me(),Ee.list().forEach(([J,D])=>N?D(N):J()),Ee.reset()),N}function _e(N,J,D,M){const{scrollBehavior:W}=t;if(!$s||!W)return Promise.resolve();const ae=!D&&GD(W1(N.fullPath,0))||(M||!D)&&history.state&&history.state.scroll||null;return qs().then(()=>W(N,J,ae)).then(w=>w&&VD(w)).catch(w=>oe(w,N,J))}const te=N=>i.go(N);let Ie;const Ne=new Set,Ze={currentRoute:l,listening:!0,addRoute:h,removeRoute:v,clearRoutes:r.clearRoutes,hasRoute:m,getRoutes:p,resolve:y,options:t,push:$,replace:k,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:z.add,isReady:de,install(N){const J=this;N.component("RouterLink",As),N.component("RouterView",pT),N.config.globalProperties.$router=J,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(l)}),$s&&!Ie&&l.value===yi&&(Ie=!0,$(i.location).catch(W=>{}));const D={};for(const W in yi)Object.defineProperty(D,W,{get:()=>l.value[W],enumerable:!0});N.provide(rm,J),N.provide(vT,tE(D)),N.provide(pg,l);const M=N.unmount;Ne.add(N),N.unmount=function(){Ne.delete(N),Ne.size<1&&(u=yi,K&&K(),K=null,l.value=yi,Ie=!1,B=!1),M()}}};function it(N){return N.reduce((J,D)=>J.then(()=>S(D)),Promise.resolve())}return Ze}function bF(t,r){const e=[],n=[],i=[],a=Math.max(r.matched.length,t.matched.length);for(let s=0;s<a;s++){const o=r.matched[s];o&&(t.matched.find(u=>Ys(u,o))?n.push(o):e.push(o));const l=t.matched[s];l&&(r.matched.find(u=>Ys(u,l))||i.push(l))}return[e,n,i]}const oi=pf("characterDetail",{state:()=>({currentChar:null,currentFile:null,currentContentType:null}),actions:{showCharacter(t){this.currentChar=t},hideCharacter(){this.currentChar=null,this.currentFile=null,this.currentContentType=null},showFile(t){console.log("showFile",t),this.currentFile=t,this.currentContentType=t.displayType??t.type},closeFile(){this.currentFile=null,this.currentContentType=null}}});var Z=(t=>(t.CHARACTER="character",t.DOCUMENT="document",t.EVENT="event",t.LOCATION="location",t.MEDIA="media",t.NOTE="note",t.GALLERY="gallery",t.EBOOK="ebook",t.LOCATION_POINT="location-point",t))(Z||{});const $F=[{id:1,name:"神祁"},{id:2,name:"天界生物"},{id:3,name:"主位面生物"}],AF=[{id:1,name:"天使"},{id:2,name:"魔鬼"},{id:3,name:"精灵"},{id:4,name:"人类"},{id:5,name:"提夫林"},{id:6,name:"阿斯莫"},{id:7,name:"半精灵"},{id:8,name:"荒神"},{id:9,name:"羽蛇"},{id:10,name:"神侍"},{id:11,name:"至高天"}],Ln=[{id:1,type:Z.CHARACTER,name:"Mja",realm:2,race:1,background:1,path:"/static/token/mja.png",references:{characters:[{id:2,label:"结婚",edgeType:1},{id:7,label:"同事",edgeType:2},{id:18,label:"友人",edgeType:2},{id:11,label:"父神",edgeType:4}]},referencedBy:{characters:[{id:2,label:"结婚",edgeType:1},{id:7,label:"同事",edgeType:2},{id:18,label:"友人",edgeType:2},{id:11,label:"造物",edgeType:4}]}},{id:2,type:Z.CHARACTER,name:"Ilse",realm:3,race:3,background:2,path:"/static/token/ilse.png",references:{characters:[{id:1,label:"结婚",edgeType:1},{id:5,label:"养父",edgeType:3},{id:3,label:"初恋",edgeType:1}]},referencedBy:{characters:[{id:1,label:"结婚",edgeType:1},{id:5,label:"养子",edgeType:3},{id:3,label:"初恋",edgeType:1}]}},{id:3,type:Z.CHARACTER,name:"Lewenhart",realm:3,race:3,background:6,path:"/static/token/lewenhart.png",references:{characters:[{id:2,label:"初恋",edgeType:1},{id:4,label:"胞弟",edgeType:3},{id:5,label:"家主",edgeType:4}]},referencedBy:{characters:[{id:2,label:"初恋",edgeType:1},{id:4,label:"胞兄",edgeType:3},{id:5,label:"庇护",edgeType:4}]}},{id:4,type:Z.CHARACTER,name:"Elvis",realm:3,race:3,background:6,path:"/static/token/elvis.png",references:{characters:[{id:3,label:"胞兄",edgeType:3},{id:5,label:"家主",edgeType:4}]},referencedBy:{characters:[{id:3,label:"胞弟",edgeType:3},{id:5,label:"庇护",edgeType:4}]}},{id:5,type:Z.CHARACTER,name:"Wiro",realm:3,race:3,background:2,path:"/static/token/wiro.png",references:{characters:[{id:2,label:"养子",edgeType:3},{id:3,label:"庇护",edgeType:4},{id:4,label:"庇护",edgeType:4}]},referencedBy:{characters:[{id:2,label:"养父",edgeType:3},{id:3,label:"家主",edgeType:4},{id:4,label:"家主",edgeType:4}]}},{id:6,type:Z.CHARACTER,name:"Leslie",realm:3,race:6,background:5,path:"/static/token/leslie.png",references:{characters:[{id:7,label:"未满",edgeType:1}]},referencedBy:{characters:[{id:7,label:"未满",edgeType:1}]}},{id:7,type:Z.CHARACTER,name:"Belladonna",realm:3,race:5,background:1,path:"/static/token/belladonna.png",references:{characters:[{id:6,label:"未满",edgeType:1},{id:1,label:"同事",edgeType:2},{id:8,label:"姊姊",edgeType:3}]},referencedBy:{characters:[{id:6,label:"未满",edgeType:1},{id:1,label:"同事",edgeType:2},{id:8,label:"妹妹",edgeType:3}]}},{id:8,type:Z.CHARACTER,name:"Hyacinth",realm:3,race:5,background:3,path:"/static/token/hyacinth.png",references:{characters:[{id:7,label:"妹妹",edgeType:3},{id:9,label:"同事",edgeType:2}]},referencedBy:{characters:[{id:7,label:"姊姊",edgeType:3},{id:9,label:"同事",edgeType:2}]}},{id:9,type:Z.CHARACTER,name:"Rey",realm:3,race:4,background:3,path:"/static/token/rey.png",references:{characters:[{id:8,label:"同事",edgeType:2},{id:10,label:"未满",edgeType:1}]},referencedBy:{characters:[{id:8,label:"同事",edgeType:2},{id:10,label:"未满",edgeType:1}]}},{id:10,type:Z.CHARACTER,name:"Vee",realm:3,race:7,background:4,path:"/static/token/vee.png",references:{characters:[{id:9,label:"未满",edgeType:1}]},referencedBy:{characters:[{id:9,label:"未满",edgeType:1}]}},{id:11,type:Z.CHARACTER,name:"Karnacio",realm:1,race:8,background:1,path:"/static/token/karnacio.png",references:{characters:[{id:12,label:"远古纯爱",edgeType:1},{id:13,label:"从神",edgeType:3},{id:14,label:"神侍",edgeType:4},{id:1,label:"造物",edgeType:4},{id:15,label:"造物",edgeType:4}]},referencedBy:{characters:[{id:12,label:"远古纯爱",edgeType:1},{id:13,label:"从神",edgeType:3},{id:14,label:"主神",edgeType:4},{id:1,label:"父神",edgeType:4},{id:15,label:"父神",edgeType:4}]}},{id:12,type:Z.CHARACTER,name:"Herudis",realm:2,race:9,background:1,path:"/static/token/herudis.png",references:{characters:[{id:11,label:"远古纯爱",edgeType:1}]},referencedBy:{characters:[{id:11,label:"远古纯爱",edgeType:1}]}},{id:13,type:Z.CHARACTER,name:"Lumo",realm:1,race:8,background:1,path:"/static/token/lumo.png",references:{characters:[{id:11,label:"主神",edgeType:3},{id:16,label:"幺子",edgeType:3},{id:17,label:"造物",edgeType:4}]},referencedBy:{characters:[{id:11,label:"从神",edgeType:3},{id:16,label:"母神",edgeType:3},{id:17,label:"母神",edgeType:4}]}},{id:14,type:Z.CHARACTER,name:"Eyzin",realm:2,race:10,background:1,path:"/static/token/eyzin.png",references:{characters:[{id:11,label:"主神",edgeType:4}]},referencedBy:{characters:[{id:11,label:"神侍",edgeType:4}]}},{id:15,type:Z.CHARACTER,name:"Fjel",realm:2,race:1,background:1,path:"/static/token/fjel.png",references:{characters:[{id:11,label:"父神",edgeType:4}]},referencedBy:{characters:[{id:11,label:"造物",edgeType:4}]}},{id:16,type:Z.CHARACTER,name:"Mondo",realm:2,race:11,background:1,path:"/static/token/mondo.png",references:{characters:[{id:13,label:"母神",edgeType:3},{id:17,label:"恋人?",edgeType:1}]},referencedBy:{characters:[{id:13,label:"幺子",edgeType:3},{id:17,label:"恋人?",edgeType:1}]}},{id:17,type:Z.CHARACTER,name:"Selakorvo",realm:2,race:1,background:1,path:"/static/token/selakorvo.png",references:{characters:[{id:13,label:"母神",edgeType:4},{id:16,label:"恋人?",edgeType:1}]},referencedBy:{characters:[{id:13,label:"造物",edgeType:4},{id:16,label:"恋人?",edgeType:1}]}},{id:18,type:Z.CHARACTER,name:"Mervargr",realm:3,race:3,background:1,path:"/static/token/mervargr.png",references:{characters:[{id:1,label:"友人",edgeType:2}]},referencedBy:{characters:[{id:1,label:"友人",edgeType:2}]}},{id:19,type:Z.CHARACTER,name:"Syor",realm:3,race:3,background:6,path:"/static/token/syor.png",references:{characters:[{id:5,label:"家主",edgeType:4}]},referencedBy:{characters:[{id:5,label:"侍从",edgeType:4}]}},{id:20,type:Z.CHARACTER,name:"Fel'rekt",realm:3,race:3,background:6,path:"/static/token/felrekt.png",references:{characters:[{id:5,label:"家主",edgeType:4}]},referencedBy:{characters:[{id:5,label:"侍从",edgeType:4}]}},{id:21,type:Z.CHARACTER,name:"Calimar",realm:3,race:3,background:6,path:"/static/token/calimar.png",references:{characters:[{id:5,label:"家主",edgeType:4}]},referencedBy:{characters:[{id:5,label:"侍从",edgeType:4}]}}],Hs=[{id:1,type:Z.DOCUMENT,title:"设定与世界观",tags:["dndoc","设定"],path:"/static/md/设定与世界观.md",references:{characters:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],documents:[4]}},{id:2,type:Z.DOCUMENT,title:"天使是否有味觉，是否有胃？",tags:["dndoc","设定","秘典之页独家报道"],path:"/static/md/天使是否有味觉，是否有胃？.md",references:{characters:[1,15,17]}},{id:3,type:Z.DOCUMENT,title:"祷告与魔法",tags:["dndoc","设定","环设定"],path:"/static/md/祷告与魔法.md",references:{characters:[1,2,5,4]}},{id:4,type:Z.DOCUMENT,title:"当我起名时我在想什么",tags:["dndoc","设定"],path:"/static/md/当我起名时我在想什么.md",references:{characters:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}}],Ws=[{id:1,type:Z.GALLERY,path:"/static/gallery/2024-03-27 155647.jpg",tags:[],finishedDate:"2024-03-27",version:1,references:{characters:[1]}},{id:2,type:Z.GALLERY,path:"/static/gallery/2024-05-23 112745.jpg",tags:[],finishedDate:"2024-05-23",version:1,references:{characters:[2]}},{id:3,type:Z.GALLERY,path:"/static/gallery/2024-01-01 150432.png",tags:[],finishedDate:"2024-01-01",version:1,references:{characters:[1,2]}},{id:4,type:Z.GALLERY,path:"/static/gallery/2024-04-21 202906.png",tags:[],finishedDate:"2024-04-21",version:1,references:{characters:[5]}},{id:5,type:Z.GALLERY,path:"/static/gallery/2024-02-14 143044.jpg",tags:[],finishedDate:"2024-02-14",version:1,references:{characters:[3]}},{id:6,type:Z.GALLERY,path:"/static/gallery/2024-01-20 171732.png",tags:[],finishedDate:"2024-01-20",version:1,references:{characters:[2,3]}},{id:7,type:Z.GALLERY,path:"/static/gallery/2024-02-03 021848.png",tags:[],finishedDate:"2024-02-03",version:1,references:{characters:[1]}},{id:8,type:Z.GALLERY,path:"/static/gallery/2024-02-10 222638.png",tags:[],finishedDate:"2024-02-10",version:1,references:{characters:[4]}},{id:9,type:Z.GALLERY,path:"/static/gallery/2024-08-18 223617.png",tags:[],finishedDate:"2024-08-18",version:1,references:{characters:[3,4]}},{id:10,type:Z.GALLERY,path:"/static/gallery/2024-06-24 232111.png",tags:[],finishedDate:"2024-06-24",version:1,references:{characters:[1,2]}},{id:11,type:Z.GALLERY,path:"/static/gallery/2024-03-25 012428.jpg",tags:[],finishedDate:"2024-03-25",version:1,references:{characters:[1]}},{id:12,type:Z.GALLERY,path:"/static/gallery/2024-02-16 171658.jpg",tags:[],finishedDate:"2024-02-16",version:1,references:{characters:[2]}},{id:13,type:Z.GALLERY,path:"/static/gallery/2024-02-27 022625.png",tags:[],finishedDate:"2024-02-27",version:1,references:{characters:[3,4]}},{id:14,type:Z.GALLERY,path:"/static/gallery/2024-06-07 204215.png",tags:[],finishedDate:"2024-06-07",version:1,references:{characters:[2,3]}},{id:15,type:Z.GALLERY,path:"/static/gallery/2024-05-18 230555.jpg",tags:[],finishedDate:"2024-05-18",version:1,references:{characters:[20,21]}},{id:16,type:Z.GALLERY,path:"/static/gallery/2024-05-13 231517.png",tags:[],finishedDate:"2024-05-13",version:1,references:{characters:[8]}},{id:17,type:Z.GALLERY,path:"/static/gallery/2024-10-21 223248.jpg",tags:[],finishedDate:"2024-10-21",version:1,references:{characters:[1,7]}},{id:18,type:Z.GALLERY,path:"/static/gallery/2024-11-04 213036.png",tags:[],finishedDate:"2024-11-04",version:1,references:{characters:[2,3]}},{id:19,type:Z.GALLERY,path:"/static/gallery/2024-12-15 001443.png",tags:[],finishedDate:"2024-12-15",version:1.1,references:{characters:[1,2]}},{id:20,type:Z.GALLERY,path:"/static/gallery/2024-11-21 214938.png",tags:[],finishedDate:"2024-11-21",version:1,references:{characters:[5,6]}},{id:21,type:Z.GALLERY,path:"/static/gallery/2024-07-16 132808.png",tags:[],finishedDate:"2024-07-16",version:1,references:{characters:[4]}},{id:22,type:Z.GALLERY,path:"/static/gallery/2024-07-29 000132.png",tags:[],finishedDate:"2024-07-29",version:1,references:{characters:[1,11,15,17]}},{id:23,type:Z.GALLERY,path:"/static/gallery/2024-01-07 154930.png",tags:[],finishedDate:"2024-01-07",version:1,references:{characters:[7]}}],wF=[{id:1,type:Z.EBOOK,path:"static/archive/2024-Anniv",tags:[],finishedDate:"2024-03-27",version:1,references:{documents:[1]}}],nm=[],iu=[{id:1,type:Z.LOCATION,title:"todo",description:"desp",path:"/path/to/map",finishedDate:"2024-01-01",references:{}}],im=[],ha=[{id:1,type:Z.NOTE,title:"术士与魔法的表现",tags:["引用"],displayType:"document",noteCategory:"settings",path:"/static/md/术士与魔法的表现.md",references:{documents:[3]}},{id:2,type:Z.NOTE,title:"dnd5e人物卡模板v1.81β-mja",tags:["车卡"],displayType:"character",noteCategory:"character",path:"",referenceId:1,references:{characters:[1]}},{id:3,type:Z.NOTE,title:"dnd5e人物卡模板v1.81β-ilse",tags:["车卡"],displayType:"character",noteCategory:"character",path:"",referenceId:2,references:{characters:[2]}},{id:4,type:Z.NOTE,title:"dnd5e人物卡模板v1.81β-lewenhart",tags:["车卡"],displayType:"character",noteCategory:"character",path:"",referenceId:3,references:{characters:[3]}},{id:5,type:Z.NOTE,title:"dnd5e人物卡模板v1.81β-elvis",tags:["车卡"],displayType:"character",noteCategory:"character",path:"",referenceId:4,references:{characters:[4]}},{id:6,type:Z.NOTE,title:"claude3.5-sonnet-2024-12-29",tags:["车卡"],displayType:"gallery",noteCategory:"character",path:"/static/vault/PixPin_2024-11-16_16-59-30.png",references:{characters:[1,2]}}],gT=[{id:1,type:Z.LOCATION_POINT,pointType:"city",path:"",title:"loc1",description:"aaa",coordinates:[50,30],parentId:1}],yT=["finishedDate","createdAt","updatedAt"],_F=["id","path","references","version","type","title","displayType","noteCategory"];function mT(t,r={}){if(!(t!=null&&t.length))return{};const e={},n=t[0],i=r.excludeKeys||_F,a=r.dateKeys||yT,s=r.customLabels||{tags:"标签",finishedDate:"完成日期",createdAt:"创建时间",updatedAt:"更新时间"};return Object.keys(n).forEach(o=>{if(!i.includes(o))if(a.includes(o))e[o]={label:s[o]||o,type:"date"};else{const l=[...new Set(t.flatMap(u=>{const c=u[o];return Array.isArray(c)?c:[c]}))].filter(u=>u!=null);l.length>0&&(e[o]={label:s[o]||o,type:"select",options:l})}}),e}const SF=pf("relatedResources",()=>{const t=le("overview"),r=le(!0),e=le({documents:{},gallerys:{},events:{},locations:{},medias:{},notes:{}}),n=ce(()=>({gallerys:Ws,documents:Hs,events:nm,locations:iu,medias:im,notes:ha})[t.value]||[]),i=ce(()=>t.value!=="overview"),a=ce(()=>{var u;return!i.value||!((u=n.value)!=null&&u.length)?{}:mT(n.value)});wt(a,u=>{r.value=Object.keys(u).length>0},{immediate:!0});const s=ce(()=>(e.value[t.value]||(e.value[t.value]={}),e.value[t.value]));return{currentTool:t,showFilters:r,currentEntities:n,useStandardFilter:i,filterGroups:a,currentFilters:s,switchTool:u=>{t.value=u},updateFilters:u=>{e.value[t.value]=u}}}),Zc=t=>{switch(t){case Z.CHARACTER:return"characters";case Z.DOCUMENT:return"documents";case Z.GALLERY:return"gallerys";case Z.EBOOK:return"ebooks";case Z.EVENT:return"events";case Z.LOCATION:return"locations";case Z.MEDIA:return"medias";case Z.NOTE:return"notes";case Z.LOCATION_POINT:return"location-points";default:return""}},kF=()=>{const t={},r=[...Hs,...Ws,...wF,...nm,...iu,...im,...ha,...gT];return r.forEach(e=>{const n=`${Zc(e.type)}_${e.id}`;t[n]={entity:e,references:{}}}),Ln.forEach(e=>{const n=`characters_${e.id}`;t[n]={entity:e,references:{}}}),r.forEach(e=>{const n=`${Zc(e.type)}_${e.id}`;e.references&&Object.entries(e.references).forEach(([i,a])=>{t[n].references[i]=a,a.forEach(s=>{const o=`${i}_${s}`;if(t[o]){const l=Zc(e.type);t[o].references[l]||(t[o].references[l]=[]),t[o].references[l].includes(e.id)||t[o].references[l].push(e.id)}})})}),t},EF=(t,r,e)=>{const n=`${Zc(r)}_${e}`,i=t[n];if(!i)return[];const a=[];return Object.entries(i.references).forEach(([s,o])=>{r===Z.CHARACTER&&s==="characters"||o.forEach(l=>{const u=`${s}_${l}`,c=t[u];c&&a.push(c.entity)})}),a},am=pf("entityGraph",()=>{const t=le({});return{graph:t,initGraph:()=>{t.value=kF(),console.log("graph",t.value)},getRelated:(n,i)=>EF(t.value,n,i)}}),TF="/the-tale-of-Ofoces",Nt=t=>{const r=t.replace("/public/","/");return`${TF}${r}`},OF=t=>t.startsWith("http")?t:new URL(t,import.meta.url).href,CF={class:"character-list"},IF=["onClick"],PF=["src","alt"],xF={class:"character-tooltip"},RF={class:"character-label"},MF=qe({__name:"CharacterAvatarList",props:{characters:{}},emits:["select"],setup(t){return(r,e)=>(I(),R("div",CF,[(I(!0),R(he,null,Ce(r.characters,n=>(I(),R("div",{key:n.id,class:"character-item",onClick:i=>r.$emit("select",n)},[g("img",{src:ue(Nt)(n.path),alt:n.name,class:"character-avatar"},null,8,PF),g("div",xF,[g("div",RF,[It(G(n.name)+" ",1),n.label?(I(),R(he,{key:0},[It(" · "+G(n.label),1)],64)):De("",!0)])])],8,IF))),128))]))}}),Ye=(t,r)=>{const e=t.__vccOpts||t;for(const[n,i]of r)e[n]=i;return e},i$=Ye(MF,[["__scopeId","data-v-19a06edc"]]),DF={class:"document-icon"},FF={class:"document-info"},BF={class:"document-name"},NF={key:0,class:"document-tags"},LF=qe({__name:"DocumentItem",props:{item:{},icon:{}},emits:["click"],setup(t){return(r,e)=>(I(),R("div",{class:"document-item",onClick:e[0]||(e[0]=n=>r.$emit("click",r.item))},[g("div",DF,G(r.icon),1),g("div",FF,[g("span",BF,G(r.item.title||r.item.name),1),r.item.tags?(I(),R("div",NF,[(I(!0),R(he,null,Ce(r.item.tags,n=>(I(),R("span",{key:n,class:"tag"},G(n),1))),128))])):De("",!0)])]))}}),hl=Ye(LF,[["__scopeId","data-v-d7f29e37"]]),bT=pf("imagePreview",()=>{const t=le(!1),r=le(""),e=le([]),n=ce(()=>e.value.findIndex(l=>l===r.value));function i(l,u){r.value=l,e.value=u||[l],t.value=!0}function a(){t.value=!1,r.value="",e.value=[]}function s(){n.value>0&&(r.value=e.value[n.value-1])}function o(){n.value<e.value.length-1&&(r.value=e.value[n.value+1])}return{showPreview:t,currentImage:r,imageList:e,currentIndex:n,openPreview:i,closePreview:a,previousImage:s,nextImage:o}}),jF={class:"content-area"},zF={class:"artifacts-section"},HF={class:"artifacts-list"},WF={key:0,class:"character-entities"},VF={key:1,class:"gallery-grid"},UF=["src","alt","onClick"],GF={key:0,class:"gallery-grid"},KF=["src","alt","onClick"],qF={key:2,class:"empty-state"},YF=qe({__name:"RelatedResources",props:{currentTool:{},entityId:{},entityType:{},filteredEntities:{}},emits:["select-character","open-file"],setup(t,{emit:r}){const e=t,n=r,i=am(),a=bT(),s=S=>({document:"📄",ebook:"📚"})[S]||"📄",o=S=>{S.type===Z.CHARACTER?n("select-character",S):(S.type===Z.NOTE||S.type===Z.DOCUMENT)&&n("open-file",S)},l=ce(()=>e.entityType==="character"&&e.currentTool==="overview"),u=ce(()=>{var O;if(!l.value)return[];const S=Ln.find(P=>P.id===e.entityId);return(O=S==null?void 0:S.references)!=null&&O.characters?S.references.characters.map(P=>({...f(typeof P=="object"?P.id:P),label:typeof P=="object"?P.label:""})):[]}),c=S=>{n("select-character",S)},d=ce(()=>{if(e.currentTool!=="overview"&&e.filteredEntities){const P={documents:Z.DOCUMENT,gallerys:Z.GALLERY,ebooks:Z.EBOOK,events:Z.EVENT,locations:Z.LOCATION,medias:Z.MEDIA,notes:Z.NOTE,"location-points":Z.LOCATION_POINT}[e.currentTool];return e.filteredEntities.filter(K=>K.type===P)}return i.getRelated(e.entityType,e.entityId)}),f=S=>Ln.find(O=>O.id===S),h=ce(()=>d.value.filter(S=>S.type===Z.CHARACTER));ce(()=>d.value.filter(S=>S.type!==Z.CHARACTER));const v=ce(()=>d.value.filter(S=>S.type===Z.GALLERY)),p=ce(()=>d.value.filter(S=>S.type===Z.DOCUMENT)),m=ce(()=>d.value.filter(S=>S.type===Z.EVENT)),y=ce(()=>d.value.filter(S=>S.type===Z.LOCATION)),b=ce(()=>d.value.filter(S=>S.type===Z.MEDIA)),A=ce(()=>d.value.filter(S=>S.type===Z.NOTE)),$=ce(()=>d.value.filter(S=>S.type===Z.LOCATION_POINT)),k=ce(()=>{const S=A.value.filter(P=>P.displayType==="gallery").map(P=>P.path),O=v.value.map(P=>P.path);return e.currentTool==="overview"?[...O,...S]:e.currentTool==="gallerys"?O:S}),C=S=>{a.openPreview(S.path,k.value)},T=ce(()=>A.value.filter(S=>S.displayType!=="gallery")),E=ce(()=>A.value.filter(S=>S.displayType==="gallery"));return(S,O)=>(I(),R("div",jF,[l.value?(I(),vr(i$,{key:0,class:"slide-detail-avatar",characters:u.value,onSelect:c},null,8,["characters"])):De("",!0),g("div",zF,[g("div",HF,[h.value.length?(I(),R("div",WF,[Pe(i$,{characters:h.value,onSelect:c},null,8,["characters"])])):De("",!0),v.value.length?(I(),R("div",VF,[(I(!0),R(he,null,Ce(v.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`,class:"gallery-item"},[g("img",{src:ue(Nt)(P.path),alt:P.title||P.name,class:"gallery-image",onClick:j=>C(P)},null,8,UF)]))),128))])):De("",!0),(I(!0),R(he,null,Ce(p.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`},[Pe(hl,{item:P,icon:s(P.type),onClick:o},null,8,["item","icon"])]))),128)),(I(!0),R(he,null,Ce(m.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`,class:"event-item"},O[0]||(O[0]=[g("div",{class:"event-placeholder"},null,-1)])))),128)),(I(!0),R(he,null,Ce(y.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`,class:"event-item"},O[1]||(O[1]=[g("div",{class:"event-placeholder"},null,-1)])))),128)),(I(!0),R(he,null,Ce(b.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`,class:"event-item"},O[2]||(O[2]=[g("div",{class:"event-placeholder"},null,-1)])))),128)),g("div",null,[(I(!0),R(he,null,Ce(T.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`},[Pe(hl,{item:P,icon:s(P.displayType),onClick:o},null,8,["item","icon"])]))),128)),E.value.length?(I(),R("div",GF,[(I(!0),R(he,null,Ce(E.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`,class:"gallery-item"},[g("img",{src:ue(Nt)(P.path),alt:P.title||P.name,class:"gallery-image",onClick:j=>C(P)},null,8,KF)]))),128))])):De("",!0)]),(I(!0),R(he,null,Ce($.value,P=>(I(),R("div",{key:`${e.currentTool}_${P.type}_${P.id}`,class:"event-item"},O[3]||(O[3]=[g("div",{class:"event-placeholder"},null,-1)])))),128)),d.value.length?De("",!0):(I(),R("div",qF," 暂无相关内容 "))])])]))}}),sm=Ye(YF,[["__scopeId","data-v-c41c4c18"]]),XF={key:0,class:"filter-group"},ZF=["onClick"],QF={class:"filter-title"},JF={class:"selected-tags"},eB=["onClick"],tB={class:"filter-content-popup"},rB={class:"filter-select"},nB=["onUpdate:modelValue","value"],iB={key:1,class:"date-filter"},aB={class:"date-range"},sB=["onUpdate:modelValue"],oB=["onUpdate:modelValue"],lB=qe({__name:"FilterPanel",props:{modelValue:{type:Boolean},filterGroups:{}},emits:["update:modelValue","filter"],setup(t,{emit:r}){const e=t,n=r,i=le({}),a=le({});wt(()=>e.filterGroups,()=>{Object.entries(e.filterGroups).forEach(([d,f])=>{f.type==="select"&&!i.value[d]?(i.value[d]=[],a.value[d]===void 0&&(a.value[d]=!1)):f.type==="date"&&!i.value[d]&&(i.value[d]={start:"",end:""})})},{immediate:!0});const s=d=>{a.value[d]=!a.value[d]},o=()=>{n("filter",i.value)},l=()=>{Object.entries(e.filterGroups).forEach(([d,f])=>{f.type==="select"?i.value[d]=[]:f.type==="date"&&(i.value[d]={start:"",end:""})}),o()},u=(d,f)=>{if(Array.isArray(i.value[d])){const h=i.value[d].indexOf(f);h>-1&&(i.value[d].splice(h,1),o())}},c=d=>{d.target.closest(".filter-group")||Object.keys(a.value).forEach(h=>{a.value[h]=!1})};return Wt(()=>{document.addEventListener("click",c)}),jr(()=>{document.removeEventListener("click",c)}),(d,f)=>(I(),R("div",{class:Me(["filter-panel",{"filter-panel-show":d.modelValue,"filter-panel-hide":!d.modelValue}])},[(I(!0),R(he,null,Ce(d.filterGroups,(h,v)=>(I(),R(he,{key:v},[h.type==="select"?(I(),R("div",XF,[g("div",{class:"filter-header",onClick:p=>s(v)},[g("span",QF,[g("span",null,G(h.label)+": ",1),g("span",JF,[(I(!0),R(he,null,Ce(i.value[v],p=>(I(),R("span",{key:p,class:"selected-tag"},[It(G(p)+" ",1),g("span",{class:"remove-tag",onClick:kr(m=>u(v,p),["stop"])},f[0]||(f[0]=[g("i",{class:"fi fi-rr-cross-small"},null,-1)]),8,eB)]))),128))])]),g("span",{class:Me(["expand-icon",{expanded:a.value[v]}])},f[1]||(f[1]=[g("i",{class:"fi fi-rs-angle-small-down"},null,-1)]),2)],8,ZF),fa(g("div",tB,[g("div",rB,[(I(!0),R(he,null,Ce(h.options,p=>(I(),R("label",{key:p,class:"tag-checkbox"},[fa(g("input",{type:"checkbox","onUpdate:modelValue":m=>i.value[v]=m,value:p,onChange:o},null,40,nB),[[aD,i.value[v]]]),g("span",null,G(p),1)]))),128))])],512),[[em,a.value[v]]])])):h.type==="date"?(I(),R("div",iB,[g("div",aB,[fa(g("input",{type:"date","onUpdate:modelValue":p=>i.value[v].start=p,class:"date-input",onChange:o},null,40,sB),[[F1,i.value[v].start]]),f[2]||(f[2]=g("span",null,"-",-1)),fa(g("input",{type:"date","onUpdate:modelValue":p=>i.value[v].end=p,class:"date-input",onChange:o},null,40,oB),[[F1,i.value[v].end]])])])):De("",!0)],64))),128)),g("div",{class:"filter-actions"},[g("button",{class:"reset-button",onClick:l},f[3]||(f[3]=[g("i",{class:"fi fi-br-refresh"},null,-1)]))])],2))}}),$T=Ye(lB,[["__scopeId","data-v-3eb9d167"]]);function om(t){return By()?(jk(t),!0):!1}function yf(t){return typeof t=="function"?t():ue(t)}const uB=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cB=Object.prototype.toString,dB=t=>cB.call(t)==="[object Object]",fB=()=>{};function hB(t){return Qy()}function AT(t,r=!0,e){hB()?Wt(t,e):r?t():qs(t)}const au=uB?window:void 0;function va(t){var r;const e=yf(t);return(r=e==null?void 0:e.$el)!=null?r:e}function vB(...t){let r,e,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([e,n,i]=t,r=au):[r,e,n,i]=t,!r)return fB;Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);const a=[],s=()=>{a.forEach(c=>c()),a.length=0},o=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),l=wt(()=>[va(r),yf(i)],([c,d])=>{if(s(),!c)return;const f=dB(d)?{...d}:d;a.push(...e.flatMap(h=>n.map(v=>o(c,h,v,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),s()};return om(u),u}function pB(){const t=le(!1),r=Qy();return r&&Wt(()=>{t.value=!0},r),t}function wT(t){const r=pB();return ce(()=>(r.value,!!t()))}function gB(t,r={}){const{window:e=au}=r,n=wT(()=>e&&"matchMedia"in e&&typeof e.matchMedia=="function");let i;const a=le(!1),s=u=>{a.value=u.matches},o=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",s):i.removeListener(s))},l=hM(()=>{n.value&&(o(),i=e.matchMedia(yf(t)),"addEventListener"in i?i.addEventListener("change",s):i.addListener(s),a.value=i.matches)});return om(()=>{l(),o(),i=void 0}),a}function yB(t,r,e={}){const{window:n=au,...i}=e;let a;const s=wT(()=>n&&"ResizeObserver"in n),o=()=>{a&&(a.disconnect(),a=void 0)},l=ce(()=>{const d=yf(t);return Array.isArray(d)?d.map(f=>va(f)):[va(d)]}),u=wt(l,d=>{if(o(),s.value&&n){a=new ResizeObserver(r);for(const f of d)f&&a.observe(f,i)}},{immediate:!0,flush:"post"}),c=()=>{o(),u()};return om(c),{isSupported:s,stop:c}}function mB(t,r={width:0,height:0},e={}){const{window:n=au,box:i="content-box"}=e,a=ce(()=>{var d,f;return(f=(d=va(t))==null?void 0:d.namespaceURI)==null?void 0:f.includes("svg")}),s=le(r.width),o=le(r.height),{stop:l}=yB(t,([d])=>{const f=i==="border-box"?d.borderBoxSize:i==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(n&&a.value){const h=va(t);if(h){const v=h.getBoundingClientRect();s.value=v.width,o.value=v.height}}else if(f){const h=Array.isArray(f)?f:[f];s.value=h.reduce((v,{inlineSize:p})=>v+p,0),o.value=h.reduce((v,{blockSize:p})=>v+p,0)}else s.value=d.contentRect.width,o.value=d.contentRect.height},e);AT(()=>{const d=va(t);d&&(s.value="offsetWidth"in d?d.offsetWidth:r.width,o.value="offsetHeight"in d?d.offsetHeight:r.height)});const u=wt(()=>va(t),d=>{s.value=d?r.width:0,o.value=d?r.height:0});function c(){l(),u()}return{width:s,height:o,stop:c}}function bB(t={}){const{window:r=au,initialWidth:e=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:a=!0,type:s="inner"}=t,o=le(e),l=le(n),u=()=>{r&&(s==="outer"?(o.value=r.outerWidth,l.value=r.outerHeight):a?(o.value=r.innerWidth,l.value=r.innerHeight):(o.value=r.document.documentElement.clientWidth,l.value=r.document.documentElement.clientHeight))};if(u(),AT(u),vB("resize",u,{passive:!0}),i){const c=gB("(orientation: portrait)");wt(c,()=>u())}return{width:o,height:l}}const $B=qe({__name:"RelatedPanel",props:{entityId:{},entityType:{}},emits:["select-character","open-file"],setup(t,{emit:r}){const e=t,n=le(!1),i=am(),a=ce(()=>i.getRelated(e.entityType,e.entityId));return(s,o)=>(I(),R("div",{class:Me(["related-panel",{expanded:n.value}])},[g("button",{class:"panel-trigger",onMouseenter:o[0]||(o[0]=l=>n.value=!0),title:"相关内容"},o[4]||(o[4]=[g("i",{class:"fi fi-rr-link"},null,-1)]),32),g("div",{class:"panel-content",onMouseleave:o[3]||(o[3]=l=>n.value=!1)},[Pe(sm,{"entity-id":s.entityId,"entity-type":s.entityType,"current-tool":"overview","filtered-entities":a.value,onSelectCharacter:o[1]||(o[1]=l=>s.$emit("select-character",l)),onOpenFile:o[2]||(o[2]=l=>s.$emit("open-file",l))},null,8,["entity-id","entity-type","filtered-entities"])],32)],2))}}),lm=Ye($B,[["__scopeId","data-v-32f04901"]]),AB={class:"modal-title"},wB={class:"modal-controls"},_B={__name:"DraggableModal",props:{title:String,entityId:Number,entityType:String,visible:Boolean,initialWidth:{type:Number,default:800},initialHeight:{type:Number,default:600},minWidth:{type:Number,default:400},minHeight:{type:Number,default:300},initialPosition:{type:Object,default:()=>({x:0,y:0}),validator:t=>typeof t.x=="number"&&typeof t.y=="number"&&t.x>=0&&t.x<=1&&t.y>=0&&t.y<=1},initialZIndex:{type:Number,default:2e3},isEditing:{type:Boolean,default:!1}},emits:["close","activate","update:isEditing"],setup(t,{expose:r,emit:e}){const n=!!window.electronAPI,i=oi(),a=t,s=te=>{i.showCharacter(te)},o=te=>{Ki(te)},l=e,u=le(a.isEditing),c=()=>{l("update:isEditing",!u.value)};wt(()=>u.value,te=>{console.log("isEditing changed:",te)});const{width:d}=bB(),f=ce(()=>d.value<=768),h=le(null),v=le({x:0,y:0}),p=le({width:a.initialWidth,height:a.initialHeight}),m=ce(()=>({transform:`translate(${v.value.x}px, ${v.value.y}px)`,width:`${p.value.width}px`,height:`${p.value.height}px`}));let y=!1,b={x:0,y:0};const A=te=>{te.target.closest(".modal-handle")&&(y=!0,h.value.getBoundingClientRect(),b={x:te.clientX-v.value.x,y:te.clientY-v.value.y},document.addEventListener("mousemove",$),document.addEventListener("mouseup",k))},$=te=>{if(y){const Ie=te.clientX-b.x,Ne=te.clientY-b.y,Ze=window.innerWidth-20,it=window.innerHeight-20,N=-p.value.width+20,J=-p.value.height+20;v.value={x:Math.min(Math.max(N,Ie),Ze),y:Math.min(Math.max(J,Ne),it)}}},k=()=>{y=!1,document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",k)};let C=!1;const T=te=>{C=!0,document.addEventListener("mousemove",E),document.addEventListener("mouseup",S)},E=te=>{if(C){const Ie=h.value.getBoundingClientRect(),Ne=Math.max(a.minWidth,te.clientX-Ie.left),Ze=Math.max(a.minHeight,te.clientY-Ie.top);p.value={width:Ne,height:Ze}}},S=()=>{C=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",S)};jr(()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",k),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",S)}),Wt(()=>{h.value&&(v.value={x:(window.innerWidth-p.value.width)*a.initialPosition.x,y:(window.innerHeight-p.value.height)*a.initialPosition.y}),document.addEventListener("keydown",oe),qs(()=>{l("ready",B)})});const O=le(a.initialZIndex),P=le(!1),j=()=>{de.value&&_e()},K=te=>{l("activate",!0),te.target.closest(".modal-handle")&&A(te)},me=()=>{P.value=!0,l("close")},B={triggerClose:()=>P.value=!0,updateZIndex:te=>{O.value=te},expand:j,updateEditing:te=>{u.value=te}};r(B);const oe=te=>{te.key==="Escape"&&a.visible&&me()};jr(()=>{document.removeEventListener("keydown",oe)});const de=le(!1),Ae=le(null),_e=()=>{de.value?p.value={...Ae.value}:(Ae.value={...p.value},qs(()=>{const te=h.value.querySelector(".modal-title"),Ie=h.value.querySelector(".modal-controls"),Ze=te.scrollWidth+Ie.scrollWidth+32;p.value={width:Math.max(Ze,a.minWidth),height:44}})),de.value=!de.value};return(te,Ie)=>(I(),vr(hE,{to:"body"},[t.visible?(I(),R("div",{key:0,ref_key:"modalRef",ref:h,class:Me(["modal-window",{mobile:f.value,"modal-closing":P.value,"modal-collapsed":de.value}]),style:er({...m.value,zIndex:O.value}),onMousedown:K},[g("div",{class:"modal-handle",onDblclick:_e},[g("div",AB,G(t.title),1),g("div",wB,[n?(I(),R("button",{key:0,class:"shadow-button",onClick:c,title:"isEditing ? '保存' : '编辑'"},[g("i",{class:Me(u.value?"fi fi-rr-disk":"fi fi-rr-edit")},null,2)])):De("",!0),g("button",{class:"shadow-button",onClick:me,title:"关闭"},Ie[0]||(Ie[0]=[g("i",{class:"fi fi-rr-cross"},null,-1)]))])],32),g("div",{class:"modal-content",style:er({display:de.value?"none":""})},[SE(te.$slots,"default",{isEditing:u.value},void 0)],4),Pe(lm,{"entity-id":t.entityId,"entity-type":t.entityType,onSelectCharacter:s,onOpenFile:o},null,8,["entity-id","entity-type"]),!f.value&&!de.value?(I(),R("div",{key:0,class:"resize-handle",onMousedown:kr(T,["stop"])},null,32)):De("",!0)],38)):De("",!0)]))}},SB=Ye(_B,[["__scopeId","data-v-009fa68c"]]);class pa{constructor(){this.modals=new Map,this.currentZIndex=2e3}static getInstance(){return pa.instance||(pa.instance=new pa),pa.instance}create(r,e){if(this.modals.has(r))return this.modals.get(r);const n=document.createElement("div");document.body.appendChild(n);const i=this,a={initialPosition:{x:.6,y:.3},initialWidth:800,initialHeight:600,initialZIndex:this.currentZIndex++,isEditing:!1},s=ZE({setup(){return()=>Cn(SB,{...a,...e.props,title:e.title,entityId:e.entityId,entityType:e.entityType,visible:!0,onClose:()=>i.close(r),onActivate:(l=!1)=>i.activateModal(r,l),"onUpdate:isEditing":l=>i.updateEditing(r,l),onReady:l=>{const u=i.modals.get(r);u&&(u.exposed=l)}},{default:l=>Cn(e.content,{isEditing:l.isEditing})})}}),o=s.mount(n);return this.modals.set(r,{app:s,container:n,instance:o,exposed:null,zIndex:a.initialZIndex}),o}close(r){var n,i;const e=this.modals.get(r);e&&((i=(n=e.instance)==null?void 0:n.exposed)!=null&&i.triggerClose&&e.instance.exposed.triggerClose(),setTimeout(()=>{e.app.unmount(),e.container.remove(),this.modals.delete(r)},200))}closeAll(){this.modals.forEach((r,e)=>this.close(e))}activateModal(r,e=!1){const n=this.modals.get(r);if(n&&n.exposed){this.currentZIndex++;const i=this.currentZIndex;n.zIndex=i,n.exposed.updateZIndex(i),e||n.exposed.expand()}}updateEditing(r,e=!1){const n=this.modals.get(r);n&&n.exposed.updateEditing(e)}}function um(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Wa=um();function _T(t){Wa=t}const vl={exec:()=>null};function nt(t,r=""){let e=typeof t=="string"?t:t.source;const n={replace:(i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(pr.caret,"$1"),e=e.replace(i,s),n},getRegex:()=>new RegExp(e,r)};return n}const pr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},kB=/^(?:[ \t]*(?:\n|$))+/,EB=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,TB=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,su=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,OB=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ST=/(?:[*+-]|\d{1,9}[.)])/,kT=nt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ST).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),cm=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,CB=/^[^\n]+/,dm=/(?!\s*\])(?:\\.|[^\[\]\\])+/,IB=nt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",dm).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),PB=nt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ST).getRegex(),mf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fm=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,xB=nt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",fm).replace("tag",mf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ET=nt(cm).replace("hr",su).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mf).getRegex(),RB=nt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ET).getRegex(),hm={blockquote:RB,code:EB,def:IB,fences:TB,heading:OB,hr:su,html:xB,lheading:kT,list:PB,newline:kB,paragraph:ET,table:vl,text:CB},a$=nt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",su).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mf).getRegex(),MB={...hm,table:a$,paragraph:nt(cm).replace("hr",su).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",a$).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",mf).getRegex()},DB={...hm,html:nt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fm).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:nt(cm).replace("hr",su).replace("heading",` *#{1,6} *[^
]`).replace("lheading",kT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},TT=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,FB=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,OT=/^( {2,}|\\)\n(?!\s*$)/,BB=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ou=new RegExp("\\p{P}\\p{S}","u"),NB=nt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ou).getRegex(),LB=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,jB=nt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ou).getRegex(),zB=nt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ou).getRegex(),HB=nt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ou).getRegex(),WB=nt(/\\([punct])/,"gu").replace(/punct/g,ou).getRegex(),VB=nt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),UB=nt(fm).replace("(?:-->|$)","-->").getRegex(),GB=nt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",UB).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),kd=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,KB=nt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",kd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),CT=nt(/^!?\[(label)\]\[(ref)\]/).replace("label",kd).replace("ref",dm).getRegex(),IT=nt(/^!?\[(ref)\](?:\[\])?/).replace("ref",dm).getRegex(),qB=nt("reflink|nolink(?!\\()","g").replace("reflink",CT).replace("nolink",IT).getRegex(),vm={_backpedal:vl,anyPunctuation:WB,autolink:VB,blockSkip:LB,br:OT,code:FB,del:vl,emStrongLDelim:jB,emStrongRDelimAst:zB,emStrongRDelimUnd:HB,escape:TT,link:KB,nolink:IT,punctuation:NB,reflink:CT,reflinkSearch:qB,tag:GB,text:BB,url:vl},YB={...vm,link:nt(/^!?\[(label)\]\((.*?)\)/).replace("label",kd).getRegex(),reflink:nt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",kd).getRegex()},gg={...vm,escape:nt(TT).replace("])","~|])").getRegex(),url:nt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},XB={...gg,br:nt(OT).replace("{2,}","*").getRegex(),text:nt(gg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ac={normal:hm,gfm:MB,pedantic:DB},Vo={normal:vm,gfm:gg,breaks:XB,pedantic:YB},ZB={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s$=t=>ZB[t];function kn(t,r){if(r){if(pr.escapeTest.test(t))return t.replace(pr.escapeReplace,s$)}else if(pr.escapeTestNoEncode.test(t))return t.replace(pr.escapeReplaceNoEncode,s$);return t}function o$(t){try{t=encodeURI(t).replace(pr.percentDecode,"%")}catch{return null}return t}function l$(t,r){var a;const e=t.replace(pr.findPipe,(s,o,l)=>{let u=!1,c=o;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),n=e.split(pr.splitPipe);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!((a=n.at(-1))!=null&&a.trim())&&n.pop(),r)if(n.length>r)n.splice(r);else for(;n.length<r;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(pr.slashPipe,"|");return n}function Uo(t,r,e){const n=t.length;if(n===0)return"";let i=0;for(;i<n;){const a=t.charAt(n-i-1);if(a===r&&!e)i++;else if(a!==r&&e)i++;else break}return t.slice(0,n-i)}function QB(t,r){if(t.indexOf(r[1])===-1)return-1;let e=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===r[0])e++;else if(t[n]===r[1]&&(e--,e<0))return n;return-1}function u$(t,r,e,n,i){const a=r.href,s=r.title||null,o=t[1].replace(i.other.outputLinkReplace,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const l={type:"link",raw:e,href:a,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,l}return{type:"image",raw:e,href:a,title:s,text:o}}function JB(t,r,e){const n=t.match(e.other.indentCodeCompensation);if(n===null)return r;const i=n[1];return r.split(`
`).map(a=>{const s=a.match(e.other.beginningSpace);if(s===null)return a;const[o]=s;return o.length>=i.length?a.slice(i.length):a}).join(`
`)}class Ed{constructor(r){at(this,"options");at(this,"rules");at(this,"lexer");this.options=r||Wa}space(r){const e=this.rules.block.newline.exec(r);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(r){const e=this.rules.block.code.exec(r);if(e){const n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Uo(n,`
`)}}}fences(r){const e=this.rules.block.fences.exec(r);if(e){const n=e[0],i=JB(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:i}}}heading(r){const e=this.rules.block.heading.exec(r);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){const i=Uo(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(r){const e=this.rules.block.hr.exec(r);if(e)return{type:"hr",raw:Uo(e[0],`
`)}}blockquote(r){const e=this.rules.block.blockquote.exec(r);if(e){let n=Uo(e[0],`
`).split(`
`),i="",a="";const s=[];for(;n.length>0;){let o=!1;const l=[];let u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))l.push(n[u]),o=!0;else if(!o)l.push(n[u]);else break;n=n.slice(u);const c=l.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,a=a?`${a}
${d}`:d;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=f,n.length===0)break;const h=s.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const v=h,p=v.raw+`
`+n.join(`
`),m=this.blockquote(p);s[s.length-1]=m,i=i.substring(0,i.length-v.raw.length)+m.raw,a=a.substring(0,a.length-v.text.length)+m.text;break}else if((h==null?void 0:h.type)==="list"){const v=h,p=v.raw+`
`+n.join(`
`),m=this.list(p);s[s.length-1]=m,i=i.substring(0,i.length-h.raw.length)+m.raw,a=a.substring(0,a.length-v.raw.length)+m.raw,n=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:a}}}list(r){let e=this.rules.block.list.exec(r);if(e){let n=e[1].trim();const i=n.length>1,a={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let o=!1;for(;r;){let u=!1,c="",d="";if(!(e=s.exec(r))||this.rules.block.hr.test(r))break;c=e[0],r=r.substring(c.length);let f=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),h=r.split(`
`,1)[0],v=!f.trim(),p=0;if(this.options.pedantic?(p=2,d=f.trimStart()):v?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,d=f.slice(p),p+=e[1].length),v&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,r=r.substring(h.length+1),u=!0),!u){const b=this.rules.other.nextBulletRegex(p),A=this.rules.other.hrRegex(p),$=this.rules.other.fencesBeginRegex(p),k=this.rules.other.headingBeginRegex(p),C=this.rules.other.htmlBeginRegex(p);for(;r;){const T=r.split(`
`,1)[0];let E;if(h=T,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),E=h):E=h.replace(this.rules.other.tabCharGlobal,"    "),$.test(h)||k.test(h)||C.test(h)||b.test(h)||A.test(h))break;if(E.search(this.rules.other.nonSpaceChar)>=p||!h.trim())d+=`
`+E.slice(p);else{if(v||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||$.test(f)||k.test(f)||A.test(f))break;d+=`
`+h}!v&&!h.trim()&&(v=!0),c+=T+`
`,r=r.substring(T.length+1),f=E.slice(p)}}a.loose||(o?a.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let m=null,y;this.options.gfm&&(m=this.rules.other.listIsTask.exec(d),m&&(y=m[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),a.items.push({type:"list_item",raw:c,task:!!m,checked:y,loose:!1,text:d,tokens:[]}),a.raw+=c}const l=a.items.at(-1);l&&(l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd()),a.raw=a.raw.trimEnd();for(let u=0;u<a.items.length;u++)if(this.lexer.state.top=!1,a.items[u].tokens=this.lexer.blockTokens(a.items[u].text,[]),!a.loose){const c=a.items[u].tokens.filter(f=>f.type==="space"),d=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));a.loose=d}if(a.loose)for(let u=0;u<a.items.length;u++)a.items[u].loose=!0;return a}}html(r){const e=this.rules.block.html.exec(r);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(r){const e=this.rules.block.def.exec(r);if(e){const n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:i,title:a}}}table(r){var o;const e=this.rules.block.table.exec(r);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const n=l$(e[1]),i=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===i.length){for(const l of i)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(const l of a)s.rows.push(l$(l,s.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:s.align[c]})));return s}}lheading(r){const e=this.rules.block.lheading.exec(r);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(r){const e=this.rules.block.paragraph.exec(r);if(e){const n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(r){const e=this.rules.block.text.exec(r);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(r){const e=this.rules.inline.escape.exec(r);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(r){const e=this.rules.inline.tag.exec(r);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(r){const e=this.rules.inline.link.exec(r);if(e){const n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=Uo(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=QB(e[2],"()");if(s>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let i=e[2],a="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],a=s[3])}else a=e[3]?e[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),u$(e,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(r,e){let n;if((n=this.rules.inline.reflink.exec(r))||(n=this.rules.inline.nolink.exec(r))){const i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[i.toLowerCase()];if(!a){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return u$(n,a,n[0],this.lexer,this.rules)}}emStrong(r,e,n=""){let i=this.rules.inline.emStrongLDelim.exec(r);if(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...i[0]].length-1;let o,l,u=s,c=0;const d=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,e=e.slice(-1*r.length+s);(i=d.exec(e))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=[...o].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const f=[...i[0]][0].length,h=r.slice(0,s+i.index+f+l);if(Math.min(s,l)%2){const p=h.slice(1,-1);return{type:"em",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}const v=h.slice(2,-2);return{type:"strong",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(r){const e=this.rules.inline.code.exec(r);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(r){const e=this.rules.inline.br.exec(r);if(e)return{type:"br",raw:e[0]}}del(r){const e=this.rules.inline.del.exec(r);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(r){const e=this.rules.inline.autolink.exec(r);if(e){let n,i;return e[2]==="@"?(n=e[1],i="mailto:"+n):(n=e[1],i=n),{type:"link",raw:e[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(r){var n;let e;if(e=this.rules.inline.url.exec(r)){let i,a;if(e[2]==="@")i=e[0],a="mailto:"+i;else{let s;do s=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(s!==e[0]);i=e[0],e[1]==="www."?a="http://"+e[0]:a=e[0]}return{type:"link",raw:e[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(r){const e=this.rules.inline.text.exec(r);if(e){const n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}}class Xr{constructor(r){at(this,"tokens");at(this,"options");at(this,"state");at(this,"tokenizer");at(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=r||Wa,this.options.tokenizer=this.options.tokenizer||new Ed,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={other:pr,block:ac.normal,inline:Vo.normal};this.options.pedantic?(e.block=ac.pedantic,e.inline=Vo.pedantic):this.options.gfm&&(e.block=ac.gfm,this.options.breaks?e.inline=Vo.breaks:e.inline=Vo.gfm),this.tokenizer.rules=e}static get rules(){return{block:ac,inline:Vo}}static lex(r,e){return new Xr(e).lex(r)}static lexInline(r,e){return new Xr(e).inlineTokens(r)}lex(r){r=r.replace(pr.carriageReturn,`
`),this.blockTokens(r,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const n=this.inlineQueue[e];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(r,e=[],n=!1){var i,a,s;for(this.options.pedantic&&(r=r.replace(pr.tabCharGlobal,"    ").replace(pr.spaceLine,""));r;){let o;if((a=(i=this.options.extensions)==null?void 0:i.block)!=null&&a.some(u=>(o=u.call({lexer:this},r,e))?(r=r.substring(o.raw.length),e.push(o),!0):!1))continue;if(o=this.tokenizer.space(r)){r=r.substring(o.raw.length);const u=e.at(-1);o.raw.length===1&&u!==void 0?u.raw+=`
`:e.push(o);continue}if(o=this.tokenizer.code(r)){r=r.substring(o.raw.length);const u=e.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.at(-1).src=u.text):e.push(o);continue}if(o=this.tokenizer.fences(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.heading(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.hr(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.blockquote(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.list(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.html(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.def(r)){r=r.substring(o.raw.length);const u=e.at(-1);(u==null?void 0:u.type)==="paragraph"||(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.raw,this.inlineQueue.at(-1).src=u.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(r)){r=r.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.lheading(r)){r=r.substring(o.raw.length),e.push(o);continue}let l=r;if((s=this.options.extensions)!=null&&s.startBlock){let u=1/0;const c=r.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},c),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(l=r.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){const u=e.at(-1);n&&(u==null?void 0:u.type)==="paragraph"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):e.push(o),n=l.length!==r.length,r=r.substring(o.raw.length);continue}if(o=this.tokenizer.text(r)){r=r.substring(o.raw.length);const u=e.at(-1);(u==null?void 0:u.type)==="text"?(u.raw+=`
`+o.raw,u.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=u.text):e.push(o);continue}if(r){const u="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,e}inline(r,e=[]){return this.inlineQueue.push({src:r,tokens:e}),e}inlineTokens(r,e=[]){var o,l,u;let n=r,i=null;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,i.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let a=!1,s="";for(;r;){a||(s=""),a=!1;let c;if((l=(o=this.options.extensions)==null?void 0:o.inline)!=null&&l.some(f=>(c=f.call({lexer:this},r,e))?(r=r.substring(c.raw.length),e.push(c),!0):!1))continue;if(c=this.tokenizer.escape(r)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.tag(r)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.link(r)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.reflink(r,this.tokens.links)){r=r.substring(c.raw.length);const f=e.at(-1);c.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=c.raw,f.text+=c.text):e.push(c);continue}if(c=this.tokenizer.emStrong(r,n,s)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.codespan(r)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.br(r)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.del(r)){r=r.substring(c.raw.length),e.push(c);continue}if(c=this.tokenizer.autolink(r)){r=r.substring(c.raw.length),e.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(r))){r=r.substring(c.raw.length),e.push(c);continue}let d=r;if((u=this.options.extensions)!=null&&u.startInline){let f=1/0;const h=r.slice(1);let v;this.options.extensions.startInline.forEach(p=>{v=p.call({lexer:this},h),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(d=r.substring(0,f+1))}if(c=this.tokenizer.inlineText(d)){r=r.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(s=c.raw.slice(-1)),a=!0;const f=e.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=c.raw,f.text+=c.text):e.push(c);continue}if(r){const f="Infinite loop on byte: "+r.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return e}}class Td{constructor(r){at(this,"options");at(this,"parser");this.options=r||Wa}space(r){return""}code({text:r,lang:e,escaped:n}){var s;const i=(s=(e||"").match(pr.notSpaceStart))==null?void 0:s[0],a=r.replace(pr.endingNewline,"")+`
`;return i?'<pre><code class="language-'+kn(i)+'">'+(n?a:kn(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:kn(a,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:e}){return`<h${e}>${this.parser.parseInline(r)}</h${e}>
`}hr(r){return`<hr>
`}list(r){const e=r.ordered,n=r.start;let i="";for(let o=0;o<r.items.length;o++){const l=r.items[o];i+=this.listitem(l)}const a=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+a+s+`>
`+i+"</"+a+`>
`}listitem(r){var n;let e="";if(r.task){const i=this.checkbox({checked:!!r.checked});r.loose?((n=r.tokens[0])==null?void 0:n.type)==="paragraph"?(r.tokens[0].text=i+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=i+" "+kn(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):e+=i+" "}return e+=this.parser.parse(r.tokens,!!r.loose),`<li>${e}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let e="",n="";for(let a=0;a<r.header.length;a++)n+=this.tablecell(r.header[a]);e+=this.tablerow({text:n});let i="";for(let a=0;a<r.rows.length;a++){const s=r.rows[a];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+i+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){const e=this.parser.parseInline(r.tokens),n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${kn(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:e,tokens:n}){const i=this.parser.parseInline(n),a=o$(r);if(a===null)return i;r=a;let s='<a href="'+r+'"';return e&&(s+=' title="'+kn(e)+'"'),s+=">"+i+"</a>",s}image({href:r,title:e,text:n}){const i=o$(r);if(i===null)return kn(n);r=i;let a=`<img src="${r}" alt="${n}"`;return e&&(a+=` title="${kn(e)}"`),a+=">",a}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:kn(r.text)}}class pm{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}}class Zr{constructor(r){at(this,"options");at(this,"renderer");at(this,"textRenderer");this.options=r||Wa,this.options.renderer=this.options.renderer||new Td,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pm}static parse(r,e){return new Zr(e).parse(r)}static parseInline(r,e){return new Zr(e).parseInline(r)}parse(r,e=!0){var i,a;let n="";for(let s=0;s<r.length;s++){const o=r[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[o.type]){const u=o,c=this.options.extensions.renderers[u.type].call({parser:this},u);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)){n+=c||"";continue}}const l=o;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let u=l,c=this.renderer.text(u);for(;s+1<r.length&&r[s+1].type==="text";)u=r[++s],c+=`
`+this.renderer.text(u);e?n+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):n+=c;continue}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(r,e=this.renderer){var i,a;let n="";for(let s=0;s<r.length;s++){const o=r[s];if((a=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&a[o.type]){const u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=u||"";continue}}const l=o;switch(l.type){case"escape":{n+=e.text(l);break}case"html":{n+=e.html(l);break}case"link":{n+=e.link(l);break}case"image":{n+=e.image(l);break}case"strong":{n+=e.strong(l);break}case"em":{n+=e.em(l);break}case"codespan":{n+=e.codespan(l);break}case"br":{n+=e.br(l);break}case"del":{n+=e.del(l);break}case"text":{n+=e.text(l);break}default:{const u='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}}class pl{constructor(r){at(this,"options");at(this,"block");this.options=r||Wa}preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?Xr.lex:Xr.lexInline}provideParser(){return this.block?Zr.parse:Zr.parseInline}}at(pl,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class eN{constructor(...r){at(this,"defaults",um());at(this,"options",this.setOptions);at(this,"parse",this.parseMarkdown(!0));at(this,"parseInline",this.parseMarkdown(!1));at(this,"Parser",Zr);at(this,"Renderer",Td);at(this,"TextRenderer",pm);at(this,"Lexer",Xr);at(this,"Tokenizer",Ed);at(this,"Hooks",pl);this.use(...r)}walkTokens(r,e){var i,a;let n=[];for(const s of r)switch(n=n.concat(e.call(this,s)),s.type){case"table":{const o=s;for(const l of o.header)n=n.concat(this.walkTokens(l.tokens,e));for(const l of o.rows)for(const u of l)n=n.concat(this.walkTokens(u.tokens,e));break}case"list":{const o=s;n=n.concat(this.walkTokens(o.items,e));break}default:{const o=s;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const u=o[l].flat(1/0);n=n.concat(this.walkTokens(u,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...r){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(n=>{const i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const s=e.renderers[a.name];s?e.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[a.level];s?s.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),i.extensions=e),n.renderer){const a=this.defaults.renderer||new Td(this.defaults);for(const s in n.renderer){if(!(s in a))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const o=s,l=n.renderer[o],u=a[o];a[o]=(...c)=>{let d=l.apply(a,c);return d===!1&&(d=u.apply(a,c)),d||""}}i.renderer=a}if(n.tokenizer){const a=this.defaults.tokenizer||new Ed(this.defaults);for(const s in n.tokenizer){if(!(s in a))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const o=s,l=n.tokenizer[o],u=a[o];a[o]=(...c)=>{let d=l.apply(a,c);return d===!1&&(d=u.apply(a,c)),d}}i.tokenizer=a}if(n.hooks){const a=this.defaults.hooks||new pl;for(const s in n.hooks){if(!(s in a))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const o=s,l=n.hooks[o],u=a[o];pl.passThroughHooks.has(s)?a[o]=c=>{if(this.defaults.async)return Promise.resolve(l.call(a,c)).then(f=>u.call(a,f));const d=l.call(a,c);return u.call(a,d)}:a[o]=(...c)=>{let d=l.apply(a,c);return d===!1&&(d=u.apply(a,c)),d}}i.hooks=a}if(n.walkTokens){const a=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),a&&(l=l.concat(a.call(this,o))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,e){return Xr.lex(r,e??this.defaults)}parser(r,e){return Zr.parse(r,e??this.defaults)}parseMarkdown(r){return(n,i)=>{const a={...i},s={...this.defaults,...a},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=r);const l=s.hooks?s.hooks.provideLexer():r?Xr.lex:Xr.lexInline,u=s.hooks?s.hooks.provideParser():r?Zr.parse:Zr.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>u(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let c=l(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let d=u(c,s);return s.hooks&&(d=s.hooks.postprocess(d)),d}catch(c){return o(c)}}}onError(r,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const i="<p>An error occurred:</p><pre>"+kn(n.message+"",!0)+"</pre>";return e?Promise.resolve(i):i}if(e)return Promise.reject(n);throw n}}}const xa=new eN;function ze(t,r){return xa.parse(t,r)}ze.options=ze.setOptions=function(t){return xa.setOptions(t),ze.defaults=xa.defaults,_T(ze.defaults),ze};ze.getDefaults=um;ze.defaults=Wa;ze.use=function(...t){return xa.use(...t),ze.defaults=xa.defaults,_T(ze.defaults),ze};ze.walkTokens=function(t,r){return xa.walkTokens(t,r)};ze.parseInline=xa.parseInline;ze.Parser=Zr;ze.parser=Zr.parse;ze.Renderer=Td;ze.TextRenderer=pm;ze.Lexer=Xr;ze.lexer=Xr.lex;ze.Tokenizer=Ed;ze.Hooks=pl;ze.parse=ze;ze.options;ze.setOptions;ze.use;ze.walkTokens;ze.parseInline;Zr.parse;Xr.lex;const tN={heading(t){const{text:r,depth:e}=t,n=r.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>');return`<h${e}>${n}</h${e}>`},paragraph(t){if(typeof t=="object"&&t.raw){let r=t.raw;return r=r.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),r=r.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>'),r=r.replace(/_([^_]+)_/g,'<span class="markdown-italic">$1</span>'),r=r.replace(/\*([^*]+)\*/g,'<span class="markdown-italic">$1</span>'),r=r.replace(/#([\u4e00-\u9fa5\w]+)/g,'<span class="markdown-tag">#$1</span>'),`<p>${r}</p>`}return`<p>${t}</p>`},strong(t){return typeof t=="object"?t.text||"":`<span class="markdown-bold">${t}</span>`},link(t,r,e){e=e.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>').replace(/_([^_]+)_/g,'<span class="markdown-italic">$1</span>').replace(/\*([^*]+)\*/g,'<span class="markdown-italic">$1</span>');const n=r?` title="${r}"`:"";return`<a href="${t}"${n} target="_blank" rel="noopener noreferrer">${e}</a>`}},rN=t=>(ze.use({renderer:tN,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!1,mangle:!1,headerIds:!1}),ze.parse(t)),nN=t=>{let r=t;return r=r.replace(/<p>(.*?)<\/p>/g,`$1

`),r=r.replace(/<h([1-6])>(.*?)<\/h\1>/g,(e,n,i)=>"#".repeat(n)+" "+i+`
`),r=r.replace(/<span class="markdown-bold">(.*?)<\/span>/g,"**$1**"),r=r.replace(/<span class="markdown-italic">(.*?)<\/span>/g,"*$1*"),r=r.replace(/<span class="markdown-tag">#(.*?)<\/span>/g,"#$1"),r=r.replace(/<a href="(.*?)"(?:.*?)>(.*?)<\/a>/g,"[$2]($1)"),r=r.replace(/\n\s*\n\s*\n/g,`

`),r=r.trim(),r},iN={class:"markdown-preview"},aN=["innerHTML","contenteditable"],sN={__name:"MarkdownPreview",props:{filePath:{type:String,required:!0},isEditing:{type:Boolean,default:!1}},setup(t){const r=!!window.electronAPI,e=t,n=le(null),i=le("");wt(()=>e.isEditing,(o,l)=>{!o&&l&&s()});const a=async()=>{try{const l=await(await fetch(e.filePath)).text();i.value=rN(l)}catch(o){console.error("markdownPreview 加载失败:",o),i.value="加载失败"}},s=async()=>{if(!r)return;const o=n.value.innerHTML,l=nN(o);try{await window.electronAPI.saveFile({filePath:e.filePath,content:l}),await a()}catch(u){console.error("保存文件失败:",u)}};return Wt(()=>{var o,l;(l=(o=window.electronAPI)==null?void 0:o.test)==null||l.call(o),a()}),wt(()=>e.filePath,()=>{a()}),(o,l)=>(I(),R("div",iN,[g("div",{ref_key:"previewContent",ref:n,innerHTML:i.value,class:"preview-content",contenteditable:r&&t.isEditing},null,8,aN)]))}},oN=Ye(sN,[["__scopeId","data-v-2b3a749a"]]),lN={class:"empty-preview"},uN={__name:"EmptyPreview",setup(t){return(r,e)=>(I(),R("div",lN," 暂无预览 "))}},c$=Ye(uN,[["__scopeId","data-v-13c9b79f"]]),cN={class:"dialog-container"},dN={class:"messages"},fN=["innerHTML"],hN=["src"],vN={class:"message-header"},pN={class:"message-name"},gN=["onClick"],yN=["innerHTML"],mN=qe({__name:"DialogPreview",props:{filePath:{}},setup(t){const r=t,e=le(""),n=le([]),i={heading(l){const{text:u,depth:c}=l,d=u.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>');return`<h${c}>${d}</h${c}>`},paragraph(l){if(typeof l=="object"&&l.raw){let u=l.raw;return u=u.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),u=u.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>'),u=u.replace(/_([^_]+)_/g,'<span class="markdown-italic">$1</span>'),u=u.replace(/\*([^*]+)\*/g,'<span class="markdown-italic">$1</span>'),u=u.replace(/#([\u4e00-\u9fa5\w]+)/g,'<span class="markdown-tag">#$1</span>'),`<p>${u}</p>`}return`<p>${l}</p>`},strong(l){return typeof l=="object"?l.text||"":`<span class="markdown-bold">${l}</span>`},link(l,u,c){c=c.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>').replace(/_([^_]+)_/g,'<span class="markdown-italic">$1</span>').replace(/\*([^*]+)\*/g,'<span class="markdown-italic">$1</span>');const d=u?` title="${u}"`:"";return`<a href="${l}"${d} target="_blank" rel="noopener noreferrer">${c}</a>`},code(l){return`<pre class="code-block"><code>${l.text}</code></pre>`},listitem(l){if(typeof l=="object"&&l.text){let u=l.text;return u=u.replace(/\*\*([^*]+)\*\*/g,'<span class="markdown-bold">$1</span>'),u=u.replace(/[*_]([^*_]+)[*_]/g,'<span class="markdown-italic">$1</span>'),u=u.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),`<li>${u}</li>`}return`<li>${l}</li>`}},a=async l=>{try{const d=(await(await fetch(l)).text()).split(`
`);d.length>0&&(e.value=d[0].replace(/#([\u4e00-\u9fa5\w]+)/g,'<span class="markdown-tag">#$1</span>'),d.shift());const f=[];let h=1,v="",p="";d.forEach(m=>{const y=m.match(/^#(.+?):(.*)/);y?(v&&p.trim()&&f.push({id:h++,name:v.trim(),content:p.trim(),avatar:Nt(`/static/icon/${v.trim().toLowerCase()}.png`),collapsed:!1}),v=y[1],p=y[2]||""):v&&(p+=(p?`
`:"")+m)}),v&&p.trim()&&f.push({id:h++,name:v.trim(),content:p.trim(),avatar:Nt(`/static/icon/${v.trim().toLowerCase()}.png`),collapsed:!1}),n.value=f}catch(u){console.error("解析文件时出错:",u)}};wt(()=>r.filePath,l=>{a(l)}),Wt(()=>{a(r.filePath)});const s=l=>(ze.use({renderer:i,gfm:!0,breaks:!0,sanitize:!1,smartLists:!0,smartypants:!1,mangle:!1,headerIds:!1}),ze.parse(l)),o=l=>{l.collapsed=!l.collapsed};return(l,u)=>(I(),R("div",cN,[g("div",dN,[e.value?(I(),R("div",{key:0,class:"markdown-preview",innerHTML:e.value},null,8,fN)):De("",!0),(I(!0),R(he,null,Ce(n.value,c=>(I(),R("div",{key:c.id,class:"message"},[g("img",{src:c.avatar,alt:"头像",class:"avatar"},null,8,hN),g("div",{class:Me(["message-details",{collapsed:c.collapsed}])},[g("div",vN,[g("div",pN,G(c.name),1),g("div",{class:"collapse-button",onClick:d=>o(c)},[g("i",{class:Me(c.collapsed?"fi fi-rr-angle-down":"fi fi-rr-angle-up")},null,2)],8,gN)]),g("div",{class:"markdown-preview",innerHTML:s(c.content)},null,8,yN)],2)]))),128))])]))}}),bN=Ye(mN,[["__scopeId","data-v-951769d2"]]),d$={法师:{hitDice:"d6",diceValue:4},术士:{hitDice:"d6",diceValue:4},吟游诗人:{hitDice:"d8",diceValue:5},牧师:{hitDice:"d8",diceValue:5},德鲁伊:{hitDice:"d8",diceValue:5},武僧:{hitDice:"d8",diceValue:5},游荡者:{hitDice:"d8",diceValue:5},邪术师:{hitDice:"d8",diceValue:5},奇械师:{hitDice:"d8",diceValue:5},战士:{hitDice:"d10",diceValue:6},圣武士:{hitDice:"d10",diceValue:6},游侠:{hitDice:"d10",diceValue:6},野蛮人:{hitDice:"d12",diceValue:7}},yg=[{id:1,name:"力量"},{id:2,name:"敏捷"},{id:3,name:"体质"},{id:4,name:"智力"},{id:5,name:"感知"},{id:6,name:"魅力"}],PT=[{id:1,name:"运动",attributeId:1},{id:2,name:"特技",attributeId:2},{id:3,name:"巧手",attributeId:2},{id:4,name:"隐匿",attributeId:2},{id:5,name:"调查",attributeId:4},{id:6,name:"奥秘",attributeId:4},{id:7,name:"历史",attributeId:4},{id:8,name:"自然",attributeId:4},{id:9,name:"宗教",attributeId:4},{id:10,name:"察觉",attributeId:5},{id:11,name:"洞悉",attributeId:5},{id:12,name:"驯兽",attributeId:5},{id:13,name:"医药",attributeId:5},{id:14,name:"求生",attributeId:5},{id:15,name:"游说",attributeId:6},{id:16,name:"欺瞒",attributeId:6},{id:17,name:"威吓",attributeId:6},{id:18,name:"表演",attributeId:6}],$N={天使:{basicInfo:{size:"中型",type:"类人生物",reference:"MM pg.14",referenceUrl:"https://books.cinas.cn:8000/read/7794/pdf"},combatStats:{speed:"30 ft",specialSpeed:"飞行 90 ft"},proficientSkills:[10],statusDetails:{VISION:"黑暗视觉 120 ft",LANGUAGES:["通用语","天界语","心灵感应 120 ft"],DAMAGE_IMMUNITY:["疾病"],DAMAGE_RESISTANCE:["光耀","死灵"],DAMAGE_BONUS:["光耀"],STATUS_IMMUNITY:["魅惑","恐惧"]}},精灵:{basicInfo:{size:"中型",type:"类人生物"},combatStats:{speed:"30 ft"},proficientSkills:[10],statusDetails:{VISION:"黑暗视觉 60 ft",LANGUAGES:["通用语","精灵语"]}}},AN={卓尔:{basicInfo:{size:"中型",type:"类人生物"},combatStats:{speed:"30 ft"},proficientSkills:[10],statusDetails:{VISION:"黑暗视觉 120 ft",LANGUAGES:["通用语","地底通用语"],VULNERABILITY:["光耀"],DAMAGE_RESISTANCE:["毒素"]}}},wN={侍僧:{statusDetails:{TOOLS:[]},proficientSkills:[11,9]},骗子:{statusDetails:{TOOLS:["易容工具","文书伪造工具"]},proficientSkills:[16,3]},罪犯:{statusDetails:{TOOLS:["一种赌具","盗贼工具"]},proficientSkills:[16,4]},密探:{statusDetails:{TOOLS:["一种赌具","盗贼工具"]},proficientSkills:[16,4]},艺人:{statusDetails:{TOOLS:["易容工具","一种乐器"]},proficientSkills:[2,18]},角斗士:{statusDetails:{TOOLS:["易容工具","一种乐器"]},proficientSkills:[2,18]},平民英雄:{statusDetails:{TOOLS:["一种工匠工具","载具(陆运)"]},proficientSkills:[12,14]},公会工匠:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[11,15]},公会商人:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[11,15]},隐士:{statusDetails:{TOOLS:["草药工具"]},proficientSkills:[13,9]},贵族:{statusDetails:{TOOLS:["一种赌具"]},proficientSkills:[7,15]},骑士:{statusDetails:{TOOLS:["一种赌具"]},proficientSkills:[7,15]},化外之民:{statusDetails:{TOOLS:["一种乐器"]},proficientSkills:[1,14]},智者:{statusDetails:{TOOLS:[]},proficientSkills:[6,7]},水手:{statusDetails:{TOOLS:["领航工具","载具(水运)"]},proficientSkills:[1,10]},海盗:{statusDetails:{TOOLS:["领航工具","载具(水运)"]},proficientSkills:[1,10]},士兵:{statusDetails:{TOOLS:["一种赌具","载具(陆运)"]},proficientSkills:[1,17]},流浪儿:{statusDetails:{TOOLS:["易容工具","盗贼工具"]},proficientSkills:[3,4]},城市守卫:{statusDetails:{TOOLS:[]},proficientSkills:[1,11]},氏族工匠:{statusDetails:{TOOLS:["一种自选的匠人工具"]},proficientSkills:[7,11]},隐修学者:{statusDetails:{TOOLS:[]},proficientSkills:[7,6,8,9]},朝臣:{statusDetails:{TOOLS:[]},proficientSkills:[11,15]},派系特工:{statusDetails:{TOOLS:[]},proficientSkills:[11]},远行者:{statusDetails:{TOOLS:["任何一项音乐或是赌博工具"]},proficientSkills:[11,10]},继承者:{statusDetails:{TOOLS:["从游戏组或乐器中选择一个"]},proficientSkills:[14,6,7,9]},教团骑士:{statusDetails:{TOOLS:["一种游戏组或乐器"]},proficientSkills:[15,6,7,9]},老佣兵:{statusDetails:{TOOLS:["一种赌具","载具(陆运)"]},proficientSkills:[1,15]},城市猎人:{statusDetails:{TOOLS:["从一种赌具","一种乐器","盗贼工具中选择两项"]},proficientSkills:[16,11,15,4]},乌斯伽部族成员:{statusDetails:{TOOLS:["一种乐器","工匠工具"]},proficientSkills:[1,14]},深水人贵族:{statusDetails:{TOOLS:["一种赌具","一种乐器"]},proficientSkills:[7,15]},俄佐立官员:{statusDetails:{TOOLS:[]},proficientSkills:[11,17]},波洛斯军团兵:{statusDetails:{TOOLS:["一种赌具"]},proficientSkills:[1,17]},底密尔特务:{statusDetails:{TOOLS:["易容工具"]},proficientSkills:[16,4]},葛加理成员:{statusDetails:{TOOLS:["制毒工具"]},proficientSkills:[8,14]},古鲁反抗者:{statusDetails:{TOOLS:["草药工具"]},proficientSkills:[12,1]},伊捷工程师:{statusDetails:{TOOLS:["任选一种工匠工具"]},proficientSkills:[6,5]},欧佐夫议员:{statusDetails:{TOOLS:[]},proficientSkills:[17,9]},拉铎斯邪教徒:{statusDetails:{TOOLS:["一种乐器"]},proficientSkills:[2,18]},瑟雷尼亚祀徒:{statusDetails:{TOOLS:["一种工匠工具","乐器"]},proficientSkills:[8,15]},析米克科学家:{statusDetails:{TOOLS:[]},proficientSkills:[6,13]},家族代理人:{statusDetails:{TOOLS:[]},proficientSkills:[5,15]},名人冒险家的子孙:{statusDetails:{TOOLS:["易容工具"]},proficientSkills:[10,18]},失败商人:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[5,15]},赌徒:{statusDetails:{TOOLS:["一种赌具"]},proficientSkills:[16,11]},起诉人:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[13,15]},竞争对手实习生:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[7,5]},自由斗士:{statusDetails:{TOOLS:["一种乐器","盗贼工具"]},proficientSkills:[16,18]},沃什塔克特工:{statusDetails:{TOOLS:["制毒工具"]},proficientSkills:[16,4]},运动员:{statusDetails:{TOOLS:["载具(陆运)"]},proficientSkills:[2,1]},噩梦缠身:{statusDetails:{TOOLS:[]},proficientSkills:[6,5,9,14]},调查员:{statusDetails:{TOOLS:["易容工具","盗贼工具"]},proficientSkills:[11,5,10]},衡鉴学生:{statusDetails:{TOOLS:[]},proficientSkills:[7,9]},粹丽学生:{statusDetails:{TOOLS:["一种乐器","一种工匠工具"]},proficientSkills:[2,18]},量析学生:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[6,8]},银毫学生:{statusDetails:{TOOLS:[]},proficientSkills:[17,15]},靡华学生:{statusDetails:{TOOLS:["草药工具"]},proficientSkills:[8,14]},星界浪客:{statusDetails:{TOOLS:[]},proficientSkills:[11,9]},荒宇人:{statusDetails:{TOOLS:["领航者工具","载具(太空)"]},proficientSkills:[1,14]},巨人养子:{statusDetails:{TOOLS:[]},proficientSkills:[17,14]},符文雕刻者:{statusDetails:{TOOLS:["一种工匠工具"]},proficientSkills:[7,10]},受宠者:{statusDetails:{TOOLS:["一种你自选的赌具"]},proficientSkills:[11,15]},受难者:{statusDetails:{TOOLS:["一种你自选的赌具"]},proficientSkills:[4,14]}},os={法师:{proficiencyAbilities:[4,5],statusDetails:{WEAPON_PROFICIENCY:["匕首","飞镖","投石索","长棍","轻弩"],ARMOR_PROFICIENCY:["无"]},combatStats:{keyAttribute:4},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"施法,奥术回想",knownCantrips:3,spellSlots:[2,0,0,0,0,0,0,0,0]}],[2,{proficiencyBonus:2,classFeature:"选择奥术传承",knownCantrips:3,spellSlots:[3,0,0,0,0,0,0,0,0]}],[3,{proficiencyBonus:2,classFeature:"",knownCantrips:3,spellSlots:[4,2,0,0,0,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"属性值提升",knownCantrips:4,spellSlots:[4,3,0,0,0,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"",knownCantrips:4,spellSlots:[4,3,2,0,0,0,0,0,0]}],[6,{proficiencyBonus:3,classFeature:"奥术传承特性",knownCantrips:4,spellSlots:[4,3,3,0,0,0,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"",knownCantrips:4,spellSlots:[4,3,3,1,0,0,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"属性值提升",knownCantrips:4,spellSlots:[4,3,3,2,0,0,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"",knownCantrips:4,spellSlots:[4,3,3,3,0,0,0,0,0]}],[10,{proficiencyBonus:4,classFeature:"奥术传承特性",knownCantrips:5,spellSlots:[4,3,3,3,2,0,0,0,0]}],[11,{proficiencyBonus:4,classFeature:"",knownCantrips:5,spellSlots:[4,3,3,3,2,1,0,0,0]}],[12,{proficiencyBonus:4,classFeature:"属性值提升",knownCantrips:5,spellSlots:[4,3,3,3,2,1,0,0,0]}],[13,{proficiencyBonus:5,classFeature:"",knownCantrips:5,spellSlots:[4,3,3,3,2,1,0,0,0]}],[14,{proficiencyBonus:5,classFeature:"奥术传承特性",knownCantrips:5,spellSlots:[4,3,3,3,2,1,1,0,0]}],[15,{proficiencyBonus:5,classFeature:"",knownCantrips:5,spellSlots:[4,3,3,3,2,1,1,0,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",knownCantrips:5,spellSlots:[3,3,3,3,2,1,1,0,0]}],[17,{proficiencyBonus:6,classFeature:"",knownCantrips:5,spellSlots:[4,3,3,3,3,1,1,1,0]}],[18,{proficiencyBonus:6,classFeature:"法术精通",knownCantrips:5,spellSlots:[4,3,3,3,3,1,1,1,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",knownCantrips:5,spellSlots:[4,3,3,3,3,2,1,1,1]}],[20,{proficiencyBonus:6,classFeature:"招牌法术",knownCantrips:5,spellSlots:[3,3,3,3,3,2,2,1,1]}]])},术士:{proficiencyAbilities:[3,6],statusDetails:{WEAPON_PROFICIENCY:["匕首","飞镖","投石索","长棍","轻弩"],ARMOR_PROFICIENCY:["无"]},combatStats:{keyAttribute:6},classFeatureInfo:new Map([[1,{proficiencyBonus:2,spellPoints:0,classFeature:"施法,术法起源",knownCantrips:4,knownSpells:2,spellSlots:[2,0,0,0,0,0,0,0,0]}],[2,{proficiencyBonus:2,spellPoints:2,classFeature:"魔力泉涌",knownCantrips:4,knownSpells:3,spellSlots:[3,0,0,0,0,0,0,0,0]}],[3,{proficiencyBonus:2,spellPoints:3,classFeature:"超魔法",knownCantrips:4,knownSpells:4,spellSlots:[4,2,0,0,0,0,0,0,0]}],[4,{proficiencyBonus:2,spellPoints:4,classFeature:"属性值提升",knownCantrips:5,knownSpells:5,spellSlots:[4,3,0,0,0,0,0,0,0]}],[5,{proficiencyBonus:3,spellPoints:5,classFeature:"",knownCantrips:5,knownSpells:6,spellSlots:[4,3,2,0,0,0,0,0,0]}],[6,{proficiencyBonus:3,spellPoints:6,classFeature:"术法起源特性",knownCantrips:5,knownSpells:7,spellSlots:[4,3,3,0,0,0,0,0,0]}],[7,{proficiencyBonus:3,spellPoints:7,classFeature:"",knownCantrips:5,knownSpells:8,spellSlots:[4,3,3,1,0,0,0,0,0]}],[8,{proficiencyBonus:3,spellPoints:8,classFeature:"属性值提升",knownCantrips:5,knownSpells:9,spellSlots:[4,3,3,2,0,0,0,0,0]}],[9,{proficiencyBonus:4,spellPoints:9,classFeature:"",knownCantrips:5,knownSpells:10,spellSlots:[4,3,3,3,1,0,0,0,0]}],[10,{proficiencyBonus:4,spellPoints:10,classFeature:"超魔法",knownCantrips:6,knownSpells:11,spellSlots:[4,3,3,3,2,0,0,0,0]}],[11,{proficiencyBonus:4,spellPoints:11,classFeature:"",knownCantrips:6,knownSpells:12,spellSlots:[4,3,3,3,2,1,0,0,0]}],[12,{proficiencyBonus:4,spellPoints:12,classFeature:"属性值提升",knownCantrips:6,knownSpells:12,spellSlots:[4,3,3,3,2,1,0,0,0]}],[13,{proficiencyBonus:5,spellPoints:13,classFeature:"",knownCantrips:6,knownSpells:13,spellSlots:[4,3,3,3,2,1,1,0,0]}],[14,{proficiencyBonus:5,spellPoints:14,classFeature:"术法起源特性",knownCantrips:6,knownSpells:13,spellSlots:[4,3,3,3,2,1,1,0,0]}],[15,{proficiencyBonus:5,spellPoints:15,classFeature:"",knownCantrips:6,knownSpells:14,spellSlots:[4,3,3,3,2,1,1,1,0]}],[16,{proficiencyBonus:5,spellPoints:16,classFeature:"属性值提升",knownCantrips:6,knownSpells:14,spellSlots:[4,3,3,3,2,1,1,1,1]}],[17,{proficiencyBonus:6,spellPoints:17,classFeature:"超魔法",knownCantrips:6,knownSpells:15,spellSlots:[4,3,3,3,2,1,1,1,1]}],[18,{proficiencyBonus:6,spellPoints:18,classFeature:"术法起源特性",knownCantrips:6,knownSpells:15,spellSlots:[4,3,3,3,3,1,1,1,1]}],[19,{proficiencyBonus:6,spellPoints:19,classFeature:"属性值提升",knownCantrips:6,knownSpells:15,spellSlots:[4,3,3,3,3,2,1,1,1]}],[20,{proficiencyBonus:6,spellPoints:20,classFeature:"术法复苏",knownCantrips:6,knownSpells:15,spellSlots:[4,3,3,3,3,2,2,1,1]}]]),specialAbilities:["谨慎法术","远程法术","强效法术","延效法术","升阶法术","瞬发法术","精妙法术","孪生法术"]},吟游诗人:{proficiencyAbilities:[2,6],statusDetails:{WEAPON_PROFICIENCY:["简易武器","手弩","长剑","刺剑","短剑"],ARMOR_PROFICIENCY:["轻甲"]},combatStats:{keyAttribute:6},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"施法, 诗人激励(d6)",knownCantrips:2,knownSpells:4,spellSlots:[2,0,0,0,0,0,0,0,0,0]}],[2,{proficiencyBonus:2,classFeature:"万事通, 休憩曲(d6)",knownCantrips:2,knownSpells:5,spellSlots:[3,0,0,0,0,0,0,0,0,0]}],[3,{proficiencyBonus:2,classFeature:"选择诗人学院, 专精",knownCantrips:2,knownSpells:6,spellSlots:[4,2,0,0,0,0,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"属性值提升",knownCantrips:3,knownSpells:7,spellSlots:[4,3,0,0,0,0,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"诗人激励(d8), 激励之源",knownCantrips:3,knownSpells:8,spellSlots:[4,3,2,0,0,0,0,0,0,0]}],[6,{proficiencyBonus:3,classFeature:"反迷惑, 学院特性",knownCantrips:3,knownSpells:9,spellSlots:[4,3,3,0,0,0,0,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"",knownCantrips:3,knownSpells:10,spellSlots:[4,3,3,1,0,0,0,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"属性值提升",knownCantrips:3,knownSpells:11,spellSlots:[4,3,3,2,0,0,0,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"休憩曲(d8)",knownCantrips:3,knownSpells:12,spellSlots:[4,3,3,3,1,0,0,0,0,0,0]}],[10,{proficiencyBonus:4,classFeature:"诗人激励(d10), 专精, 魔法奥秘",knownCantrips:4,knownSpells:14,spellSlots:[4,3,3,3,2,0,0,0,0,0,0]}],[11,{proficiencyBonus:5,classFeature:"",knownCantrips:4,knownSpells:15,spellSlots:[4,3,3,3,2,1,0,0,0,0]}],[12,{proficiencyBonus:5,classFeature:"属性值提升",knownCantrips:4,knownSpells:15,spellSlots:[4,3,3,3,2,1,1,0,0,0]}],[13,{proficiencyBonus:5,classFeature:"休憩曲(d10)",knownCantrips:4,knownSpells:16,spellSlots:[4,3,3,3,2,1,1,0,0,0]}],[14,{proficiencyBonus:5,classFeature:"魔法奥秘, 学院特性",knownCantrips:4,knownSpells:18,spellSlots:[4,3,3,3,2,1,1,1,0,0]}],[15,{proficiencyBonus:5,classFeature:"诗人激励(d12)",knownCantrips:4,knownSpells:19,spellSlots:[4,3,3,3,2,1,1,1,1,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",knownCantrips:4,knownSpells:19,spellSlots:[4,3,3,3,2,1,1,1,1,0]}],[17,{proficiencyBonus:6,classFeature:"休憩曲(d12)",knownCantrips:4,knownSpells:20,spellSlots:[4,3,3,3,3,1,1,1,1,1]}],[18,{proficiencyBonus:6,classFeature:"魔法奥秘",knownCantrips:4,knownSpells:22,spellSlots:[4,3,3,3,3,2,1,1,1,1,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",knownCantrips:4,knownSpells:22,spellSlots:[4,3,3,3,3,2,2,1,1,1,1]}],[20,{proficiencyBonus:6,classFeature:"先发激励",knownCantrips:4,knownSpells:22,spellSlots:[4,3,3,3,3,2,2,2,1,1,1]}]])},牧师:{proficiencyAbilities:[5,6],statusDetails:{WEAPON_PROFICIENCY:["简易武器"],ARMOR_PROFICIENCY:["轻甲","中甲","盾牌"]},combatStats:{keyAttribute:5},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"施法,神圣领域",spellSlots:[3,0,0,0,0,0,0,0,0]}],[2,{proficiencyBonus:2,classFeature:"引导神力 (1/休),领域特性",spellSlots:[3,0,0,0,0,0,0,0,0]}],[3,{proficiencyBonus:2,classFeature:"",spellSlots:[3,2,0,0,0,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"属性值提升",spellSlots:[4,3,0,0,0,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"摧毁不死生物 (CR 1/2)",spellSlots:[4,3,2,0,0,0,0,0,0]}],[6,{proficiencyBonus:3,classFeature:"引导神力 (2/休),领域特性",spellSlots:[4,3,3,0,0,0,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"",spellSlots:[4,3,3,1,0,0,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"属性值提升,摧毁不死生物 (CR 1),领域特性",spellSlots:[4,3,3,2,0,0,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"",spellSlots:[4,3,3,3,1,0,0,0,0]}],[10,{proficiencyBonus:4,classFeature:"神圣干预",spellSlots:[4,3,3,3,2,0,0,0,0]}],[11,{proficiencyBonus:4,classFeature:"摧毁不死生物 (CR 2)",spellSlots:[4,3,3,3,2,1,0,0,0]}],[12,{proficiencyBonus:4,classFeature:"属性值提升",spellSlots:[4,3,3,3,2,1,0,0,0]}],[13,{proficiencyBonus:5,classFeature:"",spellSlots:[4,3,3,3,2,1,1,0,0]}],[14,{proficiencyBonus:5,classFeature:"摧毁不死生物 (CR 3)",spellSlots:[4,3,3,3,2,1,1,0,0]}],[15,{proficiencyBonus:5,classFeature:"",spellSlots:[4,3,3,3,2,1,1,1,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",spellSlots:[4,3,3,3,2,1,1,1,0]}],[17,{proficiencyBonus:6,classFeature:"摧毁不死生物 (CR 4),领域特性",spellSlots:[4,3,3,3,2,1,1,1,1]}],[18,{proficiencyBonus:6,classFeature:"引导神力 (3/休)",spellSlots:[4,3,3,3,3,1,1,1,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",spellSlots:[4,3,3,3,3,2,1,1,1]}],[20,{proficiencyBonus:6,classFeature:"神圣干预增效",spellSlots:[4,3,3,3,3,2,2,1,1]}]])},德鲁伊:{proficiencyAbilities:[4,5],statusDetails:{WEAPON_PROFICIENCY:["短棒","匕首","飞镖","ḷ枪","硬头锤","长棍","弯刀","镰刀","投石索","矛"],ARMOR_PROFICIENCY:["轻甲","中甲","盾牌(德鲁伊不能装备或使用金属质的护甲和盾)"]},combatStats:{keyAttribute:5},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"德鲁伊语, 施法",knownCantrips:2,spellSlots:[2,0,0,0,0,0,0,0,0]}],[2,{proficiencyBonus:2,classFeature:"荒野形态,选择德鲁伊环",knownCantrips:2,spellSlots:[3,0,0,0,0,0,0,0,0]}],[3,{proficiencyBonus:2,classFeature:"",knownCantrips:2,spellSlots:[4,2,0,0,0,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"荒野形态增效,属性值提升",knownCantrips:3,spellSlots:[4,3,0,0,0,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"",knownCantrips:3,spellSlots:[4,3,2,0,0,0,0,0,0]}],[6,{proficiencyBonus:3,classFeature:"结社特性",knownCantrips:3,spellSlots:[4,3,3,0,0,0,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"",knownCantrips:3,spellSlots:[4,3,3,1,0,0,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"荒野形态增效,属性值提升",knownCantrips:3,spellSlots:[4,3,3,2,0,0,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"",knownCantrips:3,spellSlots:[4,3,3,3,1,0,0,0,0]}],[10,{proficiencyBonus:4,classFeature:"结社特性",knownCantrips:4,spellSlots:[4,3,3,3,2,0,0,0,0]}],[11,{proficiencyBonus:4,classFeature:"",knownCantrips:4,spellSlots:[4,3,3,3,2,1,0,0,0]}],[12,{proficiencyBonus:4,classFeature:"属性值提升",knownCantrips:4,spellSlots:[4,3,3,3,2,1,0,0,0]}],[13,{proficiencyBonus:5,classFeature:"",knownCantrips:4,spellSlots:[4,3,3,3,2,1,1,0,0]}],[14,{proficiencyBonus:5,classFeature:"结社特性",knownCantrips:4,spellSlots:[4,3,3,3,2,1,1,0,0]}],[15,{proficiencyBonus:5,classFeature:"",knownCantrips:4,spellSlots:[4,3,3,3,2,1,1,1,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",knownCantrips:4,spellSlots:[4,3,3,3,2,1,1,1,0]}],[17,{proficiencyBonus:6,classFeature:"",knownCantrips:4,spellSlots:[4,3,3,3,2,1,1,1,1]}],[18,{proficiencyBonus:6,classFeature:"不朽身,野兽施法",knownCantrips:4,spellSlots:[4,3,3,3,3,1,1,1,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",knownCantrips:4,spellSlots:[4,3,3,3,3,2,1,1,1]}],[20,{proficiencyBonus:6,classFeature:"大德鲁伊",knownCantrips:4,spellSlots:[4,3,3,3,3,2,2,1,1]}]])},武僧:{proficiencyAbilities:[1,2],statusDetails:{WEAPON_PROFICIENCY:["简易武器","短剑"],ARMOR_PROFICIENCY:["无"]},combatStats:{keyAttribute:5},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"武艺,气",martialArts:"1d4",ki:0,unarmoredMovement:0}],[2,{proficiencyBonus:2,classFeature:"气,无甲移动",martialArts:"1d4",ki:2,unarmoredMovement:10}],[3,{proficiencyBonus:2,classFeature:"武僧传统",martialArts:"1d4",ki:3,unarmoredMovement:10}],[4,{proficiencyBonus:2,classFeature:"属性值提升,轻身敏捷",martialArts:"1d4",ki:4,unarmoredMovement:10}],[5,{proficiencyBonus:3,classFeature:"额外攻击,震慑拳",martialArts:"1d6",ki:5,unarmoredMovement:10}],[6,{proficiencyBonus:3,classFeature:"气导打击,武僧传统特性",martialArts:"1d6",ki:6,unarmoredMovement:15}],[7,{proficiencyBonus:3,classFeature:"反射闪避,心如止水",martialArts:"1d6",ki:7,unarmoredMovement:15}],[8,{proficiencyBonus:3,classFeature:"属性值提升",martialArts:"1d6",ki:8,unarmoredMovement:15}],[9,{proficiencyBonus:4,classFeature:"无甲移动增效",martialArts:"1d6",ki:9,unarmoredMovement:15}],[10,{proficiencyBonus:4,classFeature:"百病不侵",martialArts:"1d6",ki:10,unarmoredMovement:20}],[11,{proficiencyBonus:4,classFeature:"武僧传统特性",martialArts:"1d8",ki:11,unarmoredMovement:20}],[12,{proficiencyBonus:4,classFeature:"属性值提升",martialArts:"1d8",ki:12,unarmoredMovement:20}],[13,{proficiencyBonus:5,classFeature:"天语通",martialArts:"1d8",ki:13,unarmoredMovement:20}],[14,{proficiencyBonus:5,classFeature:"金刚魂",martialArts:"1d8",ki:14,unarmoredMovement:25}],[15,{proficiencyBonus:5,classFeature:"不朽身",martialArts:"1d8",ki:15,unarmoredMovement:25}],[16,{proficiencyBonus:5,classFeature:"属性值提升",martialArts:"1d8",ki:16,unarmoredMovement:25}],[17,{proficiencyBonus:6,classFeature:"武僧传统特性",martialArts:"1d10",ki:17,unarmoredMovement:25}],[18,{proficiencyBonus:6,classFeature:"空灵体",martialArts:"1d10",ki:18,unarmoredMovement:30}],[19,{proficiencyBonus:6,classFeature:"属性值提升",martialArts:"1d10",ki:19,unarmoredMovement:30}],[20,{proficiencyBonus:6,classFeature:"超凡入圣",martialArts:"1d10",ki:20,unarmoredMovement:30}]])},游荡者:{proficiencyAbilities:[2,4],statusDetails:{WEAPON_PROFICIENCY:["简易武器","手弩","长剑","刺剑","短剑"],ARMOR_PROFICIENCY:["轻甲"]},combatStats:{keyAttribute:2},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"专精,偷袭,盗贼黑话",sneakAttack:"1d6"}],[2,{proficiencyBonus:2,classFeature:"灵巧动作",sneakAttack:"1d6"}],[3,{proficiencyBonus:2,classFeature:"选择游荡者范型",sneakAttack:"2d6"}],[4,{proficiencyBonus:2,classFeature:"属性值提升",sneakAttack:"2d6"}],[5,{proficiencyBonus:3,classFeature:"灵敏闪避",sneakAttack:"3d6"}],[6,{proficiencyBonus:3,classFeature:"专精",sneakAttack:"3d6"}],[7,{proficiencyBonus:3,classFeature:"反射闪避",sneakAttack:"4d6"}],[8,{proficiencyBonus:3,classFeature:"属性值提升",sneakAttack:"4d6"}],[9,{proficiencyBonus:4,classFeature:"范型特性",sneakAttack:"5d6"}],[10,{proficiencyBonus:4,classFeature:"属性值提升",sneakAttack:"5d6"}],[11,{proficiencyBonus:4,classFeature:"可靠才能",sneakAttack:"6d6"}],[12,{proficiencyBonus:4,classFeature:"属性值提升",sneakAttack:"6d6"}],[13,{proficiencyBonus:5,classFeature:"范型特性",sneakAttack:"7d6"}],[14,{proficiencyBonus:5,classFeature:"听声辨位",sneakAttack:"7d6"}],[15,{proficiencyBonus:5,classFeature:"灵敏心智",sneakAttack:"8d6"}],[16,{proficiencyBonus:5,classFeature:"属性值提升",sneakAttack:"8d6"}],[17,{proficiencyBonus:6,classFeature:"范型特性",sneakAttack:"9d6"}],[18,{proficiencyBonus:6,classFeature:"难觅不定",sneakAttack:"9d6"}],[19,{proficiencyBonus:6,classFeature:"属性值提升",sneakAttack:"10d6"}],[20,{proficiencyBonus:6,classFeature:"一击必杀",sneakAttack:"10d6"}]])},邪术师:{proficiencyAbilities:[5,6],statusDetails:{WEAPON_PROFICIENCY:["简易武器"],ARMOR_PROFICIENCY:["轻甲"]},combatStats:{keyAttribute:6},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"选择异界宗主,契约魔法",knownSpells:2,knownCantrips:2,spellSlots:[1,0,0,0,0,0,0,0,0],knownInvocations:0}],[2,{proficiencyBonus:2,classFeature:"魔能祈唤",knownSpells:3,knownCantrips:2,spellSlots:[2,0,0,0,0,0,0,0,0],knownInvocations:2}],[3,{proficiencyBonus:2,classFeature:"魔契恩泽",knownSpells:4,knownCantrips:2,spellSlots:[0,2,0,0,0,0,0,0,0],knownInvocations:2}],[4,{proficiencyBonus:2,classFeature:"属性值提升",knownSpells:5,knownCantrips:3,spellSlots:[0,2,0,0,0,0,0,0,0],knownInvocations:2}],[5,{proficiencyBonus:3,classFeature:"",knownSpells:6,knownCantrips:3,spellSlots:[0,0,2,0,0,0,0,0,0],knownInvocations:3}],[6,{proficiencyBonus:3,classFeature:"异界宗主特性",knownSpells:7,knownCantrips:3,spellSlots:[0,0,2,0,0,0,0,0,0],knownInvocations:3}],[7,{proficiencyBonus:3,classFeature:"",knownSpells:8,knownCantrips:3,spellSlots:[0,0,0,2,0,0,0,0,0],knownInvocations:4}],[8,{proficiencyBonus:3,classFeature:"属性值提升",knownSpells:9,knownCantrips:3,spellSlots:[0,0,0,2,0,0,0,0,0],knownInvocations:4}],[9,{proficiencyBonus:4,classFeature:"",knownSpells:10,knownCantrips:3,spellSlots:[0,0,0,0,2,0,0,0,0],knownInvocations:5}],[10,{proficiencyBonus:4,classFeature:"异界宗主特性",knownSpells:10,knownCantrips:4,spellSlots:[0,0,0,0,2,0,0,0,0],knownInvocations:5}],[11,{proficiencyBonus:4,classFeature:"玄奥秘法 (6环)",knownSpells:11,knownCantrips:4,spellSlots:[0,0,0,0,3,0,0,0,0],knownInvocations:5}],[12,{proficiencyBonus:4,classFeature:"属性值提升",knownSpells:11,knownCantrips:4,spellSlots:[0,0,0,0,3,0,0,0,0],knownInvocations:6}],[13,{proficiencyBonus:5,classFeature:"玄奥秘法 (7环)",knownSpells:12,knownCantrips:4,spellSlots:[0,0,0,0,3,0,0,0,0],knownInvocations:6}],[14,{proficiencyBonus:5,classFeature:"异界宗主特性",knownSpells:12,knownCantrips:4,spellSlots:[0,0,0,0,3,0,0,0,0],knownInvocations:6}],[15,{proficiencyBonus:5,classFeature:"玄奥秘法 (8环)",knownSpells:13,knownCantrips:4,spellSlots:[0,0,0,0,3,0,0,0,0],knownInvocations:7}],[16,{proficiencyBonus:5,classFeature:"属性值提升",knownSpells:13,knownCantrips:4,spellSlots:[0,0,0,0,3,0,0,0,0],knownInvocations:7}],[17,{proficiencyBonus:6,classFeature:"玄奥秘法 (9环)",knownSpells:14,knownCantrips:4,spellSlots:[0,0,0,0,4,0,0,0,0],knownInvocations:7}],[18,{proficiencyBonus:6,classFeature:"",knownSpells:14,knownCantrips:4,spellSlots:[0,0,0,0,4,0,0,0,0],knownInvocations:8}],[19,{proficiencyBonus:6,classFeature:"属性值提升",knownSpells:15,knownCantrips:4,spellSlots:[0,0,0,0,4,0,0,0,0],knownInvocations:8}],[20,{proficiencyBonus:6,classFeature:"魔能宗控",knownSpells:15,knownCantrips:4,spellSlots:[0,0,0,0,4,0,0,0,0],knownInvocations:8}]])},奇械师:{proficiencyAbilities:[3,4],statusDetails:{WEAPON_PROFICIENCY:["简易武器"],ARMOR_PROFICIENCY:["轻甲","中甲","盾牌"]},combatStats:{keyAttribute:4},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"魔法工艺,施法",knownSpells:0,knownCantrips:2,spellSlots:[2,0,0,0,0]}],[2,{proficiencyBonus:2,classFeature:"物品注法",knownSpells:4,knownCantrips:2,spellSlots:[2,0,0,0,0]}],[3,{proficiencyBonus:2,classFeature:"奇械师专业,称手工具",knownSpells:4,knownCantrips:2,spellSlots:[3,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"属性值提升",knownSpells:4,knownCantrips:2,spellSlots:[3,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"奇械师专业特性",knownSpells:4,knownCantrips:2,spellSlots:[4,2,0,0,0]}],[6,{proficiencyBonus:3,classFeature:"工具专精",knownSpells:6,knownCantrips:2,spellSlots:[4,2,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"灵光一闪",knownSpells:6,knownCantrips:2,spellSlots:[4,3,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"属性值提升",knownSpells:6,knownCantrips:2,spellSlots:[4,3,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"奇械师专业特性",knownSpells:6,knownCantrips:2,spellSlots:[4,3,2,0,0]}],[10,{proficiencyBonus:4,classFeature:"魔法物品黑格",knownSpells:8,knownCantrips:3,spellSlots:[4,3,2,0,0]}],[11,{proficiencyBonus:4,classFeature:"储法物品",knownSpells:8,knownCantrips:3,spellSlots:[4,3,3,0,0]}],[12,{proficiencyBonus:4,classFeature:"属性值提升",knownSpells:8,knownCantrips:3,spellSlots:[4,3,3,0,0]}],[13,{proficiencyBonus:5,classFeature:"",knownSpells:8,knownCantrips:3,spellSlots:[4,3,3,1,0]}],[14,{proficiencyBonus:5,classFeature:"魔法物品专家",knownSpells:10,knownCantrips:4,spellSlots:[4,3,3,1,0]}],[15,{proficiencyBonus:5,classFeature:"奇械师专业特性",knownSpells:10,knownCantrips:4,spellSlots:[4,3,3,2,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",knownSpells:10,knownCantrips:4,spellSlots:[4,3,3,2,0]}],[17,{proficiencyBonus:6,classFeature:"",knownSpells:10,knownCantrips:4,spellSlots:[4,3,3,3,1]}],[18,{proficiencyBonus:6,classFeature:"魔法物品大师",knownSpells:12,knownCantrips:4,spellSlots:[4,3,3,3,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",knownSpells:12,knownCantrips:4,spellSlots:[4,3,3,3,2]}],[20,{proficiencyBonus:6,classFeature:"奇械之魂",knownSpells:12,knownCantrips:4,spellSlots:[4,3,3,3,2]}]])},战士:{proficiencyAbilities:[1,3],statusDetails:{WEAPON_PROFICIENCY:["简易武器","军用武器"],ARMOR_PROFICIENCY:["所有护甲","盾牌"]},combatStats:{keyAttribute:1},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"战斗风格,回气"}],[2,{proficiencyBonus:2,classFeature:"动作如潮 (一次)"}],[3,{proficiencyBonus:2,classFeature:"武术范型"}],[4,{proficiencyBonus:2,classFeature:"属性值提升"}],[5,{proficiencyBonus:3,classFeature:"额外攻击"}],[6,{proficiencyBonus:3,classFeature:"属性值提升"}],[7,{proficiencyBonus:3,classFeature:"范型特性"}],[8,{proficiencyBonus:3,classFeature:"属性值提升"}],[9,{proficiencyBonus:4,classFeature:"不屈 (一次)"}],[10,{proficiencyBonus:4,classFeature:"范型特性"}],[11,{proficiencyBonus:4,classFeature:"额外攻击 (2)"}],[12,{proficiencyBonus:4,classFeature:"属性值提升"}],[13,{proficiencyBonus:5,classFeature:"不屈 (二次)"}],[14,{proficiencyBonus:5,classFeature:"属性值提升"}],[15,{proficiencyBonus:5,classFeature:"范型特性"}],[16,{proficiencyBonus:5,classFeature:"属性值提升"}],[17,{proficiencyBonus:6,classFeature:"动作如潮 (两次),不屈 (三次)"}],[18,{proficiencyBonus:6,classFeature:"范型特性"}],[19,{proficiencyBonus:6,classFeature:"属性值提升"}],[20,{proficiencyBonus:6,classFeature:"额外攻击 (3)"}]])},圣武士:{proficiencyAbilities:[5,6],statusDetails:{WEAPON_PROFICIENCY:["简易武器","军用武器"],ARMOR_PROFICIENCY:["所有护甲","盾牌"]},combatStats:{keyAttribute:6},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"神圣感知, 圣疗",spellSlots:[0,0,0,0,0]}],[2,{proficiencyBonus:2,classFeature:"至圣斩, 战斗风格, 施法",spellSlots:[2,0,0,0,0],alwaysPreparedSpells:["至圣斩"]}],[3,{proficiencyBonus:2,classFeature:"神佑, 选择神圣誓言",spellSlots:[3,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"属性值提升",spellSlots:[3,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"额外攻击",spellSlots:[4,2,0,0,0],alwaysPreparedSpells:["寻获坐骑"]}],[6,{proficiencyBonus:3,classFeature:"守护灵光",spellSlots:[4,2,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"圣誓特性",spellSlots:[4,3,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"属性值提升",spellSlots:[4,3,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"",spellSlots:[4,3,2,0,0]}],[10,{proficiencyBonus:4,classFeature:"勇气灵光",spellSlots:[4,3,2,0,0]}],[11,{proficiencyBonus:4,classFeature:"精通至圣斩",spellSlots:[4,3,3,0,0]}],[12,{proficiencyBonus:4,classFeature:"属性值提升",spellSlots:[4,3,3,0,0]}],[13,{proficiencyBonus:5,classFeature:"",spellSlots:[4,3,3,1,0]}],[14,{proficiencyBonus:5,classFeature:"净化之触",spellSlots:[4,3,3,1,0]}],[15,{proficiencyBonus:5,classFeature:"圣誓特性",spellSlots:[4,3,3,2,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",spellSlots:[4,3,3,2,0]}],[17,{proficiencyBonus:6,classFeature:"",spellSlots:[4,3,3,3,1]}],[18,{proficiencyBonus:6,classFeature:"灵光增效",spellSlots:[4,3,3,3,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",spellSlots:[4,3,3,3,2]}],[20,{proficiencyBonus:6,classFeature:"圣誓特性",spellSlots:[4,3,3,3,2]}]])},游侠:{proficiencyAbilities:[1,2],statusDetails:{WEAPON_PROFICIENCY:["简易武器","军用武器"],ARMOR_PROFICIENCY:["轻甲","中甲","盾牌"]},combatStats:{keyAttribute:5},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"宿敌, 自然探索者",knownSpells:1,spellSlots:[1,0,0,0,0],alwaysPreparedSpells:["猎人印记"]}],[2,{proficiencyBonus:2,classFeature:"战斗风格, 施法",knownSpells:2,spellSlots:[2,0,0,0,0]}],[3,{proficiencyBonus:2,classFeature:"选择游侠范型, 原初意识",knownSpells:3,spellSlots:[3,0,0,0,0]}],[4,{proficiencyBonus:2,classFeature:"属性值提升",knownSpells:3,spellSlots:[3,0,0,0,0]}],[5,{proficiencyBonus:3,classFeature:"额外攻击",knownSpells:4,spellSlots:[4,2,0,0,0]}],[6,{proficiencyBonus:3,classFeature:"增加宿敌及偏好环境",knownSpells:4,spellSlots:[4,2,0,0,0]}],[7,{proficiencyBonus:3,classFeature:"范型特性",knownSpells:5,spellSlots:[4,3,0,0,0]}],[8,{proficiencyBonus:3,classFeature:"属性值提升, 大地行者",knownSpells:5,spellSlots:[4,3,0,0,0]}],[9,{proficiencyBonus:4,classFeature:"",knownSpells:6,spellSlots:[4,3,2,0,0]}],[10,{proficiencyBonus:4,classFeature:"增加偏好环境, 遁术",knownSpells:6,spellSlots:[4,3,2,0,0]}],[11,{proficiencyBonus:4,classFeature:"范型特性",knownSpells:7,spellSlots:[4,3,3,0,0]}],[12,{proficiencyBonus:4,classFeature:"属性值提升",knownSpells:7,spellSlots:[4,3,3,0,0]}],[13,{proficiencyBonus:5,classFeature:"",knownSpells:8,spellSlots:[4,3,3,1,0]}],[14,{proficiencyBonus:5,classFeature:"增加宿敌, 无踪步",knownSpells:8,spellSlots:[4,3,3,1,0]}],[15,{proficiencyBonus:5,classFeature:"范型特性",knownSpells:9,spellSlots:[4,3,3,2,0]}],[16,{proficiencyBonus:5,classFeature:"属性值提升",knownSpells:9,spellSlots:[4,3,3,2,0]}],[17,{proficiencyBonus:6,classFeature:"",knownSpells:10,spellSlots:[4,3,3,3,1]}],[18,{proficiencyBonus:6,classFeature:"野性感官",knownSpells:10,spellSlots:[4,3,3,3,1]}],[19,{proficiencyBonus:6,classFeature:"属性值提升",knownSpells:11,spellSlots:[4,3,3,3,2]}],[20,{proficiencyBonus:6,classFeature:"屠灭众敌",knownSpells:11,spellSlots:[4,3,3,3,2]}]])},野蛮人:{proficiencyAbilities:[1,3],statusDetails:{WEAPON_PROFICIENCY:["简易武器","军用武器"],ARMOR_PROFICIENCY:["轻甲","中甲","盾牌"]},combatStats:{keyAttribute:3},classFeatureInfo:new Map([[1,{proficiencyBonus:2,classFeature:"狂暴,无甲防御",rageCount:2,rageDamage:2}],[2,{proficiencyBonus:2,classFeature:"鲁莽攻击,险境感知",rageCount:2,rageDamage:2}],[3,{proficiencyBonus:2,classFeature:"选择原初道途",rageCount:3,rageDamage:2}],[4,{proficiencyBonus:2,classFeature:"属性值提升",rageCount:3,rageDamage:2}],[5,{proficiencyBonus:3,classFeature:"额外攻击,快速移动",rageCount:3,rageDamage:2}],[6,{proficiencyBonus:3,classFeature:"道途特性",rageCount:4,rageDamage:2}],[7,{proficiencyBonus:3,classFeature:"野性直觉",rageCount:4,rageDamage:2}],[8,{proficiencyBonus:3,classFeature:"属性值提升",rageCount:4,rageDamage:2}],[9,{proficiencyBonus:4,classFeature:"凶蛮重击 (1级)",rageCount:4,rageDamage:3}],[10,{proficiencyBonus:4,classFeature:"道途特性",rageCount:4,rageDamage:3}],[11,{proficiencyBonus:4,classFeature:"坚韧狂暴",rageCount:4,rageDamage:3}],[12,{proficiencyBonus:4,classFeature:"属性值提升",rageCount:5,rageDamage:3}],[13,{proficiencyBonus:5,classFeature:"凶蛮重击 (2级)",rageCount:5,rageDamage:3}],[14,{proficiencyBonus:5,classFeature:"道途特性",rageCount:5,rageDamage:3}],[15,{proficiencyBonus:5,classFeature:"持久狂暴",rageCount:5,rageDamage:3}],[16,{proficiencyBonus:5,classFeature:"属性值提升",rageCount:5,rageDamage:4}],[17,{proficiencyBonus:6,classFeature:"凶蛮重击 (3级)",rageCount:6,rageDamage:4}],[18,{proficiencyBonus:6,classFeature:"不屈力量",rageCount:6,rageDamage:4}],[19,{proficiencyBonus:6,classFeature:"属性值提升",rageCount:6,rageDamage:4}],[20,{proficiencyBonus:6,classFeature:"原初斗士",rageCount:1/0,rageDamage:4}]])},兼职施法者:{classFeatureInfo:new Map([[1,{proficiencyBonus:2,spellSlots:[2,0,0,0,0,0,0,0,0]}],[2,{proficiencyBonus:2,spellSlots:[3,0,0,0,0,0,0,0,0]}],[3,{proficiencyBonus:2,spellSlots:[4,2,0,0,0,0,0,0,0]}],[4,{proficiencyBonus:2,spellSlots:[4,3,0,0,0,0,0,0,0]}],[5,{proficiencyBonus:3,spellSlots:[4,3,2,0,0,0,0,0,0]}],[6,{proficiencyBonus:3,spellSlots:[4,3,3,0,0,0,0,0,0]}],[7,{proficiencyBonus:3,spellSlots:[4,3,3,1,0,0,0,0,0]}],[8,{proficiencyBonus:3,spellSlots:[4,3,3,2,0,0,0,0,0]}],[9,{proficiencyBonus:4,spellSlots:[4,3,3,3,0,0,0,0,0]}],[10,{proficiencyBonus:4,spellSlots:[4,3,3,3,2,0,0,0,0]}],[11,{proficiencyBonus:4,spellSlots:[4,3,3,3,2,1,0,0,0]}],[12,{proficiencyBonus:4,spellSlots:[4,3,3,3,2,1,0,0,0]}],[13,{proficiencyBonus:5,spellSlots:[4,3,3,3,2,1,0,0,0]}],[14,{proficiencyBonus:5,spellSlots:[4,3,3,3,2,1,1,0,0]}],[15,{proficiencyBonus:5,spellSlots:[4,3,3,3,2,1,1,0,0]}],[16,{proficiencyBonus:5,spellSlots:[4,3,3,3,2,1,1,0,0]}],[17,{proficiencyBonus:6,spellSlots:[4,3,3,3,3,1,1,1,0]}],[18,{proficiencyBonus:6,spellSlots:[4,3,3,3,3,1,1,1,1]}],[19,{proficiencyBonus:6,spellSlots:[4,3,3,3,3,2,1,1,1]}],[20,{proficiencyBonus:6,spellSlots:[3,3,3,3,3,2,2,1,1]}]])}},_N=new Map([["短棒",{damage:"1d4",damageType:"钝击",cost:"1 sp",properties:"轻型",weight:2}],["匕首",{damage:"1d4",damageType:"穿刺",cost:"2 gp",properties:"灵巧 轻型 投掷(射程20/60)",weight:1}],["巨棒",{damage:"1d8",damageType:"钝击",cost:"2 sp",properties:"双手",weight:10}],["手斧",{damage:"1d6",damageType:"挥砍",cost:"5 gp",properties:"轻型 投掷(射程20/60)",weight:2}],["标枪",{damage:"1d6",damageType:"穿刺",cost:"5 sp",properties:"投掷(射程30/120)",weight:2}],["轻锤",{damage:"1d4",damageType:"钝击",cost:"2 gp",properties:"轻型 投掷(射程20/60)",weight:2}],["硬头锤",{damage:"1d6",damageType:"钝击",cost:"5 gp",properties:"—",weight:4}],["长棍",{damage:"1d6",damageType:"钝击",cost:"2 sp",properties:"两用(1d8)",weight:4}],["镰刀",{damage:"1d4",damageType:"挥砍",cost:"1 gp",properties:"轻型",weight:2}],["矛",{damage:"1d6",damageType:"穿刺",cost:"1 gp",properties:"投掷(射程20/60) 两用(1d8)",weight:3}],["轻弩",{damage:"1d8",damageType:"穿刺",cost:"25 gp",properties:"弹药(射程80/320) 装填 双手",weight:5}],["飞镖",{damage:"1d4",damageType:"穿刺",cost:"5 cp",properties:"灵巧 轻型 投掷(射程20/60)",weight:.25}],["短弓",{damage:"1d6",damageType:"穿刺",cost:"5 cp",properties:"弹药(射程80/320) 双手",weight:2}],["投石索",{damage:"1d4",damageType:"钝击",cost:"1 sp",properties:"弹药(射程30/120)",weight:0}],["战斧",{damage:"1d8",damageType:"挥砍",cost:"10 gp",properties:"两用(1d10)",weight:4}],["链枷",{damage:"1d8",damageType:"钝击",cost:"10 gp",properties:"—",weight:2}],["长柄刀",{damage:"1d10",damageType:"挥砍",cost:"20 gp",properties:"重型 触及 双手",weight:6}],["巨斧",{damage:"1d12",damageType:"挥砍",cost:"30 gp",properties:"重型 双手",weight:7}],["巨剑",{damage:"2d6",damageType:"挥砍",cost:"50 gp",properties:"重型",weight:6}],["戟",{damage:"1d10",damageType:"挥砍",cost:"20 gp",properties:"重型 触及 双手",weight:6}],["骑枪",{damage:"1d12",damageType:"穿刺",cost:"10 gp",properties:"触及 特殊",weight:6}],["长剑",{damage:"1d8",damageType:"挥砍",cost:"15 gp",properties:"两用(1d10)",weight:3}],["巨锤",{damage:"2d6",damageType:"钝击",cost:"10 gp",properties:"重型 双手",weight:10}],["钉头锤",{damage:"1d8",damageType:"穿刺",cost:"15 gp",properties:"—",weight:4}],["长矛",{damage:"1d10",damageType:"穿刺",cost:"5 gp",properties:"重型 触及 双手",weight:18}],["刺剑",{damage:"1d8",damageType:"穿刺",cost:"25 gp",properties:"灵巧",weight:2}],["弯刀",{damage:"1d6",damageType:"挥砍",cost:"25 gp",properties:"灵巧 轻型",weight:3}],["短剑",{damage:"1d6",damageType:"穿刺",cost:"10 gp",properties:"灵巧 轻型",weight:2}],["三叉戟",{damage:"1d6",damageType:"穿刺",cost:"5 gp",properties:"投掷(射程20/60) 两用(1d8)",weight:4}],["战镐",{damage:"1d8",damageType:"穿刺",cost:"5 gp",properties:"—",weight:2}],["战锤",{damage:"1d8",damageType:"钝击",cost:"15 gp",properties:"两用(1d10)",weight:2}],["鞭",{damage:"1d4",damageType:"挥砍",cost:"2 gp",properties:"灵巧 触及",weight:3}],["吹箭筒",{damage:"1",damageType:"穿刺",cost:"10 gp",properties:"弹药(射程25/100) 装填",weight:1}],["手弩",{damage:"1d6",damageType:"穿刺",cost:"75 gp",properties:"弹药(射程30/120) 轻型 装填",weight:3}],["重弩",{damage:"1d10",damageType:"穿刺",cost:"50 gp",properties:"弹药(射程100/400) 重型 装填 双手",weight:18}],["长弓",{damage:"1d8",damageType:"穿刺",cost:"50 gp",properties:"弹药(射程150/600) 重型 双手",weight:2}],["捕网",{damage:"0",damageType:"—",cost:"1 gp",properties:"特殊 投掷(射程5/15)",weight:3}],["双刃弯刀",{damage:"2d4",damageType:"挥砍",cost:"100 gp",properties:"特殊 双手",weight:6}],["手枪",{damage:"1d10",damageType:"穿刺",cost:"250 gp",properties:"弹药(射程30/90) 装填",weight:3}],["滑膛枪",{damage:"1d12",damageType:"穿刺",cost:"500 gp",properties:"弹药(射程40/120) 装填 双手",weight:10}]]);function ws(t,r){if(!r)return t;const e={...t};for(const n in r)r[n]===void 0||r[n]===null||(Array.isArray(r[n])?e[n]=Array.isArray(e[n])?[...new Set([...e[n],...r[n]])]:r[n]:typeof r[n]=="object"?e[n]=ws(e[n]||{},r[n]):e[n]=r[n]);return e}const SN={class:"header-section"},kN={class:"avatar-container"},EN=["src"],TN={class:"basic-info"},ON={class:"name-row"},CN={class:"character-name"},IN={class:"challenge-rating"},PN={class:"traits-row"},xN={class:"trait"},RN={class:"trait"},MN={class:"trait"},DN=["href"],FN={class:"stats-row"},BN={class:"stat-item"},NN={class:"stat-value"},LN={class:"stat-note"},jN={class:"stat-note"},zN={class:"stat-item"},HN={class:"stat-value"},WN={class:"stat-note","data-tooltip":`熟练加值:
                熟练加值适用于许多你将记录在角色卡上的事项。
                • 使用拥有熟练项的武器发动攻击检定时
                • 施展的法术发动攻击检定时
                • 使用拥有熟练项的技能进行属性检定时
                • 使用拥有熟练项的工具进行属性检定时
                • 使用拥有熟练项的豁免属性进行豁免检定时
                • 施展的法术的豁免 DC
                `},VN={class:"stat-item"},UN={class:"stat-value"},GN={class:"stat-note"},KN=qe({__name:"CharacterHeader",props:{character:{},computedStats:{},avatarPath:{}},setup(t){const r=t,e=()=>r.computedStats.level,n=()=>r.computedStats.hitDice,i=()=>r.computedStats.proficiencyBonus,a=()=>r.computedStats.ac;return(s,o)=>(I(),R("div",SN,[g("div",kN,[g("img",{src:ue(Nt)(s.avatarPath),alt:"Character Avatar",class:"avatar-image"},null,8,EN)]),g("div",TN,[g("div",ON,[g("h2",CN,G(s.character.name),1),g("span",IN,"CR "+G(e()),1)]),g("div",PN,[g("span",xN,G(r.computedStats.basicInfo.size),1),g("span",RN,G(r.computedStats.basicInfo.alignment),1),g("span",MN,G(r.computedStats.basicInfo.type),1),g("a",{class:"reference",href:r.computedStats.basicInfo.referenceUrl,target:"_blank",rel:"noopener noreferrer"},G(r.computedStats.basicInfo.reference),9,DN)]),g("div",FN,[g("div",BN,[o[0]||(o[0]=g("label",null,"HP",-1)),g("div",NN,[It(G(n().maxHP)+" ",1),g("span",LN,"( "+G(n().formula)+" )",1)]),g("span",jN,G(r.computedStats.levelClass),1)]),g("div",zN,[o[1]||(o[1]=g("label",{"data-tooltip":`AC:
                标准AC = 10 + 盔甲加值 + 盾牌加值 + 敏捷调整值 + 其他调整值;
                措手不及 = 10 + 盔甲加值 + 其他调整值;
                接触 = 10 + 敏捷调整值 + 其他调整值
              `},"AC",-1)),g("div",HN,G(a().normal)+" / "+G(a().flatFooted)+" / "+G(a().touch),1),g("span",WN," 熟练加值+"+G(i()),1)]),g("div",VN,[o[2]||(o[2]=g("label",{"data-tooltip":"dnd中的尺为英尺，一格为5尺。1尺等于30.48厘米。"},"速度",-1)),g("div",UN,G(r.computedStats.combatStats.speed),1),g("span",GN,G(r.computedStats.combatStats.specialSpeed),1)])])])]))}}),qN=Ye(KN,[["__scopeId","data-v-914a4305"]]),YN={class:"main-content"},XN={class:"attributes-section"},ZN={class:"score-box"},QN={class:"modifier","data-tooltip":`属性调整值:
            将该项属性值减去10在将结果除以 2（向下取整）。
            `},JN={class:"main-score"},e4={class:"modifier","data-tooltip":`豁免检定是用于判断角色是否能够抵抗或免除某种效果或伤害的机制。
            豁免加值由角色的属性、熟练度、特殊效果等因素决定。
            `},t4={class:"skill-section"},r4={class:"skill-list"},n4={class:"skill-group-header"},i4={class:"skill-name"},a4={class:"skill-modifier"},s4={class:"other-section"},o4={class:"info-grid"},l4={class:"info-group"},u4={class:"info-row"},c4={class:"info-value"},d4={class:"info-value"},f4={class:"info-row"},h4={class:"info-value"},v4={class:"info-value"},p4={class:"info-row"},g4={class:"info-value"},y4={class:"info-row"},m4={class:"info-value"},b4={class:"info-value"},$4={class:"info-group color-group"},A4={class:"info-row"},w4={class:"info-value"},_4={class:"info-row"},S4={class:"info-value"},k4={class:"info-row"},E4={class:"info-value"},T4={class:"info-row"},O4={class:"info-value"},C4={class:"status-list"},I4={class:"status-label"},P4={key:0,class:"status-detail"},x4=qe({__name:"CharacterAttributes",props:{character:{},computedStats:{}},setup(t){const r=t,e=f=>f?Array.isArray(f)?f.join(", "):f:"",n=()=>r.computedStats.proficiencyAbilities,i=f=>r.computedStats.modifiers[f],a=f=>r.computedStats.savingThrows[f],s=()=>r.computedStats.doubleProficientSkills,o=()=>r.computedStats.proficientSkills,l=()=>r.computedStats.halfProficentSkills,u=f=>r.computedStats.skillModifiers[f],c=f=>PT.filter(h=>h.attributeId===f),d=[{id:1,icon:"fi fi-sr-eye",label:"感官",detailKey:"VISION"},{id:2,icon:"fi fi-sr-comments",label:"语言",detailKey:"LANGUAGES"},{id:3,icon:"fi fi-sr-shield",label:"伤害免疫",detailKey:"DAMAGE_IMMUNITY"},{id:4,icon:"fi fi-sr-shield-plus",label:"伤害抗性",detailKey:"DAMAGE_RESISTANCE"},{id:5,icon:"fi fi-sr-skull",label:"易伤",detailKey:"VULNERABILITY"},{id:6,icon:"fi fi-sr-sparkles",label:"伤害加成",detailKey:"DAMAGE_BONUS"},{id:7,icon:"fi fi-sr-circle-heart",label:"状态免疫",detailKey:"STATUS_IMMUNITY"},{id:8,icon:"fi fi-sr-sword",label:"武器熟练",detailKey:"WEAPON_PROFICIENCY"},{id:9,icon:"fi fi-sr-shield-check",label:"护甲熟练",detailKey:"ARMOR_PROFICIENCY"},{id:10,icon:"fi fi-bs-tools",label:"工具",detailKey:"TOOLS"},{id:11,icon:"fi fi-sr-chess-queen",label:"声望",detailKey:"REPUTATION"},{id:12,icon:"fi fi-sr-cross-religion",label:"祝福",detailKey:"BLESSING"},{id:13,icon:"fi fi-ss-brand",label:"护符",detailKey:"AMULET"},{id:14,icon:"fi fi-sr-diamond",label:"传奇恩惠",detailKey:"LEGENDARY_FAVOR"}];return(f,h)=>(I(),R("div",YN,[g("div",XN,[(I(!0),R(he,null,Ce(ue(yg),v=>(I(),R("div",{key:v.id,class:"attribute-box"},[g("h3",null,G(v.name),1),g("div",ZN,[g("span",QN,G(i(v.id)),1),g("div",JN,[It(G(f.computedStats.attributes[v.id])+" ",1),g("div",{class:Me(["proficiency-dot",{active:n().includes(v.id)}]),"data-tooltip":"豁免熟练项的作用与技能熟练项一样，具有某属性豁免熟练项的角色进行相应属性豁免时，可以将其熟练加值加入豁免检定结果中。"},null,2)]),g("span",e4,G(a(v.id)),1)])]))),128))]),g("div",t4,[g("div",r4,[(I(!0),R(he,null,Ce(ue(yg),v=>(I(),R(he,{key:v.id},[c(v.id).length>0?(I(),R(he,{key:0},[g("div",n4,G(v.name)+"系 ",1),(I(!0),R(he,null,Ce(c(v.id),p=>{var m,y,b,A,$,k;return I(),R("div",{key:p.id,class:Me(["skill-item",{striped:p.id%2===0}])},[g("div",{class:Me(["proficiency-dot",{double:(m=s())==null?void 0:m.includes(p.id),active:!((y=s())!=null&&y.includes(p.id))&&((b=o())==null?void 0:b.includes(p.id)),half:!((A=s())!=null&&A.includes(p.id))&&!(($=o())!=null&&$.includes(p.id))&&((k=l())==null?void 0:k.includes(p.id))}])},null,2),g("span",i4,G(p.name),1),g("span",a4,G(u(p.id)),1)],2)}),128))],64)):De("",!0)],64))),128))])]),g("div",s4,[g("div",o4,[g("div",l4,[g("div",u4,[h[0]||(h[0]=g("div",{class:"info-label"},"种族",-1)),g("div",c4,G(f.computedStats.basicInfo.race),1),h[1]||(h[1]=g("div",{class:"info-label"},"亚种",-1)),g("div",d4,G(f.computedStats.basicInfo.subrace),1)]),g("div",f4,[h[2]||(h[2]=g("div",{class:"info-label"},"性别",-1)),g("div",h4,G(f.computedStats.basicInfo.gender),1),h[3]||(h[3]=g("div",{class:"info-label"},"年龄",-1)),g("div",v4,G(f.computedStats.basicInfo.age),1)]),g("div",p4,[h[4]||(h[4]=g("div",{class:"info-label"},"背景",-1)),g("div",g4,G(f.computedStats.basicInfo.background),1)]),g("div",y4,[h[5]||(h[5]=g("div",{class:"info-label"},"身高",-1)),g("div",m4,G(f.computedStats.basicInfo.appearance.height),1),h[6]||(h[6]=g("div",{class:"info-label"},"体重",-1)),g("div",b4,G(f.computedStats.basicInfo.appearance.weight),1)])]),g("div",$4,[g("div",A4,[h[7]||(h[7]=g("div",{class:"info-label"},"发色",-1)),g("div",w4,[g("div",{class:"color-box",style:er({backgroundColor:f.computedStats.basicInfo.appearance.hairColor})},null,4)])]),g("div",_4,[h[8]||(h[8]=g("div",{class:"info-label"},"肤色",-1)),g("div",S4,[g("div",{class:"color-box",style:er({backgroundColor:f.computedStats.basicInfo.appearance.skinColor})},null,4)])]),g("div",k4,[h[9]||(h[9]=g("div",{class:"info-label"},"瞳色",-1)),g("div",E4,[g("div",{class:"color-box",style:er({backgroundColor:f.computedStats.basicInfo.appearance.eyeColor})},null,4)])]),g("div",T4,[h[10]||(h[10]=g("div",{class:"info-label"},"指甲色",-1)),g("div",O4,[g("div",{class:Me(["color-box",{disabled:!f.computedStats.basicInfo.appearance.nailColor}]),style:er({backgroundColor:f.computedStats.basicInfo.appearance.nailColor||"#ffffff"})},null,6)])])])]),g("div",C4,[(I(),R(he,null,Ce(d,v=>g("div",{key:v.id,class:"status-item"},[g("i",{class:Me(v.icon)},null,2),g("span",I4,G(v.label),1),v.detailKey?(I(),R("div",P4,G(e(r.computedStats.statusDetails[v.detailKey])),1)):De("",!0)])),64))])])]))}}),R4=Ye(x4,[["__scopeId","data-v-2c8d2ad0"]]),M4=["src"],D4=["src","alt"],F4=qe({__name:"ImagePreview",props:{modelValue:{type:Boolean},imageSrc:{},alt:{},defaultImage:{},enableNavigation:{type:Boolean},onPrevious:{type:Function},onNext:{type:Function}},emits:["update:modelValue"],setup(t,{emit:r}){const e=t,n=r,i=le(1),a=le(null),s=le(!1);wt(()=>e.modelValue,v=>{v&&(s.value=!1,i.value=1)});const o=v=>{const p=window.innerWidth*.9,m=window.innerHeight*.9,y=p/v.naturalWidth,b=m/v.naturalHeight,A=Math.min(y,b,1);i.value=A},l=()=>{a.value&&(o(a.value),s.value=!0)},u=v=>{const p=v.deltaY>0?-.1:.1;c(p)},c=v=>{const p=i.value+v;p>=.1&&p<=3&&(i.value=p)},d=()=>{a.value&&o(a.value)},f=()=>{n("update:modelValue",!1)},h=v=>{e.enableNavigation&&(v.key==="ArrowLeft"&&e.onPrevious?e.onPrevious():v.key==="ArrowRight"&&e.onNext&&e.onNext())};return Wt(()=>{window.addEventListener("keydown",h)}),jr(()=>{window.removeEventListener("keydown",h)}),(v,p)=>v.modelValue?(I(),R("div",{key:0,class:"image-modal",onClick:f},[g("div",{class:"modal-content",onClick:p[2]||(p[2]=kr(()=>{},["stop"]))},[g("img",{ref_key:"preloadImage",ref:a,src:ue(Nt)(v.imageSrc),onLoad:l,style:{display:"none"}},null,40,M4),s.value?(I(),R("img",{key:0,src:ue(Nt)(v.imageSrc),alt:v.alt,style:er({transform:`scale(${i.value})`}),onWheel:kr(u,["prevent"])},null,44,D4)):De("",!0),g("button",{class:"close-button",onClick:f},"×"),v.enableNavigation?(I(),R(he,{key:1},[v.onPrevious?(I(),R("button",{key:0,class:"nav-button prev",onClick:p[0]||(p[0]=kr((...m)=>v.onPrevious&&v.onPrevious(...m),["stop"]))},p[6]||(p[6]=[g("i",{class:"fi fi-rr-angle-left"},null,-1)]))):De("",!0),v.onNext?(I(),R("button",{key:1,class:"nav-button next",onClick:p[1]||(p[1]=kr((...m)=>v.onNext&&v.onNext(...m),["stop"]))},p[7]||(p[7]=[g("i",{class:"fi fi-rr-angle-right"},null,-1)]))):De("",!0)],64)):De("",!0)]),g("div",{class:"zoom-controls",onClick:p[5]||(p[5]=kr(()=>{},["stop"]))},[g("button",{onClick:p[3]||(p[3]=m=>c(-.1))},"-"),g("span",null,G(Math.round(i.value*100))+"%",1),g("button",{onClick:p[4]||(p[4]=m=>c(.1))},"+"),g("button",{onClick:d},"重置")])])):De("",!0)}}),gm=Ye(F4,[["__scopeId","data-v-929a4dee"]]),B4={class:"inventory-content"},N4={class:"inventory-section"},L4={class:"column-headers"},j4={class:"header-name"},z4=["onClick"],H4={class:"item-list"},W4={class:"item-name"},V4=["onClick"],U4={key:1,class:"item-icon-placeholder"},G4=["contenteditable","onBlur"],K4=["contenteditable","onBlur"],q4=["contenteditable","onBlur"],Y4=["contenteditable","onBlur"],X4={class:"item-actions"},Z4=["onClick"],Q4={class:"inventory-status-bar"},J4={class:"weight-info"},eL={class:"weight-progress"},tL=qe({__name:"CharacterInventory",props:{character:{},computedStats:{},isEditing:{type:Boolean}},emits:["update:inventoryItem"],setup(t,{emit:r}){const e=!!window.electronAPI,n=t,i=r,a=[{id:"weapons",name:"武器"},{id:"armor",name:"装备"},{id:"consumables",name:"消耗品"},{id:"tools",name:"工具"},{id:"containers",name:"容器"},{id:"valuables",name:"贵重品"}],s=le(n.character.inventoryItem||[]);wt(()=>s.value,()=>{i("update:inventoryItem",s.value)});const o=ce(()=>{var P,j;const T=new Map;a.forEach(K=>{if(K.id!=="tools"){const me=s.value.filter(Ee=>Ee.categoryId===K.id).map((Ee,z)=>{if(K.id==="weapons"){const B=_N.get(Ee.weaponType);return{...Ee,id:z+1,name:`${Ee.name||""} - ${Ee.subType||Ee.weaponType}${B!=null&&B.properties?` - ${B==null?void 0:B.properties}`:" - "}`,weight:Ee.weight||(B==null?void 0:B.weight)||null}}return{...Ee,id:z+1}});T.set(K.id,me)}});const E=((j=(P=n.computedStats)==null?void 0:P.statusDetails)==null?void 0:j.TOOLS)||[],S=s.value.filter(K=>K.categoryId==="tools").map(K=>K.name),O=[...new Set([...E,...S])];return T.set("tools",O.map((K,me)=>({id:me+1,name:K,weight:null,usage:"-",quantity:1,categoryId:"tools"}))),T}),l=T=>{const E=T==="weapons"?{weaponType:"",subType:"",usage:"",quantity:1,categoryId:"weapons",image:"",weight:null}:{name:"",weight:null,usage:"-",quantity:1,categoryId:T};s.value=[...s.value,E]},u=T=>{const E=T.categoryId==="weapons"?T.name.split(" - ")[0]:T.name;s.value=s.value.filter(S=>!(S.name===E&&S.categoryId===T.categoryId))},c=T=>{var E;return((E=o.value.get(T))==null?void 0:E.length)||0},d=ce(()=>T=>o.value.get(T)||[]),f=ce(()=>{let T=0;return a.forEach(E=>{(o.value.get(E.id)||[]).forEach(O=>{O.weight&&(T+=O.weight*O.quantity)})}),Number(T.toFixed(1))}),v=n.computedStats.attributes[1],p=v*5,m=v*10,y=v*15,b=ce(()=>{const T=f.value/y*100;return f.value<=p?{percentage:T,color:"#4caf50"}:f.value<=m?{percentage:T,color:"#ff9800"}:{percentage:T,color:"#f44336"}}),A=le(!1),$=le(""),k=T=>{T.image&&($.value=T.image,A.value=!0)},C=(T,E,S)=>{const O=T.target,P=O.textContent||null,j=B=>S==="weight"?parseFloat(B.replace(/[^\d.]/g,"")):S==="usage"?B:S==="quantity"?parseInt(B):B,K=B=>S==="weight"?B?`${B} lb`:"-":S==="usage"?`${B}`:S==="quantity"?`${B}`:`${B}`,me=j(P),Ee=E.categoryId==="weapons"?E.name.split(" - ")[0]:E.name,z=s.value.find(B=>B.name===Ee&&B.categoryId===E.categoryId);z&&(z[S]=me,s.value=[...s.value]),O.textContent=K(me)};return(T,E)=>(I(),R("div",B4,[g("div",N4,[(I(),R(he,null,Ce(a,S=>g("div",{key:S.id,class:"inventory-category"},[g("div",L4,[g("div",j4,[e?(I(),R("button",{key:0,class:Me(["shadow-button",{disabled:!T.isEditing}]),onClick:O=>l(S.id),title:"添加物品"},E[1]||(E[1]=[g("i",{class:"fi fi-rr-plus"},null,-1)]),10,z4)):De("",!0),It(" "+G(S.name)+" ("+G(c(S.id))+") ",1)]),E[2]||(E[2]=g("div",{class:"header-weight"},"重量",-1)),E[3]||(E[3]=g("div",{class:"header-usage"},"用法",-1)),E[4]||(E[4]=g("div",{class:"header-quantity"},"数量",-1)),E[5]||(E[5]=g("div",{class:"header-actions"},null,-1))]),g("div",H4,[(I(!0),R(he,null,Ce(d.value(S.id),O=>(I(),R("div",{key:O.id,class:Me(["item-row",{striped:O.id%2===0}])},[g("div",W4,[O.image?(I(),R("i",{key:0,class:"fi fi-rr-picture item-icon",onClick:P=>k(O)},null,8,V4)):(I(),R("span",U4)),g("span",{contenteditable:T.isEditing,onBlur:P=>C(P,O,"name")},G(O.name),41,G4)]),g("div",{class:"item-weight",contenteditable:T.isEditing,onBlur:P=>C(P,O,"weight")},G(O.weight?`${O.weight} lb`:"-"),41,K4),g("div",{class:"item-usage",contenteditable:T.isEditing,onBlur:P=>C(P,O,"usage")},G(O.usage),41,q4),g("div",{class:"item-quantity",contenteditable:T.isEditing,onBlur:P=>C(P,O,"quantity")},G(O.quantity),41,Y4),g("div",X4,[e&&T.isEditing?(I(),R("button",{key:0,class:"shadow-button",onClick:P=>u(O),title:"删除物品"},E[6]||(E[6]=[g("i",{class:"fi fi-rr-minus"},null,-1)]),8,Z4)):De("",!0)])],2))),128))])])),64))]),g("div",Q4,[E[8]||(E[8]=WE('<div class="currency-info" data-v-5e7376cb><span data-v-5e7376cb>0/3 <i class="fi fi-sr-sun" data-tooltip="物品同调" data-v-5e7376cb></i></span><span class="separator" data-v-5e7376cb>|</span><span data-tooltip="铂金币" data-v-5e7376cb>0 PP</span><span class="separator" data-v-5e7376cb>|</span><span data-tooltip="银金币" data-v-5e7376cb>0 GP</span><span class="separator" data-v-5e7376cb>|</span><span data-tooltip="金币" data-v-5e7376cb>0 EP</span><span class="separator" data-v-5e7376cb>|</span><span data-tooltip="银币" data-v-5e7376cb>0 SP</span><span class="separator" data-v-5e7376cb>|</span><span data-tooltip="铜币" data-v-5e7376cb>0 CP</span></div>',1)),g("div",J4,[g("div",eL,[g("div",{class:"weight-progress-bar",style:er({width:`${b.value.percentage}%`,backgroundColor:b.value.color})},null,4)]),g("span",null,"负重: "+G(f.value)+"/"+G(y),1),E[7]||(E[7]=g("i",{class:"fi fi-sr-backpack"},null,-1))])]),Pe(gm,{modelValue:A.value,"onUpdate:modelValue":E[0]||(E[0]=S=>A.value=S),"image-src":$.value,alt:"物品图片"},null,8,["modelValue","image-src"])]))}}),rL=Ye(tL,[["__scopeId","data-v-5e7376cb"]]),nL=new Map([["至圣斩",{name:"至圣斩",level:1,school:"",ritual:!1,castingTime:"1动作",range:"自身",verbal:!1,somatic:!1,material:!1,duration:"",englishName:"Divine Smite",upcastable:void 0}],["寻获坐骑",{name:"寻获坐骑",level:2,school:"咒法",ritual:!1,castingTime:"10分钟",range:"30尺",verbal:!0,somatic:!0,material:!1,duration:"立即",englishName:"Find Steed",upcastable:2}],["猎人印记",{name:"猎人印记",level:1,school:"预言",ritual:!1,castingTime:"1附赠动作",range:"90尺",verbal:!0,somatic:!1,material:!1,duration:"专注,至多1小时",englishName:"Hunter's Mark",upcastable:void 0}]]),iL={class:"spellbook-content"},aL={key:0,class:"column-headers"},sL={class:"header-name"},oL=["onClick"],lL={key:1,class:"spell-slots"},uL={class:"spell-list"},cL=["contenteditable","onBlur"],dL=["contenteditable","onBlur"],fL=["contenteditable","onBlur"],hL=["contenteditable","onBlur"],vL=["contenteditable","onBlur"],pL={class:"spell-actions"},gL=["onClick"],yL={class:"spell-cast-bar"},mL={class:"cast-info"},bL={class:"prepared-spells"},$L=qe({__name:"CharacterSpellbook",props:{character:{},computedStats:{},isEditing:{type:Boolean}},emits:["update:spellbook"],setup(t,{emit:r}){const e=!!window.electronAPI,n=t,i=r,a=[{id:"cantrips",name:"戏法",level:0},{id:"1st",name:"1环",level:1},{id:"2nd",name:"2环",level:2},{id:"3rd",name:"3环",level:3},{id:"4th",name:"4环",level:4},{id:"5th",name:"5环",level:5},{id:"6th",name:"6环",level:6},{id:"7th",name:"7环",level:7},{id:"8th",name:"8环",level:8},{id:"9th",name:"9环",level:9}],s=n.computedStats.alwaysPreparedSpells,o=le(n.character.spellbook||[]);wt(()=>o.value,()=>{i("update:spellbook",o.value)});const l=ce(()=>{const $=new Map;return a.forEach(k=>{$.set(k.id,o.value.filter(C=>C.categoryId===k.id))}),$}),u=ce(()=>$=>{var T;const k=l.value.get($)||[],C=((T=a.find(E=>E.id===$))==null?void 0:T.level)||0;if($!=="cantrips"&&c(C-1)===0)return[];if(s!=null&&s.length){const E=s.map(S=>{const O=nL.get(S);if(!O)return null;const P=O.level===C,j=C>O.level;return P||j&&(O.upcastable===void 0||C<=O.upcastable)?{id:`always-${S}-${C}`,name:S,VnS:[O.verbal?"V":"",O.somatic?"S":""].filter(Boolean).join(","),M:O.material?"M":"",time:O.castingTime,usage:O.duration,categoryId:$}:null}).filter(Boolean);return[...k,...E]}return k}),c=$=>{var k,C;return((C=(k=n.computedStats)==null?void 0:k.classFeatureInfo)==null?void 0:C.spellSlots[$])||0},d=n.computedStats.combatStats.keyAttribute,f=Number(n.computedStats.modifiers[d]),h=8+Number(n.computedStats.proficiencyBonus)+Number(f),v=`+${Number(n.computedStats.proficiencyBonus)+Number(f)}`;let p=f;n.computedStats.classList.forEach($=>{["圣武士","游侠"].includes($.class)?p+=Math.floor($.level/2):["吟游诗人","牧师","德鲁伊","法师","术士"].includes($.class)?p+=$.level:["战士","游荡者"].includes($.class)&&(p+=Math.floor($.level/3))});const y=async $=>{const k={name:"",VnS:"",M:"",time:"",usage:"",categoryId:$};o.value=[...o.value,k]},b=$=>{const k=o.value.findIndex(C=>C.id===$.id);k!==-1&&o.value.splice(k,1)},A=($,k,C)=>{const T=$.target,E=T.textContent||null,S=o.value.find(O=>O.name===k.name&&O.categoryId===k.categoryId);S&&(S[C]=E,o.value=[...o.value]),T.textContent=E};return($,k)=>{var C;return I(),R("div",iL,[(I(),R(he,null,Ce(a,T=>g("div",{key:T.id,class:"spell-category"},[c(T.level-1)>0||T.id==="cantrips"?(I(),R("div",aL,[g("div",sL,[e?(I(),R("button",{key:0,class:Me(["shadow-button",{disabled:!$.isEditing}]),onClick:E=>y(T.id),title:"添加法术"},k[0]||(k[0]=[g("i",{class:"fi fi-rr-plus"},null,-1)]),10,oL)):De("",!0),It(" "+G(T.name)+" ",1),T.level?(I(),R("span",lL,[(I(!0),R(he,null,Ce(c(T.level-1),E=>(I(),R("span",{key:E,class:"spell-slot-dot"}))),128))])):De("",!0)]),k[1]||(k[1]=WE('<div class="header-VnS" data-v-389e2f59><i class="fi fi-br-play-circle" data-v-389e2f59></i></div><div class="header-M" data-v-389e2f59><i class="fi fi-sr-plate-wheat" data-v-389e2f59></i></div><div class="header-time" data-v-389e2f59>施法时间</div><div class="header-usage" data-v-389e2f59>持续时间</div><div class="header-actions" data-v-389e2f59></div>',5))])):De("",!0),g("div",uL,[(I(!0),R(he,null,Ce(u.value(T.id),E=>(I(),R("div",{key:E.id,class:Me(["spell-row",{striped:E.id%2===0}])},[g("div",{class:"spell-name",contenteditable:$.isEditing,onBlur:S=>A(S,E,"name")},G(E.name),41,cL),g("div",{class:"spell-VnS",contenteditable:$.isEditing,onBlur:S=>A(S,E,"VnS")},G(E.VnS),41,dL),g("div",{class:"spell-M",contenteditable:$.isEditing,onBlur:S=>A(S,E,"M")},G(E.M),41,fL),g("div",{class:"spell-time",contenteditable:$.isEditing,onBlur:S=>A(S,E,"time")},G(E.time),41,hL),g("div",{class:"spell-usage",contenteditable:$.isEditing,onBlur:S=>A(S,E,"usage")},G(E.usage),41,vL),g("div",pL,[e&&$.isEditing?(I(),R("button",{key:0,class:"shadow-button",onClick:S=>b(E),title:"删除法术"},k[2]||(k[2]=[g("i",{class:"fi fi-rr-minus"},null,-1)]),8,gL)):De("",!0)])],2))),128))])])),64)),g("div",yL,[g("div",mL,[g("span",null,"DC: "+G(h)),k[3]||(k[3]=g("span",{class:"separator"},"|",-1)),g("span",null,"关键属性: "+G((C=ue(yg).find(T=>T.id===n.computedStats.combatStats.keyAttribute))==null?void 0:C.name),1),k[4]||(k[4]=g("span",{class:"separator"},"|",-1)),g("span",null,"攻击调整值: "+G(v))]),g("div",bL,[It(" 已知法术："+G(n.computedStats.mainClassFeatureInfo.knownSpells||"-")+" ",1),k[5]||(k[5]=g("span",{class:"separator"},"|",-1)),It(" 可准备法术："+G(ue(p)),1)])])])}}}),AL=Ye($L,[["__scopeId","data-v-389e2f59"]]),wL={class:"features-content"},_L={class:"features-grid"},SL={class:"class-features"},kL={class:"category-header"},EL={class:"feature-list"},TL={class:"feature-level"},OL={class:"feature-name"},CL={class:"asi-features"},IL={class:"feature-category"},PL={class:"feature-list"},xL={class:"feature-level"},RL={class:"feature-class"},ML={key:0,class:"feature-category"},DL={class:"feature-list"},FL={class:"feature-level"},BL=qe({__name:"CharacterFeatures",props:{character:{},computedStats:{}},setup(t){const r=t,e=ce(()=>{const o={};return console.log(r.computedStats.classFeatures),r.computedStats.classFeatures.forEach(({className:l,level:u,feature:c})=>{c&&(o[l]||(o[l]={}),o[l][u]=c)}),o}),n=()=>r.computedStats.classFeatures.filter(({feature:o})=>o==="属性值提升").map(({className:o,level:l})=>({className:o,level:l})).sort((o,l)=>o.level-l.level),i=()=>r.computedStats.classFeatures.filter(({feature:o})=>o==="战技"||o==="魔能祈唤"||o==="超魔法").map(({className:o,level:l})=>({className:o,level:l})).sort((o,l)=>o.level-l.level),a=o=>{switch(o){case"属性值提升":return"feature-asi";case"战技":case"魔能祈唤":case"超魔法":return"feature-maneuver";case"专精":return"feature-psionic";default:return o.endsWith("特性")?"feature-ability":o.endsWith("范型")?"feature-archetype":""}},s=o=>{switch(o){case"属性值提升":return`增加一项属性值2点，或者增加两项属性值各1点。
或者选择一个专长。`;case"战技":return"";case"魔能祈唤":return`你在神秘学识的研习过程中发掘出魔能祈唤的方式，这些禁忌的知识残章让你获得了持久的魔法能力。
    第2级时，你获得两种自选的魔能祈唤（祈唤的具体内容见后文）。在获得更高的邪术师等级后你还可以习得其它的魔能祈唤，具体数据见“邪术师职业表”中“已知祈唤”一栏。
    另外，你提升本职的等级时，可以用新的祈唤替换一个已学会的祈唤，但你的角色必须满足学习新祈唤的先决条件。`;case"超魔法":return"第3级起，你可以扭曲所施展的法术使其符合你的需求。从超魔法选项中选择其二。随后你将在第10 和第17级分别再获得其一。";default:return o.endsWith("特性")?"你获得所选范型的相应特性。":o.endsWith("范型")?"你选择一种范型以体现你的战斗风格和技巧。":""}};return(o,l)=>(I(),R("div",wL,[g("div",_L,[g("div",SL,[(I(!0),R(he,null,Ce(e.value,(u,c)=>(I(),R("div",{key:c,class:"feature-category"},[g("div",kL,[g("h3",null,G(c),1)]),g("div",EL,[(I(!0),R(he,null,Ce(u,(d,f)=>(I(),R("div",{key:f,class:"feature-row"},[g("div",TL,G(f)+"级",1),g("div",OL,[(I(!0),R(he,null,Ce(d.split(","),(h,v)=>(I(),R("span",VE({key:v,class:["feature-tag",a(h.trim())],ref_for:!0},s(h.trim())?{"data-tooltip":s(h.trim())}:{}),G(h.trim()),17))),128))])]))),128))])]))),128))]),g("div",CL,[g("div",IL,[l[1]||(l[1]=g("div",{class:"category-header"},[g("h3",null,"属性值提升/专长")],-1)),g("div",PL,[(I(!0),R(he,null,Ce(n(),({className:u,level:c})=>(I(),R("div",{key:`${u}-${c}`,class:"feature-row"},[g("div",xL,G(c)+"级",1),g("div",RL,G(u),1),l[0]||(l[0]=g("div",{class:"feature-choice"},"-",-1))]))),128))])]),i().length>0?(I(),R("div",ML,[l[3]||(l[3]=g("div",{class:"category-header"},[g("h3",null,"战技/魔能祈唤/超魔法")],-1)),g("div",DL,[(I(!0),R(he,null,Ce(i(),({className:u,level:c})=>(I(),R("div",{key:`${u}-${c}`,class:"feature-row"},[g("div",FL,G(c)+"级",1),l[2]||(l[2]=g("div",{class:"feature-choice"},"-",-1))]))),128))])])):De("",!0)])])]))}}),NL=Ye(BL,[["__scopeId","data-v-2c16a961"]]);function mg(t){if(Array.isArray(t))return t.map(r=>mg(r));if((At(t)||Zn(t))&&(t=je(t)),t&&typeof t=="object"){const r={};for(const e in t)r[e]=mg(t[e]);return r}return t}const LL={key:0,class:"character-sheet"},jL={class:"tab-container"},zL=["onClick"],HL=qe({__name:"CharacterPreview",props:{characterId:{},isEditing:{type:Boolean}},setup(t){const r=t,e=le(null),n=async()=>{try{const d=await(await fetch(Nt("/static/json/character_template.json"))).json();e.value=d[r.characterId]}catch(c){console.error("加载角色模板失败:",c)}},i=c=>{e.value.inventoryItem=c},a=c=>{e.value.spellbook=c};Wt(()=>{n()}),wt(()=>r.isEditing,async(c,d)=>{if(!c&&d)try{const f=mg(e.value);console.log(f);const h=await window.electronAPI.updateCharacter({filePath:"/static/json/character_template.json",characterId:r.characterId,value:f});h.success||console.error("更新失败:",h.error)}catch(f){console.error("更新角色失败:",f)}});const s=ce(()=>{var c;return((c=Ln.find(d=>d.id===r.characterId))==null?void 0:c.path)||""}),o=ce(()=>{if(!e.value)return null;const c={race:e.value.basicInfo.race,subRace:e.value.basicInfo.subrace,background:e.value.basicInfo.background,basicInfo:e.value.basicInfo,armorBonus:e.value.combatStats.armorBonus||0,shieldBonus:e.value.combatStats.shieldBonus||0,otherACBonus:e.value.combatStats.otherACBonus||0,statusDetails:e.value.statusDetails,classFeatureInfo:{},inventoryItem:e.value.inventoryItem,classList:e.value.class,classLevelMap:(()=>{const b=[],A=new Set;return e.value.class.forEach($=>{if(!A.has($.class)){const k=e.value.class.filter(C=>C.class===$.class).reduce((C,T)=>C+T.level,0);b.push({class:$.class,level:k}),A.add($.class)}}),b})()},d={...c,mainClass:e.value.class[0].class,combatStats:e.value.combatStats,level:e.value.class.reduce((A,$)=>A+$.level,0),levelClass:e.value.class.reduce((A,$)=>A.concat(`${$.subClass} ${$.level}`),[]).join(" / "),mainLevel:c.classLevelMap[0].level||0,spellcastingLevel:(()=>{const b=c.classLevelMap;let A=0;return b.forEach($=>{["圣武士","游侠"].includes($.class)?A+=Math.floor($.level/2):["吟游诗人","牧师","德鲁伊","法师","术士"].includes($.class)?A+=$.level:["战士","游荡者"].includes($.class)&&(A+=Math.floor($.level/3))}),A})(),proficiencyAbilities:[],attributes:(()=>{const b={};for(const[A,$]of Object.entries(e.value.attributes))b[Number(A)]=$;return b})(),doubleProficientSkills:e.value.doubleProficientSkills,proficientSkills:[],halfProficentSkills:e.value.class.some(b=>b.class==="吟游诗人")?[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]:[]},f=ws(d,$N[d.race]),h=ws(f,AN[d.subRace]),v=ws(h,wN[d.background]),p=ws(v,os[d.mainClass]),m={...p,proficiencyBonus:Math.floor((p.level-1)/4)+2,modifiers:(()=>{const b={};for(const[A,$]of Object.entries(p.attributes)){const k=Math.floor(($-10)/2);b[Number(A)]=k>=0?`+${k}`:`${k}`}return b})(),classFeatureInfo:p.classList.length>1?os.兼职施法者.classFeatureInfo.get(p.spellcastingLevel):os[d.mainClass].classFeatureInfo.get(p.level),mainClassFeatureInfo:os[d.mainClass].classFeatureInfo.get(p.mainLevel)},y={...m,savingThrows:(()=>{const b={};for(const[A,$]of Object.entries(p.attributes)){const k=Math.floor(($-10)/2),C=m.proficiencyAbilities.includes(Number(A))?m.proficiencyBonus:0,T=k+C;b[Number(A)]=T>=0?`+${T}`:`${T}`}return b})(),hitDice:(()=>{const b=e.value.class,A=p.attributes[3],$=Math.floor((A-10)/2),k=p.level*$;let C="",T=0;return b.forEach((E,S)=>{const O=d$[E.class].hitDice,P=E.level;C+=`${S===0?"":" + "}${P}${O}`,T+=P*d$[E.class].diceValue}),{formula:`${C} ${k>=0?"+":""}${k}`,maxHP:T+k}})(),skillModifiers:(()=>{var A,$,k;const b={};for(const[C,T]of Object.entries(PT)){const E=Math.floor((p.attributes[T.attributeId]-10)/2);let S=0;(A=p.doubleProficientSkills)!=null&&A.includes(T.id)?S=m.proficiencyBonus*2:($=p.proficientSkills)!=null&&$.includes(T.id)?S=m.proficiencyBonus:(k=p.halfProficentSkills)!=null&&k.includes(T.id)&&(S=Math.floor(m.proficiencyBonus/2));const O=E+S;b[Number(T.id)]=O>=0?`+${O}`:`${O}`}return b})(),ac:(()=>{const A=p.armorBonus,$=p.shieldBonus,k=Number(m.modifiers[2]),C=p.otherACBonus;return{normal:10+Math.min(A+k,8)+$+C,flatFooted:10+A+C,touch:10+k+C}})(),classFeatures:(()=>{const b=[];return d.classLevelMap.forEach(A=>{const $=A.class,k=A.level,C=os[$];if(!C)return;const T=C.classFeatureInfo;if(T)for(let E=1;E<=k;E++){const S=T.get(E);S&&(Array.isArray(S)?S.forEach(O=>{b.push({className:$,level:E,feature:O})}):b.push({className:$,level:E,feature:S.classFeature}))}}),b})(),alwaysPreparedSpells:(()=>{const b=new Set;return d.classLevelMap.forEach(A=>{const $=A.class,k=A.level,C=os[$];if(!C)return;const T=C.classFeatureInfo;if(T)for(let E=1;E<=k;E++){const S=T.get(E);S!=null&&S.alwaysPreparedSpells&&S.alwaysPreparedSpells.forEach(O=>b.add(O))}}),Array.from(b)})()};return ws(y,e.value.overrides)}),l=[{id:"attributes",label:"属性"},{id:"inventory",label:"持有物"},{id:"spellbook",label:"法术书"},{id:"features",label:"特性"}],u=le("attributes");return(c,d)=>e.value?(I(),R("div",LL,[Pe(qN,{character:e.value,"computed-stats":o.value,"avatar-path":s.value},null,8,["character","computed-stats","avatar-path"]),g("div",jL,[(I(),R(he,null,Ce(l,f=>g("div",{key:f.id,class:Me(["tab-item",{active:u.value===f.id}]),onClick:h=>u.value=f.id},G(f.label),11,zL)),64))]),u.value==="attributes"?(I(),vr(R4,{key:0,character:e.value,"computed-stats":o.value},null,8,["character","computed-stats"])):u.value==="inventory"?(I(),vr(rL,{key:1,character:e.value,"computed-stats":o.value,isEditing:c.isEditing,"onUpdate:inventoryItem":i},null,8,["character","computed-stats","isEditing"])):u.value==="spellbook"?(I(),vr(AL,{key:2,character:e.value,"computed-stats":o.value,isEditing:c.isEditing,"onUpdate:spellbook":a},null,8,["character","computed-stats","isEditing"])):u.value==="features"?(I(),vr(NL,{key:3,character:e.value,"computed-stats":o.value},null,8,["character","computed-stats"])):De("",!0)])):De("",!0)}}),WL=Ye(HL,[["__scopeId","data-v-0305bb78"]]),VL=ce(()=>window.innerWidth<=768),xT=(t,r=!1)=>{if(!t)return Cn(c$);switch(t.displayType??t.type){case"document":return Cn(oN,{filePath:Nt(t.path),isEditing:r});case"chat":return Cn(bN,{filePath:Nt(t.path),isEditing:r});case"character":return Cn(WL,{characterId:t.referenceId,isEditing:r});default:return Cn(c$)}},UL=t=>{const r=t.displayType??t.type,e={minWidth:200,isEditing:!1};switch(r){case"document":return{...e,initialWidth:800,initialHeight:600,initialPosition:{x:.6,y:.3}};case"chat":return{...e,initialWidth:800,initialHeight:600,initialPosition:{x:.6,y:.3}};case"character":return{...e,initialWidth:1e3,initialHeight:600,initialPosition:{x:.6,y:.3}};default:return{...e,initialWidth:800,initialHeight:600,initialPosition:{x:.6,y:.3}}}},Ki=(t,r={})=>{const e=oi();if(VL.value){e.showFile(t);return}const n=`${t.type}-${t.id}`,a={...{title:t.title,entityId:t.id,entityType:t.type,content:xT(t,!1),props:UL(t)},...r};pa.getInstance().create(n,a),pa.getInstance().activateModal(n)},GL={class:"detail-header"},KL={class:"slide-info"},qL={class:"slide-meta"},YL={class:"detail-toolbar"},XL={class:"tool-buttons"},ZL=["onClick"],QL={class:"file-detail-header"},JL={class:"file-title"},e5={class:"file-content"},t5=qe({__name:"SlideDetail",setup(t){const r=oi(),e=le(!1),n=()=>{e.value=window.innerWidth<=768};Wt(()=>{n(),window.addEventListener("resize",n)}),jr(()=>{window.removeEventListener("resize",n)});const i=()=>{r.hideCharacter()},a=()=>{r.closeFile()},s=()=>{r.closeFile(),r.hideCharacter()},o=p=>{Ki(p)},l=oi(),u=SF(),c=[{id:"overview",label:"总览",icon:"fi fi-sr-following"},{id:"gallerys",label:"图片",icon:"fi fi-rr-graphic-style"},{id:"documents",label:"文档",icon:"fi fi-rr-features"},{id:"events",label:"事件",icon:"fi fi-br-calendar-day"},{id:"location",label:"足迹",icon:"fi fi-rr-map-marker"},{id:"medias",label:"音媒",icon:"fi fi-rr-play"},{id:"notes",label:"备忘录",icon:"fi fi-rr-notebook"}],d=p=>{u.updateFilters(p)},f=ce(()=>{const p=l.currentChar;return p?u.currentTool==="overview"?[]:u.currentEntities.filter(m=>m.references?Object.entries(m.references).some(([y,b])=>{const A=p.type+"s";return y===A&&b.includes(p.id)}):!1):[]}),h=ce(()=>{if(!u.useStandardFilter)return f.value;const p=u.currentFilters;return!p||Object.keys(p).length===0?f.value:f.value.filter(m=>Object.entries(p).every(([y,b])=>{if(!(m!=null&&m.hasOwnProperty(y))||!b||b.length===0)return!0;const A=m[y];if(yT.includes(y)){const $=new Date(A).toISOString().split("T")[0],{start:k,end:C}=b;return k==""&&C==""?!0:$>=k&&$<=C}return Array.isArray(A)?b.some($=>A.includes($)):b.includes(A)}))}),v=ce(()=>xT(l.currentFile));return(p,m)=>(I(),vr(hE,{to:"body"},[ue(l).currentChar?(I(),R("div",{key:0,class:Me(["slide-detail",{"slide-detail--open":ue(l).currentChar}])},[g("div",GL,[g("div",KL,[g("div",qL,[g("h2",null,G(ue(l).currentChar.name),1)])]),g("div",{class:"detail-controls"},[g("button",{class:"plain-button",onClick:i,title:"关闭"},m[2]||(m[2]=[g("i",{class:"fi fi-sr-angle-square-right"},null,-1)]))])]),g("div",YL,[g("div",XL,[(I(),R(he,null,Ce(c,y=>g("button",{key:y.id,class:Me(["tool-button",{active:ue(u).currentTool===y.id}]),onClick:b=>ue(u).switchTool(y.id)},[g("i",{class:Me(y.icon)},null,2)],10,ZL)),64))]),ue(u).useStandardFilter?(I(),R("button",{key:0,class:Me(["filter-toggle",{active:ue(u).showFilters}]),onClick:m[0]||(m[0]=y=>ue(u).showFilters=!ue(u).showFilters)},[g("i",{class:Me(["fi",{"fi-rr-filter":!ue(u).showFilters,"fi-rr-filter-slash":ue(u).showFilters}])},null,2)],2)):De("",!0)]),g("div",{class:Me(["detail-content",{"with-filter":ue(u).showFilters}])},[Pe(Jy,{name:"fade"},{default:On(()=>[ue(u).showFilters&&ue(u).currentTool!=="overview"?(I(),vr($T,{key:0,modelValue:ue(u).showFilters,"onUpdate:modelValue":m[1]||(m[1]=y=>ue(u).showFilters=y),"filter-groups":ue(u).filterGroups,"active-filters":ue(u).currentFilters,onFilter:d},null,8,["modelValue","filter-groups","active-filters"])):De("",!0)]),_:1}),Pe(sm,{"entity-id":ue(l).currentChar.id,"entity-type":ue(l).currentChar.type,"current-tool":ue(u).currentTool,"filtered-entities":h.value,onSelectCharacter:ue(l).showCharacter,onOpenFile:o},null,8,["entity-id","entity-type","current-tool","filtered-entities","onSelectCharacter"])],2)],2)):De("",!0),ue(l).currentFile?(I(),R("div",{key:1,class:Me(["file-detail",{"file-detail--open":!0,"file-detail--mobile":e.value}])},[g("div",QL,[g("h2",JL,G(ue(l).currentFile.title),1),g("div",{class:"file-controls"},[g("button",{class:"shadow-button",onClick:a,title:"返回"},m[3]||(m[3]=[g("i",{class:"fi fi-rr-arrow-left"},null,-1)])),g("button",{class:"shadow-button",onClick:s,title:"关闭"},m[4]||(m[4]=[g("i",{class:"fi fi-rr-cross"},null,-1)]))])]),g("div",e5,[(I(),vr(V3(v.value)))])],2)):De("",!0)]))}}),r5=Ye(t5,[["__scopeId","data-v-87638e31"]]),n5={"--color-background":"#1a1a1a","--color-background-light":"#242424","--color-background-lighter":"#2a2a2a","--color-background-soft":"#242424","--color-background-soft-rgb":"36, 36, 36","--color-background-mute":"#2f2f2f","--color-background-dark":"#2f2f2f","--color-background-highlight":"#de6193","--color-background-highlight-soft":"#cc5483","--color-background-highlight-rgb":"222, 97, 147","--color-accent-1":"#bd93f6","--color-accent-2":"#ff79c6","--color-accent-3":"#8be9fd","--color-border":"#3f3f3f","--color-border-light":"#4a4a4a","--color-border-dark":"#333333","--color-text":"#ffffff","--color-text-soft":"#ffffffb3","--color-text-muted":"#999999","--color-text-light":"#cccccc"},i5={"--color-background":"#fffdf6","--color-background-light":"#f8f8f8","--color-background-lighter":"#ffffff","--color-background-soft":"#F8F5F1","--color-background-soft-rgb":"248, 245, 241","--color-background-mute":"#C2C1C0","--color-background-dark":"#EEE7DD","--color-background-highlight":"#bd93f6","--color-background-highlight-soft":"#d3b4f7","--color-background-highlight-rgb":"189, 147, 246","--color-accent-1":"#9d7cd8","--color-accent-2":"#ff85a1","--color-accent-3":"#7dcfff","--color-border":"#CEC8BF","--color-border-light":"#E5E0D8","--color-border-dark":"#B8B2A9","--color-text":"#213547","--color-text-soft":"#213547bf","--color-text-muted":"#666666","--color-text-light":"#444444"};class Ss{constructor(){this.currentTheme="light",this.themes={light:i5,dark:n5}}static getInstance(){return Ss.instance||(Ss.instance=new Ss),Ss.instance}setTheme(r){this.currentTheme=r?"dark":"light";const e=this.themes[this.currentTheme],n=document.documentElement;Object.entries(e).forEach(([i,a])=>{n.style.setProperty(i,a)})}getCurrentTheme(){return this.currentTheme}addTheme(r,e){this.themes[r]=e}}const a5={class:"content-wrapper"},s5={class:"sidebar"},o5={class:"nav-section"},l5={class:"tool-section"},u5=["title"],c5={key:0,class:"dice-menu"},d5={class:"dice-options"},f5={class:"main-content"},h5={key:0,class:"dice-result"},v5={class:"dice-formula"},p5={class:"dice-total"},g5=qe({__name:"App",setup(t){const r=le(null),e=le(0),n=le(null),i=le(!1),a=m=>{n.value=m;const y=Math.floor(Math.random()*m)+1;r.value=y},s=()=>{r.value=null},o=()=>{i.value=!i.value,u()},l=Ss.getInstance(),u=()=>{l.setTheme(i.value)},c=le(!1),d=()=>{c.value=window.innerWidth<=768};Wt(()=>{u(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",y=>{localStorage.getItem("theme")||(i.value=y.matches,u())}),d(),window.addEventListener("resize",d),f.initGraph()});const f=am(),h=bT(),v=ce(()=>h.currentIndex>0),p=ce(()=>h.currentIndex<h.imageList.length-1);return(m,y)=>(I(),R("div",{class:Me(["layout",{"dark-theme":i.value}])},[g("div",a5,[g("nav",s5,[g("div",o5,[Pe(ue(As),{to:"/",class:"nav-link"},{default:On(()=>y[7]||(y[7]=[g("i",{class:"fi fi-rr-home"},null,-1)])),_:1}),Pe(ue(As),{to:"/overview",class:"nav-link",title:"总览"},{default:On(()=>y[8]||(y[8]=[g("i",{class:"fi fi-rr-dot-circle"},null,-1)])),_:1}),Pe(ue(As),{to:"/gallery",class:"nav-link",title:"画廊"},{default:On(()=>y[9]||(y[9]=[g("i",{class:"fi fi-sr-layout-fluid"},null,-1)])),_:1}),Pe(ue(As),{to:"/vault",class:"nav-link",title:"储物箱"},{default:On(()=>y[10]||(y[10]=[g("i",{class:"fi fi-rs-box-alt"},null,-1)])),_:1}),Pe(ue(As),{to:"/location",class:"nav-link",title:"地图"},{default:On(()=>y[11]||(y[11]=[g("i",{class:"fi fi-rr-earth-americas"},null,-1)])),_:1})]),g("div",l5,[g("button",{class:"nav-link theme-toggle",onClick:o,title:i.value?"切换到亮色模式":"切换到暗色模式"},[g("i",{class:Me(["fi",{"fi-rr-moon":i.value,"fi-rr-brightness":!i.value}])},null,2)],8,u5),c.value?De("",!0):(I(),R("div",c5,[y[18]||(y[18]=g("button",{class:"nav-link dice-trigger",title:"骰子"},[g("i",{class:"fi fi-rr-dice-d20"})],-1)),g("div",d5,[g("button",{class:"nav-link",onClick:y[0]||(y[0]=b=>a(4))},y[12]||(y[12]=[g("i",{class:"fi fi-rr-dice-d4"},null,-1)])),g("button",{class:"nav-link",onClick:y[1]||(y[1]=b=>a(6))},y[13]||(y[13]=[g("i",{class:"fi fi-rr-dice-d6"},null,-1)])),g("button",{class:"nav-link",onClick:y[2]||(y[2]=b=>a(8))},y[14]||(y[14]=[g("i",{class:"fi fi-rr-dice-d8"},null,-1)])),g("button",{class:"nav-link",onClick:y[3]||(y[3]=b=>a(10))},y[15]||(y[15]=[g("i",{class:"fi fi-rr-dice-d10"},null,-1)])),g("button",{class:"nav-link",onClick:y[4]||(y[4]=b=>a(12))},y[16]||(y[16]=[g("i",{class:"fi fi-rr-dice-d12"},null,-1)])),g("button",{class:"nav-link",onClick:y[5]||(y[5]=b=>a(20))},y[17]||(y[17]=[g("i",{class:"fi fi-rr-dice-d20"},null,-1)]))])]))])]),g("main",f5,[Pe(ue(pT)),Pe(r5)]),r.value?(I(),R("div",h5,[g("div",v5," 1d"+G(n.value)+G(e.value?` + ${e.value}`:""),1),g("div",p5," = "+G(r.value+e.value),1),g("button",{class:"close-button",onClick:s},"×")])):De("",!0)]),Pe(gm,{modelValue:ue(h).showPreview,"onUpdate:modelValue":y[6]||(y[6]=b=>ue(h).showPreview=b),"image-src":ue(h).currentImage,"enable-navigation":ue(h).imageList.length>1,"on-previous":v.value?ue(h).previousImage:void 0,"on-next":p.value?ue(h).nextImage:void 0,alt:"图片预览"},null,8,["modelValue","image-src","enable-navigation","on-previous","on-next"])],2))}}),y5=Ye(g5,[["__scopeId","data-v-f62c3861"]]),m5="modulepreload",b5=function(t){return"/the-tale-of-Ofoces/"+t},f$={},$5=function(r,e,n){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(e.map(l=>{if(l=b5(l),l in f$)return;f$[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":m5,u||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return r().catch(a)})},A5={class:"home-container"},w5={class:"carousel-container"},_5={class:"carousel-controls"},S5={class:"carousel-indicators"},k5=["onClick"],E5={class:"stats-container"},T5={class:"stat-item"},O5={class:"stat-number","data-tooltip":"角色: 通常被认为是一个故事的生命，使用此模块来组织他们的信息。"},C5={class:"stat-item"},I5={class:"stat-number","data-tooltip":"画廊: 用于存储有关项目的图像。"},P5={class:"stat-item"},x5={class:"stat-number","data-tooltip":"百科全书: 用于存储有关项目的信息，这些信息并不完全适合其他部分。"},R5={class:"stat-item"},M5={class:"stat-number","data-tooltip":"事件: 使用时间线创建事件序列，使用此模块规划组织头脑风暴、故事线及其他"},D5={class:"stat-item"},F5={class:"stat-number","data-tooltip":"地点: 用于存储位置的详细信息。"},B5={class:"stat-item"},N5={class:"stat-number","data-tooltip":"媒体: 用于存储有关项目的媒体文件。"},L5={class:"stat-item"},j5={class:"stat-number tooltip-right","data-tooltip":"杂项: 存储值得注意的物品，无论是随笔记录还是对角色具有情感价值的东西。"},z5=qe({__name:"HomeView",setup(t){const r=["/static/gallery/2023-11-22 213826.png"],e=le(0),n=le(null),i=Ln.length,a=Ws.length,s=Hs.length,o=nm.length,l=iu.length,u=im.length,c=ha.length,d=()=>{e.value=(e.value+1)%r.length},f=()=>{e.value=e.value===0?r.length-1:e.value-1},h=()=>{n.value=setInterval(d,5e3)},v=()=>{n.value&&clearInterval(n.value)},p=m=>{console.error("Image loading error:",m.target.src)};return Wt(()=>{h()}),jr(()=>{v()}),(m,y)=>(I(),R("div",A5,[g("div",w5,[Pe(Jy,{name:"fade",mode:"out-in"},{default:On(()=>[(I(),R("div",{key:e.value,class:"carousel-slide",style:er({backgroundImage:`url('${ue(Nt)(r[e.value])}')`}),onError:p},y[0]||(y[0]=[g("div",{class:"carousel-overlay"},null,-1)]),36))]),_:1}),g("div",_5,[g("button",{onClick:f,class:"carousel-btn"},"<"),g("div",S5,[(I(),R(he,null,Ce(r,(b,A)=>g("span",{key:A,class:Me(["indicator",{active:A===e.value}]),onClick:$=>e.value=A},null,10,k5)),64))]),g("button",{onClick:d,class:"carousel-btn"},">")])]),g("div",E5,[g("div",T5,[g("span",O5,[It(G(ue(i))+" · ",1),y[1]||(y[1]=g("i",{class:"fi fi-sr-following"},null,-1))])]),g("div",C5,[g("span",I5,[It(G(ue(a))+" · ",1),y[2]||(y[2]=g("i",{class:"fi fi-rr-graphic-style"},null,-1))])]),g("div",P5,[g("span",x5,[It(G(ue(s))+" · ",1),y[3]||(y[3]=g("i",{class:"fi fi-rr-features"},null,-1))])]),g("div",R5,[g("span",M5,[It(G(ue(o))+" · ",1),y[4]||(y[4]=g("i",{class:"fi fi-br-calendar-day"},null,-1))])]),g("div",D5,[g("span",F5,[It(G(ue(l))+" · ",1),y[5]||(y[5]=g("i",{class:"fi fi-rr-map-marker"},null,-1))])]),g("div",B5,[g("span",N5,[It(G(ue(u))+" · ",1),y[6]||(y[6]=g("i",{class:"fi fi-rr-play"},null,-1))])]),g("div",L5,[g("span",j5,[It(G(ue(c))+" · ",1),y[7]||(y[7]=g("i",{class:"fi fi-rr-notebook"},null,-1))])])])]))}}),H5=Ye(z5,[["__scopeId","data-v-8390b56c"]]);/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function bf(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RT={exports:{}},sc=function(t){return t&&t.Math===Math&&t},pt=sc(typeof globalThis=="object"&&globalThis)||sc(typeof window=="object"&&window)||sc(typeof self=="object"&&self)||sc(typeof Nh=="object"&&Nh)||function(){return this}()||Nh||Function("return this")(),Xe=function(t){try{return!!t()}catch{return!0}},W5=Xe,lu=!W5(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),V5=lu,MT=Function.prototype,h$=MT.apply,v$=MT.call,fo=typeof Reflect=="object"&&Reflect.apply||(V5?v$.bind(h$):function(){return v$.apply(h$,arguments)}),DT=lu,FT=Function.prototype,bg=FT.call,U5=DT&&FT.bind.bind(bg,bg),vt=DT?U5:function(t){return function(){return bg.apply(t,arguments)}},BT=vt,G5=BT({}.toString),K5=BT("".slice),qi=function(t){return K5(G5(t),8,-1)},q5=qi,Y5=vt,NT=function(t){if(q5(t)==="Function")return Y5(t)},$g=typeof document=="object"&&document.all,X5=typeof $g>"u"&&$g!==void 0,LT={all:$g,IS_HTMLDDA:X5},jT=LT,Z5=jT.all,_t=jT.IS_HTMLDDA?function(t){return typeof t=="function"||t===Z5}:function(t){return typeof t=="function"},Va={},Q5=Xe,Vt=!Q5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),J5=lu,oc=Function.prototype.call,Ut=J5?oc.bind(oc):function(){return oc.apply(oc,arguments)},$f={},zT={}.propertyIsEnumerable,HT=Object.getOwnPropertyDescriptor,ej=HT&&!zT.call({1:2},1);$f.f=ej?function(r){var e=HT(this,r);return!!e&&e.enumerable}:zT;var Ua=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}},tj=vt,rj=Xe,nj=qi,Lh=Object,ij=tj("".split),Af=rj(function(){return!Lh("z").propertyIsEnumerable(0)})?function(t){return nj(t)==="String"?ij(t,""):Lh(t)}:Lh,ho=function(t){return t==null},aj=ho,sj=TypeError,ym=function(t){if(aj(t))throw new sj("Can't call method on "+t);return t},oj=Af,lj=ym,jn=function(t){return oj(lj(t))},p$=_t,WT=LT,uj=WT.all,tr=WT.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:p$(t)||t===uj}:function(t){return typeof t=="object"?t!==null:p$(t)},gt={},jh=gt,zh=pt,cj=_t,g$=function(t){return cj(t)?t:void 0},mr=function(t,r){return arguments.length<2?g$(jh[t])||g$(zh[t]):jh[t]&&jh[t][r]||zh[t]&&zh[t][r]},dj=vt,Dt=dj({}.isPrototypeOf),Yi=typeof navigator<"u"&&String(navigator.userAgent)||"",VT=pt,Hh=Yi,y$=VT.process,m$=VT.Deno,b$=y$&&y$.versions||m$&&m$.version,$$=b$&&b$.v8,ln,Od;$$&&(ln=$$.split("."),Od=ln[0]>0&&ln[0]<4?1:+(ln[0]+ln[1]));!Od&&Hh&&(ln=Hh.match(/Edge\/(\d+)/),(!ln||ln[1]>=74)&&(ln=Hh.match(/Chrome\/(\d+)/),ln&&(Od=+ln[1])));var vo=Od,A$=vo,fj=Xe,hj=pt,vj=hj.String,po=!!Object.getOwnPropertySymbols&&!fj(function(){var t=Symbol("symbol detection");return!vj(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&A$&&A$<41}),pj=po,UT=pj&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gj=mr,yj=_t,mj=Dt,bj=UT,$j=Object,uu=bj?function(t){return typeof t=="symbol"}:function(t){var r=gj("Symbol");return yj(r)&&mj(r.prototype,$j(t))},Aj=String,go=function(t){try{return Aj(t)}catch{return"Object"}},wj=_t,_j=go,Sj=TypeError,Cr=function(t){if(wj(t))return t;throw new Sj(_j(t)+" is not a function")},kj=Cr,Ej=ho,mm=function(t,r){var e=t[r];return Ej(e)?void 0:kj(e)},Wh=Ut,Vh=_t,Uh=tr,Tj=TypeError,Oj=function(t,r){var e,n;if(r==="string"&&Vh(e=t.toString)&&!Uh(n=Wh(e,t))||Vh(e=t.valueOf)&&!Uh(n=Wh(e,t))||r!=="string"&&Vh(e=t.toString)&&!Uh(n=Wh(e,t)))return n;throw new Tj("Can't convert object to primitive value")},GT={exports:{}},Cj=!0,w$=pt,Ij=Object.defineProperty,Pj=function(t,r){try{Ij(w$,t,{value:r,configurable:!0,writable:!0})}catch{w$[t]=r}return r},xj=pt,Rj=Pj,_$="__core-js_shared__",Mj=xj[_$]||Rj(_$,{}),bm=Mj,S$=bm;(GT.exports=function(t,r){return S$[t]||(S$[t]=r!==void 0?r:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var yo=GT.exports,Dj=ym,Fj=Object,Ir=function(t){return Fj(Dj(t))},Bj=vt,Nj=Ir,Lj=Bj({}.hasOwnProperty),Ft=Object.hasOwn||function(r,e){return Lj(Nj(r),e)},jj=vt,zj=0,Hj=Math.random(),Wj=jj(1 .toString),wf=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Wj(++zj+Hj,36)},Vj=pt,Uj=yo,k$=Ft,Gj=wf,Kj=po,qj=UT,ks=Vj.Symbol,Gh=Uj("wks"),Yj=qj?ks.for||ks:ks&&ks.withoutSetter||Gj,mt=function(t){return k$(Gh,t)||(Gh[t]=Kj&&k$(ks,t)?ks[t]:Yj("Symbol."+t)),Gh[t]},Xj=Ut,E$=tr,T$=uu,Zj=mm,Qj=Oj,Jj=mt,ez=TypeError,tz=Jj("toPrimitive"),rz=function(t,r){if(!E$(t)||T$(t))return t;var e=Zj(t,tz),n;if(e){if(r===void 0&&(r="default"),n=Xj(e,t,r),!E$(n)||T$(n))return n;throw new ez("Can't convert object to primitive value")}return r===void 0&&(r="number"),Qj(t,r)},nz=rz,iz=uu,_f=function(t){var r=nz(t,"string");return iz(r)?r:r+""},az=pt,O$=tr,Ag=az.document,sz=O$(Ag)&&O$(Ag.createElement),$m=function(t){return sz?Ag.createElement(t):{}},oz=Vt,lz=Xe,uz=$m,KT=!oz&&!lz(function(){return Object.defineProperty(uz("div"),"a",{get:function(){return 7}}).a!==7}),cz=Vt,dz=Ut,fz=$f,hz=Ua,vz=jn,pz=_f,gz=Ft,yz=KT,C$=Object.getOwnPropertyDescriptor;Va.f=cz?C$:function(r,e){if(r=vz(r),e=pz(e),yz)try{return C$(r,e)}catch{}if(gz(r,e))return hz(!dz(fz.f,r,e),r[e])};var mz=Xe,bz=_t,$z=/#|\.prototype\./,cu=function(t,r){var e=wz[Az(t)];return e===Sz?!0:e===_z?!1:bz(r)?mz(r):!!r},Az=cu.normalize=function(t){return String(t).replace($z,".").toLowerCase()},wz=cu.data={},_z=cu.NATIVE="N",Sz=cu.POLYFILL="P",qT=cu,I$=NT,kz=Cr,Ez=lu,Tz=I$(I$.bind),Xi=function(t,r){return kz(t),r===void 0?t:Ez?Tz(t,r):function(){return t.apply(r,arguments)}},Pr={},Oz=Vt,Cz=Xe,YT=Oz&&Cz(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Iz=tr,Pz=String,xz=TypeError,zr=function(t){if(Iz(t))return t;throw new xz(Pz(t)+" is not an object")},Rz=Vt,Mz=KT,Dz=YT,lc=zr,P$=_f,Fz=TypeError,Kh=Object.defineProperty,Bz=Object.getOwnPropertyDescriptor,qh="enumerable",Yh="configurable",Xh="writable";Pr.f=Rz?Dz?function(r,e,n){if(lc(r),e=P$(e),lc(n),typeof r=="function"&&e==="prototype"&&"value"in n&&Xh in n&&!n[Xh]){var i=Bz(r,e);i&&i[Xh]&&(r[e]=n.value,n={configurable:Yh in n?n[Yh]:i[Yh],enumerable:qh in n?n[qh]:i[qh],writable:!1})}return Kh(r,e,n)}:Kh:function(r,e,n){if(lc(r),e=P$(e),lc(n),Mz)try{return Kh(r,e,n)}catch{}if("get"in n||"set"in n)throw new Fz("Accessors not supported");return"value"in n&&(r[e]=n.value),r};var Nz=Vt,Lz=Pr,jz=Ua,hi=Nz?function(t,r,e){return Lz.f(t,r,jz(1,e))}:function(t,r,e){return t[r]=e,t},uc=pt,zz=fo,Hz=NT,Wz=_t,Vz=Va.f,Uz=qT,ls=gt,Gz=Xi,us=hi,x$=Ft,Kz=function(t){var r=function(e,n,i){if(this instanceof r){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return zz(t,this,arguments)};return r.prototype=t.prototype,r},we=function(t,r){var e=t.target,n=t.global,i=t.stat,a=t.proto,s=n?uc:i?uc[e]:(uc[e]||{}).prototype,o=n?ls:ls[e]||us(ls,e,{})[e],l=o.prototype,u,c,d,f,h,v,p,m,y;for(f in r)u=Uz(n?f:e+(i?".":"#")+f,t.forced),c=!u&&s&&x$(s,f),v=o[f],c&&(t.dontCallGetSet?(y=Vz(s,f),p=y&&y.value):p=s[f]),h=c&&p?p:r[f],!(c&&typeof v==typeof h)&&(t.bind&&c?m=Gz(h,uc):t.wrap&&c?m=Kz(h):a&&Wz(h)?m=Hz(h):m=h,(t.sham||h&&h.sham||v&&v.sham)&&us(m,"sham",!0),us(o,f,m),a&&(d=e+"Prototype",x$(ls,d)||us(ls,d,{}),us(ls[d],f,h),t.real&&l&&(u||!l[f])&&us(l,f,h)))},qz=we,Yz=Vt,R$=Pr.f;qz({target:"Object",stat:!0,forced:Object.defineProperty!==R$,sham:!Yz},{defineProperty:R$});var Xz=gt,XT=Xz.Object,Zz=RT.exports=function(r,e,n){return XT.defineProperty(r,e,n)};XT.defineProperty.sham&&(Zz.sham=!0);var Qz=RT.exports,Jz=Qz,ZT=Jz,e6=ZT,t6=e6,r6=t6,n6=r6,QT=n6,Sf=Oe(QT),i6=qi,Zi=Array.isArray||function(r){return i6(r)==="Array"},a6=Math.ceil,s6=Math.floor,o6=Math.trunc||function(r){var e=+r;return(e>0?s6:a6)(e)},l6=o6,kf=function(t){var r=+t;return r!==r||r===0?0:l6(r)},u6=kf,c6=Math.min,d6=function(t){return t>0?c6(u6(t),9007199254740991):0},f6=d6,Hr=function(t){return f6(t.length)},h6=TypeError,v6=9007199254740991,Ef=function(t){if(t>v6)throw h6("Maximum allowed index exceeded");return t},p6=_f,g6=Pr,y6=Ua,mo=function(t,r,e){var n=p6(r);n in t?g6.f(t,n,y6(0,e)):t[n]=e},m6=mt,b6=m6("toStringTag"),JT={};JT[b6]="z";var Am=String(JT)==="[object z]",$6=Am,A6=_t,Qc=qi,w6=mt,_6=w6("toStringTag"),S6=Object,k6=Qc(function(){return arguments}())==="Arguments",E6=function(t,r){try{return t[r]}catch{}},vi=$6?Qc:function(t){var r,e,n;return t===void 0?"Undefined":t===null?"Null":typeof(e=E6(r=S6(t),_6))=="string"?e:k6?Qc(r):(n=Qc(r))==="Object"&&A6(r.callee)?"Arguments":n},T6=vt,O6=_t,wg=bm,C6=T6(Function.toString);O6(wg.inspectSource)||(wg.inspectSource=function(t){return C6(t)});var eO=wg.inspectSource,I6=vt,P6=Xe,tO=_t,x6=vi,R6=mr,M6=eO,rO=function(){},D6=[],nO=R6("Reflect","construct"),wm=/^\s*(?:class|function)\b/,F6=I6(wm.exec),B6=!wm.test(rO),Go=function(r){if(!tO(r))return!1;try{return nO(rO,D6,r),!0}catch{return!1}},iO=function(r){if(!tO(r))return!1;switch(x6(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return B6||!!F6(wm,M6(r))}catch{return!0}};iO.sham=!0;var Tf=!nO||P6(function(){var t;return Go(Go.call)||!Go(Object)||!Go(function(){t=!0})||t})?iO:Go,M$=Zi,N6=Tf,L6=tr,j6=mt,z6=j6("species"),D$=Array,H6=function(t){var r;return M$(t)&&(r=t.constructor,N6(r)&&(r===D$||M$(r.prototype))?r=void 0:L6(r)&&(r=r[z6],r===null&&(r=void 0))),r===void 0?D$:r},W6=H6,Of=function(t,r){return new(W6(t))(r===0?0:r)},V6=Xe,U6=mt,G6=vo,K6=U6("species"),du=function(t){return G6>=51||!V6(function(){var r=[],e=r.constructor={};return e[K6]=function(){return{foo:1}},r[t](Boolean).foo!==1})},q6=we,Y6=Xe,X6=Zi,Z6=tr,Q6=Ir,J6=Hr,F$=Ef,B$=mo,e8=Of,t8=du,r8=mt,n8=vo,aO=r8("isConcatSpreadable"),i8=n8>=51||!Y6(function(){var t=[];return t[aO]=!1,t.concat()[0]!==t}),a8=function(t){if(!Z6(t))return!1;var r=t[aO];return r!==void 0?!!r:X6(t)},s8=!i8||!t8("concat");q6({target:"Array",proto:!0,arity:1,forced:s8},{concat:function(r){var e=Q6(this),n=e8(e,0),i=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],a8(u))for(l=J6(u),F$(i+l),s=0;s<l;s++,i++)s in u&&B$(n,i,u[s]);else F$(i+1),B$(n,i++,u);return n.length=i,n}});var o8=vi,l8=String,Ga=function(t){if(o8(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return l8(t)},Cf={},u8=kf,c8=Math.max,d8=Math.min,If=function(t,r){var e=u8(t);return e<0?c8(e+r,0):d8(e,r)},f8=jn,h8=If,v8=Hr,N$=function(t){return function(r,e,n){var i=f8(r),a=v8(i),s=h8(n,a),o;if(t&&e!==e){for(;a>s;)if(o=i[s++],o!==o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===e)return t||s||0;return!t&&-1}},p8={includes:N$(!0),indexOf:N$(!1)},fu={},g8=vt,Zh=Ft,y8=jn,m8=p8.indexOf,b8=fu,L$=g8([].push),sO=function(t,r){var e=y8(t),n=0,i=[],a;for(a in e)!Zh(b8,a)&&Zh(e,a)&&L$(i,a);for(;r.length>n;)Zh(e,a=r[n++])&&(~m8(i,a)||L$(i,a));return i},_m=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$8=sO,A8=_m,Pf=Object.keys||function(r){return $8(r,A8)},w8=Vt,_8=YT,S8=Pr,k8=zr,E8=jn,T8=Pf;Cf.f=w8&&!_8?Object.defineProperties:function(r,e){k8(r);for(var n=E8(e),i=T8(e),a=i.length,s=0,o;a>s;)S8.f(r,o=i[s++],n[o]);return r};var O8=mr,oO=O8("document","documentElement"),C8=yo,I8=wf,j$=C8("keys"),xf=function(t){return j$[t]||(j$[t]=I8(t))},P8=zr,x8=Cf,z$=_m,R8=fu,M8=oO,D8=$m,F8=xf,H$=">",W$="<",_g="prototype",Sg="script",lO=F8("IE_PROTO"),Qh=function(){},uO=function(t){return W$+Sg+H$+t+W$+"/"+Sg+H$},V$=function(t){t.write(uO("")),t.close();var r=t.parentWindow.Object;return t=null,r},B8=function(){var t=D8("iframe"),r="java"+Sg+":",e;return t.style.display="none",M8.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(uO("document.F=Object")),e.close(),e.F},cc,Jc=function(){try{cc=new ActiveXObject("htmlfile")}catch{}Jc=typeof document<"u"?document.domain&&cc?V$(cc):B8():V$(cc);for(var t=z$.length;t--;)delete Jc[_g][z$[t]];return Jc()};R8[lO]=!0;var Ka=Object.create||function(r,e){var n;return r!==null?(Qh[_g]=P8(r),n=new Qh,Qh[_g]=null,n[lO]=r):n=Jc(),e===void 0?n:x8.f(n,e)},hu={},N8=sO,L8=_m,j8=L8.concat("length","prototype");hu.f=Object.getOwnPropertyNames||function(r){return N8(r,j8)};var Sm={},U$=If,z8=Hr,H8=mo,W8=Array,V8=Math.max,cO=function(t,r,e){for(var n=z8(t),i=U$(r,n),a=U$(e===void 0?n:e,n),s=W8(V8(a-i,0)),o=0;i<a;i++,o++)H8(s,o,t[i]);return s.length=o,s},U8=qi,G8=jn,dO=hu.f,K8=cO,fO=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],q8=function(t){try{return dO(t)}catch{return K8(fO)}};Sm.f=function(r){return fO&&U8(r)==="Window"?q8(r):dO(G8(r))};var vu={};vu.f=Object.getOwnPropertySymbols;var Y8=hi,bo=function(t,r,e,n){return n&&n.enumerable?t[r]=e:Y8(t,r,e),t},X8=Pr,km=function(t,r,e){return X8.f(t,r,e)},pu={},Z8=mt;pu.f=Z8;var G$=gt,Q8=Ft,J8=pu,eH=Pr.f,St=function(t){var r=G$.Symbol||(G$.Symbol={});Q8(r,t)||eH(r,t,{value:J8.f(t)})},tH=Ut,rH=mr,nH=mt,iH=bo,hO=function(){var t=rH("Symbol"),r=t&&t.prototype,e=r&&r.valueOf,n=nH("toPrimitive");r&&!r[n]&&iH(r,n,function(i){return tH(e,this)},{arity:1})},aH=Am,sH=vi,oH=aH?{}.toString:function(){return"[object "+sH(this)+"]"},lH=Am,uH=Pr.f,cH=hi,dH=Ft,fH=oH,hH=mt,K$=hH("toStringTag"),qa=function(t,r,e,n){if(t){var i=e?t:t.prototype;dH(i,K$)||uH(i,K$,{configurable:!0,value:r}),n&&!lH&&cH(i,"toString",fH)}},vH=pt,pH=_t,q$=vH.WeakMap,gH=pH(q$)&&/native code/.test(String(q$)),yH=gH,vO=pt,mH=tr,bH=hi,Jh=Ft,ev=bm,$H=xf,AH=fu,Y$="Object already initialized",kg=vO.TypeError,wH=vO.WeakMap,Cd,Bl,Id,_H=function(t){return Id(t)?Bl(t):Cd(t,{})},SH=function(t){return function(r){var e;if(!mH(r)||(e=Bl(r)).type!==t)throw new kg("Incompatible receiver, "+t+" required");return e}};if(yH||ev.state){var wn=ev.state||(ev.state=new wH);wn.get=wn.get,wn.has=wn.has,wn.set=wn.set,Cd=function(t,r){if(wn.has(t))throw new kg(Y$);return r.facade=t,wn.set(t,r),r},Bl=function(t){return wn.get(t)||{}},Id=function(t){return wn.has(t)}}else{var cs=$H("state");AH[cs]=!0,Cd=function(t,r){if(Jh(t,cs))throw new kg(Y$);return r.facade=t,bH(t,cs,r),r},Bl=function(t){return Jh(t,cs)?t[cs]:{}},Id=function(t){return Jh(t,cs)}}var $o={set:Cd,get:Bl,has:Id,enforce:_H,getterFor:SH},kH=Xi,EH=vt,TH=Af,OH=Ir,CH=Hr,IH=Of,X$=EH([].push),mi=function(t){var r=t===1,e=t===2,n=t===3,i=t===4,a=t===6,s=t===7,o=t===5||a;return function(l,u,c,d){for(var f=OH(l),h=TH(f),v=kH(u,c),p=CH(h),m=0,y=d||IH,b=r?y(l,p):e||s?y(l,0):void 0,A,$;p>m;m++)if((o||m in h)&&(A=h[m],$=v(A,m,f),t))if(r)b[m]=$;else if($)switch(t){case 3:return!0;case 5:return A;case 6:return m;case 2:X$(b,A)}else switch(t){case 4:return!1;case 7:X$(b,A)}return a?-1:n||i?i:b}},Ao={forEach:mi(0),map:mi(1),filter:mi(2),some:mi(3),every:mi(4),find:mi(5),findIndex:mi(6),filterReject:mi(7)},Rf=we,gu=pt,Em=Ut,PH=vt,Zs=Vt,Qs=po,xH=Xe,zt=Ft,RH=Dt,Eg=zr,Mf=jn,Tm=_f,MH=Ga,Tg=Ua,Nl=Ka,pO=Pf,DH=hu,gO=Sm,FH=vu,yO=Va,mO=Pr,BH=Cf,bO=$f,Z$=bo,NH=km,Om=yo,LH=xf,$O=fu,Q$=wf,jH=mt,zH=pu,HH=St,WH=hO,VH=qa,AO=$o,Df=Ao.forEach,wr=LH("hidden"),Ff="Symbol",Ll="prototype",UH=AO.set,J$=AO.getterFor(Ff),fn=Object[Ll],Aa=gu.Symbol,el=Aa&&Aa[Ll],GH=gu.RangeError,KH=gu.TypeError,tv=gu.QObject,wO=yO.f,wa=mO.f,_O=gO.f,qH=bO.f,SO=PH([].push),li=Om("symbols"),yu=Om("op-symbols"),YH=Om("wks"),Og=!tv||!tv[Ll]||!tv[Ll].findChild,kO=function(t,r,e){var n=wO(fn,r);n&&delete fn[r],wa(t,r,e),n&&t!==fn&&wa(fn,r,n)},Cg=Zs&&xH(function(){return Nl(wa({},"a",{get:function(){return wa(this,"a",{value:7}).a}})).a!==7})?kO:wa,rv=function(t,r){var e=li[t]=Nl(el);return UH(e,{type:Ff,tag:t,description:r}),Zs||(e.description=r),e},Bf=function(r,e,n){r===fn&&Bf(yu,e,n),Eg(r);var i=Tm(e);return Eg(n),zt(li,i)?(n.enumerable?(zt(r,wr)&&r[wr][i]&&(r[wr][i]=!1),n=Nl(n,{enumerable:Tg(0,!1)})):(zt(r,wr)||wa(r,wr,Tg(1,{})),r[wr][i]=!0),Cg(r,i,n)):wa(r,i,n)},Cm=function(r,e){Eg(r);var n=Mf(e),i=pO(n).concat(CO(n));return Df(i,function(a){(!Zs||Em(EO,n,a))&&Bf(r,a,n[a])}),r},XH=function(r,e){return e===void 0?Nl(r):Cm(Nl(r),e)},EO=function(r){var e=Tm(r),n=Em(qH,this,e);return this===fn&&zt(li,e)&&!zt(yu,e)?!1:n||!zt(this,e)||!zt(li,e)||zt(this,wr)&&this[wr][e]?n:!0},TO=function(r,e){var n=Mf(r),i=Tm(e);if(!(n===fn&&zt(li,i)&&!zt(yu,i))){var a=wO(n,i);return a&&zt(li,i)&&!(zt(n,wr)&&n[wr][i])&&(a.enumerable=!0),a}},OO=function(r){var e=_O(Mf(r)),n=[];return Df(e,function(i){!zt(li,i)&&!zt($O,i)&&SO(n,i)}),n},CO=function(t){var r=t===fn,e=_O(r?yu:Mf(t)),n=[];return Df(e,function(i){zt(li,i)&&(!r||zt(fn,i))&&SO(n,li[i])}),n};Qs||(Aa=function(){if(RH(el,this))throw new KH("Symbol is not a constructor");var r=!arguments.length||arguments[0]===void 0?void 0:MH(arguments[0]),e=Q$(r),n=function(i){var a=this===void 0?gu:this;a===fn&&Em(n,yu,i),zt(a,wr)&&zt(a[wr],e)&&(a[wr][e]=!1);var s=Tg(1,i);try{Cg(a,e,s)}catch(o){if(!(o instanceof GH))throw o;kO(a,e,s)}};return Zs&&Og&&Cg(fn,e,{configurable:!0,set:n}),rv(e,r)},el=Aa[Ll],Z$(el,"toString",function(){return J$(this).tag}),Z$(Aa,"withoutSetter",function(t){return rv(Q$(t),t)}),bO.f=EO,mO.f=Bf,BH.f=Cm,yO.f=TO,DH.f=gO.f=OO,FH.f=CO,zH.f=function(t){return rv(jH(t),t)},Zs&&NH(el,"description",{configurable:!0,get:function(){return J$(this).description}}));Rf({global:!0,constructor:!0,wrap:!0,forced:!Qs,sham:!Qs},{Symbol:Aa});Df(pO(YH),function(t){HH(t)});Rf({target:Ff,stat:!0,forced:!Qs},{useSetter:function(){Og=!0},useSimple:function(){Og=!1}});Rf({target:"Object",stat:!0,forced:!Qs,sham:!Zs},{create:XH,defineProperty:Bf,defineProperties:Cm,getOwnPropertyDescriptor:TO});Rf({target:"Object",stat:!0,forced:!Qs},{getOwnPropertyNames:OO});WH();VH(Aa,Ff);$O[wr]=!0;var ZH=po,IO=ZH&&!!Symbol.for&&!!Symbol.keyFor,QH=we,JH=mr,eW=Ft,tW=Ga,PO=yo,rW=IO,nv=PO("string-to-symbol-registry"),nW=PO("symbol-to-string-registry");QH({target:"Symbol",stat:!0,forced:!rW},{for:function(t){var r=tW(t);if(eW(nv,r))return nv[r];var e=JH("Symbol")(r);return nv[r]=e,nW[e]=r,e}});var iW=we,aW=Ft,sW=uu,oW=go,lW=yo,uW=IO,e0=lW("symbol-to-string-registry");iW({target:"Symbol",stat:!0,forced:!uW},{keyFor:function(r){if(!sW(r))throw new TypeError(oW(r)+" is not a symbol");if(aW(e0,r))return e0[r]}});var cW=vt,mu=cW([].slice),dW=vt,t0=Zi,fW=_t,r0=qi,hW=Ga,n0=dW([].push),vW=function(t){if(fW(t))return t;if(t0(t)){for(var r=t.length,e=[],n=0;n<r;n++){var i=t[n];typeof i=="string"?n0(e,i):(typeof i=="number"||r0(i)==="Number"||r0(i)==="String")&&n0(e,hW(i))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(t0(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},pW=we,xO=mr,RO=fo,gW=Ut,bu=vt,MO=Xe,i0=_t,a0=uu,DO=mu,yW=vW,mW=po,bW=String,Ri=xO("JSON","stringify"),dc=bu(/./.exec),s0=bu("".charAt),$W=bu("".charCodeAt),AW=bu("".replace),wW=bu(1 .toString),_W=/[\uD800-\uDFFF]/g,o0=/^[\uD800-\uDBFF]$/,l0=/^[\uDC00-\uDFFF]$/,u0=!mW||MO(function(){var t=xO("Symbol")("stringify detection");return Ri([t])!=="[null]"||Ri({a:t})!=="{}"||Ri(Object(t))!=="{}"}),c0=MO(function(){return Ri("\uDF06\uD834")!=='"\\udf06\\ud834"'||Ri("\uDEAD")!=='"\\udead"'}),SW=function(t,r){var e=DO(arguments),n=yW(r);if(!(!i0(n)&&(t===void 0||a0(t))))return e[1]=function(i,a){if(i0(n)&&(a=gW(n,this,bW(i),a)),!a0(a))return a},RO(Ri,null,e)},kW=function(t,r,e){var n=s0(e,r-1),i=s0(e,r+1);return dc(o0,t)&&!dc(l0,i)||dc(l0,t)&&!dc(o0,n)?"\\u"+wW($W(t,0),16):t};Ri&&pW({target:"JSON",stat:!0,arity:3,forced:u0||c0},{stringify:function(r,e,n){var i=DO(arguments),a=RO(u0?SW:Ri,null,i);return c0&&typeof a=="string"?AW(a,_W,kW):a}});var EW=we,TW=po,OW=Xe,FO=vu,CW=Ir,IW=!TW||OW(function(){FO.f(1)});EW({target:"Object",stat:!0,forced:IW},{getOwnPropertySymbols:function(r){var e=FO.f;return e?e(CW(r)):[]}});var PW=St;PW("asyncIterator");var xW=St;xW("hasInstance");var RW=St;RW("isConcatSpreadable");var MW=St;MW("iterator");var DW=St;DW("match");var FW=St;FW("matchAll");var BW=St;BW("replace");var NW=St;NW("search");var LW=St;LW("species");var jW=St;jW("split");var zW=St,HW=hO;zW("toPrimitive");HW();var WW=mr,VW=St,UW=qa;VW("toStringTag");UW(WW("Symbol"),"Symbol");var GW=St;GW("unscopables");var KW=pt,qW=qa;qW(KW.JSON,"JSON",!0);var YW=gt,XW=YW.Symbol,wo={},Ig=Vt,ZW=Ft,BO=Function.prototype,QW=Ig&&Object.getOwnPropertyDescriptor,Im=ZW(BO,"name"),JW=Im&&(function(){}).name==="something",e7=Im&&(!Ig||Ig&&QW(BO,"name").configurable),t7={EXISTS:Im,PROPER:JW,CONFIGURABLE:e7},r7=Xe,NO=!r7(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),n7=Ft,i7=_t,a7=Ir,s7=xf,o7=NO,d0=s7("IE_PROTO"),Pg=Object,l7=Pg.prototype,Nf=o7?Pg.getPrototypeOf:function(t){var r=a7(t);if(n7(r,d0))return r[d0];var e=r.constructor;return i7(e)&&r instanceof e?e.prototype:r instanceof Pg?l7:null},u7=Xe,c7=_t,d7=tr,f7=Ka,f0=Nf,h7=bo,v7=mt,xg=v7("iterator"),LO=!1,Qn,iv,av;[].keys&&(av=[].keys(),"next"in av?(iv=f0(f0(av)),iv!==Object.prototype&&(Qn=iv)):LO=!0);var p7=!d7(Qn)||u7(function(){var t={};return Qn[xg].call(t)!==t});p7?Qn={}:Qn=f7(Qn);c7(Qn[xg])||h7(Qn,xg,function(){return this});var jO={IteratorPrototype:Qn,BUGGY_SAFARI_ITERATORS:LO},g7=jO.IteratorPrototype,y7=Ka,m7=Ua,b7=qa,$7=wo,A7=function(){return this},w7=function(t,r,e,n){var i=r+" Iterator";return t.prototype=y7(g7,{next:m7(+!n,e)}),b7(t,i,!1,!0),$7[i]=A7,t},_7=vt,S7=Cr,k7=function(t,r,e){try{return _7(S7(Object.getOwnPropertyDescriptor(t,r)[e]))}catch{}},E7=_t,T7=String,O7=TypeError,C7=function(t){if(typeof t=="object"||E7(t))return t;throw new O7("Can't set "+T7(t)+" as a prototype")},I7=k7,P7=zr,x7=C7,zO=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,r={},e;try{e=I7(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch{}return function(i,a){return P7(i),x7(a),t?e(i,a):i.__proto__=a,i}}():void 0),R7=we,M7=Ut,D7=t7,F7=w7,B7=Nf,N7=qa,h0=bo,L7=mt,v0=wo,j7=jO,z7=D7.PROPER,fc=j7.BUGGY_SAFARI_ITERATORS,sv=L7("iterator"),p0="keys",hc="values",g0="entries",H7=function(){return this},Pm=function(t,r,e,n,i,a,s){F7(e,r,n);var o=function(y){if(y===i&&f)return f;if(!fc&&y&&y in c)return c[y];switch(y){case p0:return function(){return new e(this,y)};case hc:return function(){return new e(this,y)};case g0:return function(){return new e(this,y)}}return function(){return new e(this)}},l=r+" Iterator",u=!1,c=t.prototype,d=c[sv]||c["@@iterator"]||i&&c[i],f=!fc&&d||o(i),h=r==="Array"&&c.entries||d,v,p,m;if(h&&(v=B7(h.call(new t)),v!==Object.prototype&&v.next&&(N7(v,l,!0,!0),v0[l]=H7)),z7&&i===hc&&d&&d.name!==hc&&(u=!0,f=function(){return M7(d,this)}),i)if(p={values:o(hc),keys:a?f:o(p0),entries:o(g0)},s)for(m in p)(fc||u||!(m in c))&&h0(c,m,p[m]);else R7({target:r,proto:!0,forced:fc||u},p);return s&&c[sv]!==f&&h0(c,sv,f,{name:i}),v0[r]=f,p},xm=function(t,r){return{value:t,done:r}},W7=jn,y0=wo,HO=$o;Pr.f;var V7=Pm,vc=xm,WO="Array Iterator",U7=HO.set,G7=HO.getterFor(WO);V7(Array,"Array",function(t,r){U7(this,{type:WO,target:W7(t),index:0,kind:r})},function(){var t=G7(this),r=t.target,e=t.index++;if(!r||e>=r.length)return t.target=void 0,vc(void 0,!0);switch(t.kind){case"keys":return vc(e,!1);case"values":return vc(r[e],!1)}return vc([e,r[e]],!1)},"values");y0.Arguments=y0.Array;var K7={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},q7=K7,Y7=pt,X7=vi,Z7=hi,m0=wo,Q7=mt,b0=Q7("toStringTag");for(var ov in q7){var $0=Y7[ov],lv=$0&&$0.prototype;lv&&X7(lv)!==b0&&Z7(lv,b0,ov),m0[ov]=m0.Array}var J7=XW,VO=J7,eV=mt,tV=Pr.f,A0=eV("metadata"),w0=Function.prototype;w0[A0]===void 0&&tV(w0,A0,{value:null});var rV=St;rV("asyncDispose");var nV=St;nV("dispose");var iV=St;iV("metadata");var aV=VO,sV=aV,oV=mr,lV=vt,Rm=oV("Symbol"),uV=Rm.keyFor,cV=lV(Rm.prototype.valueOf),UO=Rm.isRegisteredSymbol||function(r){try{return uV(cV(r))!==void 0}catch{return!1}},dV=we,fV=UO;dV({target:"Symbol",stat:!0},{isRegisteredSymbol:fV});var hV=yo,GO=mr,vV=vt,pV=uu,gV=mt,Pd=GO("Symbol"),_0=Pd.isWellKnownSymbol,KO=GO("Object","getOwnPropertyNames"),yV=vV(Pd.prototype.valueOf),S0=hV("wks");for(var uv=0,k0=KO(Pd),mV=k0.length;uv<mV;uv++)try{var E0=k0[uv];pV(Pd[E0])&&gV(E0)}catch{}var qO=function(r){if(_0&&_0(r))return!0;try{for(var e=yV(r),n=0,i=KO(S0),a=i.length;n<a;n++)if(S0[i[n]]==e)return!0}catch{}return!1},bV=we,$V=qO;bV({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:$V});var AV=St;AV("matcher");var wV=St;wV("observable");var _V=we,SV=UO;_V({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:SV});var kV=we,EV=qO;kV({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:EV});var TV=St;TV("metadataKey");var OV=St;OV("patternMatch");var CV=St;CV("replaceAll");var IV=sV,PV=IV,Mm=PV,Es=Oe(Mm),Dm=vt,xV=kf,RV=Ga,MV=ym,DV=Dm("".charAt),T0=Dm("".charCodeAt),FV=Dm("".slice),O0=function(t){return function(r,e){var n=RV(MV(r)),i=xV(e),a=n.length,s,o;return i<0||i>=a?t?"":void 0:(s=T0(n,i),s<55296||s>56319||i+1===a||(o=T0(n,i+1))<56320||o>57343?t?DV(n,i):s:t?FV(n,i,i+2):(s-55296<<10)+(o-56320)+65536)}},BV={codeAt:O0(!1),charAt:O0(!0)},NV=BV.charAt,LV=Ga,YO=$o,jV=Pm,C0=xm,XO="String Iterator",zV=YO.set,HV=YO.getterFor(XO);jV(String,"String",function(t){zV(this,{type:XO,string:LV(t),index:0})},function(){var r=HV(this),e=r.string,n=r.index,i;return n>=e.length?C0(void 0,!0):(i=NV(e,n),r.index+=i.length,C0(i,!1))});var WV=pu,VV=WV.f("iterator"),UV=VV,ZO=UV,GV=ZO,KV=GV,qV=KV,YV=qV,QO=YV,XV=Oe(QO);function Js(t){"@babel/helpers - typeof";return Js=typeof Es=="function"&&typeof XV=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Es=="function"&&r.constructor===Es&&r!==Es.prototype?"symbol":typeof r},Js(t)}var ZV=pu,QV=ZV.f("toPrimitive"),JV=QV,e9=JV,t9=e9,r9=t9,n9=r9,i9=n9,a9=i9,s9=Oe(a9);function o9(t,r){if(Js(t)!=="object"||t===null)return t;var e=t[s9];if(e!==void 0){var n=e.call(t,r||"default");if(Js(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function JO(t){var r=o9(t,"string");return Js(r)==="symbol"?r:String(r)}function I0(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Sf(t,JO(n.key),n)}}function Lf(t,r,e){return r&&I0(t.prototype,r),e&&I0(t,e),Sf(t,"prototype",{writable:!1}),t}function Mi(t,r,e){return r=JO(r),r in t?Sf(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var eC=vt,l9=Cr,u9=tr,c9=Ft,P0=mu,d9=lu,tC=Function,f9=eC([].concat),h9=eC([].join),cv={},v9=function(t,r,e){if(!c9(cv,r)){for(var n=[],i=0;i<r;i++)n[i]="a["+i+"]";cv[r]=tC("C,a","return new C("+h9(n,",")+")")}return cv[r](t,e)},rC=d9?tC.bind:function(r){var e=l9(this),n=e.prototype,i=P0(arguments,1),a=function(){var o=f9(i,P0(arguments));return this instanceof a?v9(e,o.length,o):e.apply(r,o)};return u9(n)&&(a.prototype=n),a},p9=we,x0=rC;p9({target:"Function",proto:!0,forced:Function.bind!==x0},{bind:x0});var g9=pt,y9=gt,ar=function(t,r){var e=y9[t+"Prototype"],n=e&&e[r];if(n)return n;var i=g9[t],a=i&&i.prototype;return a&&a[r]},m9=ar,b9=m9("Function","bind"),$9=Dt,A9=b9,dv=Function.prototype,w9=function(t){var r=t.bind;return t===dv||$9(dv,t)&&r===dv.bind?A9:r},_9=w9,nC=_9,S9=nC,iC=Oe(S9),k9=Cr,E9=Ir,T9=Af,O9=Hr,C9=TypeError,R0=function(t){return function(r,e,n,i){k9(e);var a=E9(r),s=T9(a),o=O9(a),l=t?o-1:0,u=t?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=u;break}if(l+=u,t?l<0:o<=l)throw new C9("Reduce of empty array with no initial value")}for(;t?l>=0:o>l;l+=u)l in s&&(i=e(i,s[l],l,a));return i}},I9={left:R0(!1),right:R0(!0)},P9=Xe,jf=function(t,r){var e=[][t];return!!e&&P9(function(){e.call(null,r||function(){return 1},1)})},x9=pt,R9=qi,$u=R9(x9.process)==="process",M9=we,D9=I9.left,F9=jf,M0=vo,B9=$u,N9=!B9&&M0>79&&M0<83,L9=N9||!F9("reduce");M9({target:"Array",proto:!0,forced:L9},{reduce:function(r){var e=arguments.length;return D9(this,r,e,e>1?arguments[1]:void 0)}});var j9=ar,z9=j9("Array","reduce"),H9=Dt,W9=z9,fv=Array.prototype,V9=function(t){var r=t.reduce;return t===fv||H9(fv,t)&&r===fv.reduce?W9:r},U9=V9,G9=U9,K9=G9,q9=Oe(K9),Y9=we,X9=Ao.filter,Z9=du,Q9=Z9("filter");Y9({target:"Array",proto:!0,forced:!Q9},{filter:function(r){return X9(this,r,arguments.length>1?arguments[1]:void 0)}});var J9=ar,eU=J9("Array","filter"),tU=Dt,rU=eU,hv=Array.prototype,nU=function(t){var r=t.filter;return t===hv||tU(hv,t)&&r===hv.filter?rU:r},iU=nU,aU=iU,sU=aU,Ts=Oe(sU),oU=we,lU=Ao.map,uU=du,cU=uU("map");oU({target:"Array",proto:!0,forced:!cU},{map:function(r){return lU(this,r,arguments.length>1?arguments[1]:void 0)}});var dU=ar,fU=dU("Array","map"),hU=Dt,vU=fU,vv=Array.prototype,pU=function(t){var r=t.map;return t===vv||hU(vv,t)&&r===vv.map?vU:r},gU=pU,yU=gU,mU=yU,un=Oe(mU),bU=Zi,$U=Hr,AU=Ef,wU=Xi,aC=function(t,r,e,n,i,a,s,o){for(var l=i,u=0,c=s?wU(s,o):!1,d,f;u<n;)u in e&&(d=c?c(e[u],u,r):e[u],a>0&&bU(d)?(f=$U(d),l=aC(t,r,d,f,l,a-1)-1):(AU(l+1),t[l]=d),l++),u++;return l},_U=aC,SU=we,kU=_U,EU=Cr,TU=Ir,OU=Hr,CU=Of;SU({target:"Array",proto:!0},{flatMap:function(r){var e=TU(this),n=OU(e),i;return EU(r),i=CU(e,0),i.length=kU(i,e,e,n,0,1,r,arguments.length>1?arguments[1]:void 0),i}});var IU=ar;IU("Array","flatMap");var PU=Ut,D0=zr,xU=mm,sC=function(t,r,e){var n,i;D0(t);try{if(n=xU(t,"return"),!n){if(r==="throw")throw e;return e}n=PU(n,t)}catch(a){i=!0,n=a}if(r==="throw")throw e;if(i)throw n;return D0(n),e},RU=zr,MU=sC,DU=function(t,r,e,n){try{return n?r(RU(e)[0],e[1]):r(e)}catch(i){MU(t,"throw",i)}},FU=mt,BU=wo,NU=FU("iterator"),LU=Array.prototype,oC=function(t){return t!==void 0&&(BU.Array===t||LU[NU]===t)},jU=vi,F0=mm,zU=ho,HU=wo,WU=mt,VU=WU("iterator"),zf=function(t){if(!zU(t))return F0(t,VU)||F0(t,"@@iterator")||HU[jU(t)]},UU=Ut,GU=Cr,KU=zr,qU=go,YU=zf,XU=TypeError,Fm=function(t,r){var e=arguments.length<2?YU(t):r;if(GU(e))return KU(UU(e,t));throw new XU(qU(t)+" is not iterable")},ZU=Xi,QU=Ut,JU=Ir,eG=DU,tG=oC,rG=Tf,nG=Hr,B0=mo,iG=Fm,aG=zf,N0=Array,sG=function(r){var e=JU(r),n=rG(this),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0;s&&(a=ZU(a,i>2?arguments[2]:void 0));var o=aG(e),l=0,u,c,d,f,h,v;if(o&&!(this===N0&&tG(o)))for(f=iG(e,o),h=f.next,c=n?new this:[];!(d=QU(h,f)).done;l++)v=s?eG(f,a,[d.value,l],!0):d.value,B0(c,l,v);else for(u=nG(e),c=n?new this(u):N0(u);u>l;l++)v=s?a(e[l],l):e[l],B0(c,l,v);return c.length=l,c},oG=mt,lC=oG("iterator"),uC=!1;try{var lG=0,L0={next:function(){return{done:!!lG++}},return:function(){uC=!0}};L0[lC]=function(){return this},Array.from(L0,function(){throw 2})}catch{}var cC=function(t,r){try{if(!r&&!uC)return!1}catch{return!1}var e=!1;try{var n={};n[lC]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch{}return e},uG=we,cG=sG,dG=cC,fG=!dG(function(t){Array.from(t)});uG({target:"Array",stat:!0,forced:fG},{from:cG});var hG=gt,vG=hG.Array.from,pG=vG,dC=pG,gG=dC,Bm=Oe(gG),yG=zf,mG=yG,bG=mG,$G=bG,AG=$G,wG=AG,_G=wG,SG=_G,fC=SG,hC=Oe(fC),kG=fC,Nm=Oe(kG),EG=we,TG=Zi;EG({target:"Array",stat:!0},{isArray:TG});var OG=gt,CG=OG.Array.isArray,IG=CG,vC=IG,PG=vC,xG=PG,RG=xG,MG=RG,DG=MG,pC=Oe(DG);function FG(t){if(pC(t))return t}var BG=Vt,NG=Zi,LG=TypeError,jG=Object.getOwnPropertyDescriptor,zG=BG&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),gC=zG?function(t,r){if(NG(t)&&!jG(t,"length").writable)throw new LG("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r},HG=we,WG=Ir,VG=Hr,UG=gC,GG=Ef,KG=Xe,qG=KG(function(){return[].push.call({length:4294967296},1)!==4294967297}),YG=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},XG=qG||!YG();HG({target:"Array",proto:!0,arity:1,forced:XG},{push:function(r){var e=WG(this),n=VG(e),i=arguments.length;GG(n+i);for(var a=0;a<i;a++)e[n]=arguments[a],n++;return UG(e,n),n}});var ZG=ar,QG=ZG("Array","push"),JG=Dt,eK=QG,pv=Array.prototype,tK=function(t){var r=t.push;return t===pv||JG(pv,t)&&r===pv.push?eK:r},rK=tK,nK=rK,iK=nK,aK=iK,sK=aK,oK=sK,yC=oK,lK=Oe(yC);function uK(t,r){var e=t==null?null:typeof Es<"u"&&hC(t)||t["@@iterator"];if(e!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(t)).next,r===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=a.call(e)).done)&&(lK(o).call(o,n.value),o.length!==r);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}var cK=we,j0=Zi,dK=Tf,fK=tr,z0=If,hK=Hr,vK=jn,pK=mo,gK=mt,yK=du,mK=mu,bK=yK("slice"),$K=gK("species"),gv=Array,AK=Math.max;cK({target:"Array",proto:!0,forced:!bK},{slice:function(r,e){var n=vK(this),i=hK(n),a=z0(r,i),s=z0(e===void 0?i:e,i),o,l,u;if(j0(n)&&(o=n.constructor,dK(o)&&(o===gv||j0(o.prototype))?o=void 0:fK(o)&&(o=o[$K],o===null&&(o=void 0)),o===gv||o===void 0))return mK(n,a,s);for(l=new(o===void 0?gv:o)(AK(s-a,0)),u=0;a<s;a++,u++)a in n&&pK(l,u,n[a]);return l.length=u,l}});var wK=ar,_K=wK("Array","slice"),SK=Dt,kK=_K,yv=Array.prototype,EK=function(t){var r=t.slice;return t===yv||SK(yv,t)&&r===yv.slice?kK:r},TK=EK,mC=TK,OK=mC,CK=OK,IK=CK,PK=IK,bC=PK,xK=Oe(bC),RK=dC,MK=RK,DK=MK,FK=DK,BK=FK,$C=Oe(BK);function Rg(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function AC(t,r){var e;if(t){if(typeof t=="string")return Rg(t,r);var n=xK(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return $C(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(t,r)}}function NK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function br(t,r){return FG(t)||uK(t,r)||AC(t,r)||NK()}function LK(t){if(pC(t))return Rg(t)}function jK(t){if(typeof Es<"u"&&hC(t)!=null||t["@@iterator"]!=null)return $C(t)}function zK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _r(t){return LK(t)||jK(t)||AC(t)||zK()}var HK=VO,Hf=Oe(HK),WK=ar,VK=WK("Array","concat"),UK=Dt,GK=VK,mv=Array.prototype,KK=function(t){var r=t.concat;return t===mv||UK(mv,t)&&r===mv.concat?GK:r},qK=KK,YK=qK,XK=YK,Wf=Oe(XK),ZK=mC,Vf=Oe(ZK),QK=mr,JK=vt,eq=hu,tq=vu,rq=zr,nq=JK([].concat),Lm=QK("Reflect","ownKeys")||function(r){var e=eq.f(rq(r)),n=tq.f;return n?nq(e,n(r)):e},iq=we,aq=Lm;iq({target:"Reflect",stat:!0},{ownKeys:aq});var sq=gt,oq=sq.Reflect.ownKeys,lq=oq,uq=lq,cq=uq,dq=Oe(cq),fq=vC,Br=Oe(fq),hq=we,vq=Ir,wC=Pf,pq=Xe,gq=pq(function(){wC(1)});hq({target:"Object",stat:!0,forced:gq},{keys:function(r){return wC(vq(r))}});var yq=gt,mq=yq.Object.keys,bq=mq,$q=bq,Aq=$q,jm=Oe(Aq),wq=Ao.forEach,_q=jf,Sq=_q("forEach"),kq=Sq?[].forEach:function(r){return wq(this,r,arguments.length>1?arguments[1]:void 0)},Eq=we,H0=kq;Eq({target:"Array",proto:!0,forced:[].forEach!==H0},{forEach:H0});var Tq=ar,Oq=Tq("Array","forEach"),Cq=Oq,Iq=Cq,Pq=vi,xq=Ft,Rq=Dt,Mq=Iq,bv=Array.prototype,Dq={DOMTokenList:!0,NodeList:!0},_C=function(t){var r=t.forEach;return t===bv||Rq(bv,t)&&r===bv.forEach||xq(Dq,Pq(t))?Mq:r},Fq=_C,Ra=Oe(Fq),Bq=we,Nq=vt,Lq=Zi,jq=Nq([].reverse),W0=[1,2];Bq({target:"Array",proto:!0,forced:String(W0)===String(W0.reverse())},{reverse:function(){return Lq(this)&&(this.length=this.length),jq(this)}});var zq=ar,Hq=zq("Array","reverse"),Wq=Dt,Vq=Hq,$v=Array.prototype,Uq=function(t){var r=t.reverse;return t===$v||Wq($v,t)&&r===$v.reverse?Vq:r},Gq=Uq,SC=Gq,Kq=SC,qq=Oe(Kq),V0=go,Yq=TypeError,kC=function(t,r){if(!delete t[r])throw new Yq("Cannot delete property "+V0(r)+" of "+V0(t))},Xq=we,Zq=Ir,Qq=If,Jq=kf,eY=Hr,tY=gC,rY=Ef,nY=Of,iY=mo,Av=kC,aY=du,sY=aY("splice"),oY=Math.max,lY=Math.min;Xq({target:"Array",proto:!0,forced:!sY},{splice:function(r,e){var n=Zq(this),i=eY(n),a=Qq(r,i),s=arguments.length,o,l,u,c,d,f;for(s===0?o=l=0:s===1?(o=0,l=i-a):(o=s-2,l=lY(oY(Jq(e),0),i-a)),rY(i+o-l),u=nY(n,l),c=0;c<l;c++)d=a+c,d in n&&iY(u,c,n[d]);if(u.length=l,o<l){for(c=a;c<i-l;c++)d=c+l,f=c+o,d in n?n[f]=n[d]:Av(n,f);for(c=i;c>i-l+o;c--)Av(n,c-1)}else if(o>l)for(c=i-l;c>a;c--)d=c+l-1,f=c+o-1,d in n?n[f]=n[d]:Av(n,f);for(c=0;c<o;c++)n[c+a]=arguments[c+2];return tY(n,i-l+o),u}});var uY=ar,cY=uY("Array","splice"),dY=Dt,fY=cY,wv=Array.prototype,hY=function(t){var r=t.splice;return t===wv||dY(wv,t)&&r===wv.splice?fY:r},vY=hY,pY=vY,gY=pY,EC=Oe(gY),U0=Vt,yY=vt,mY=Ut,bY=Xe,_v=Pf,$Y=vu,AY=$f,wY=Ir,_Y=Af,ds=Object.assign,G0=Object.defineProperty,SY=yY([].concat),kY=!ds||bY(function(){if(U0&&ds({b:1},ds(G0({},"a",{enumerable:!0,get:function(){G0(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},r={},e=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(i){r[i]=i}),ds({},t)[e]!==7||_v(ds({},r)).join("")!==n})?function(r,e){for(var n=wY(r),i=arguments.length,a=1,s=$Y.f,o=AY.f;i>a;)for(var l=_Y(arguments[a++]),u=s?SY(_v(l),s(l)):_v(l),c=u.length,d=0,f;c>d;)f=u[d++],(!U0||mY(o,l,f))&&(n[f]=l[f]);return n}:ds,EY=we,K0=kY;EY({target:"Object",stat:!0,arity:2,forced:Object.assign!==K0},{assign:K0});var TY=gt,OY=TY.Object.assign,CY=OY,IY=CY,PY=IY,xY=Oe(PY),RY=we,MY=Xe,DY=Ir,TC=Nf,FY=NO,BY=MY(function(){TC(1)});RY({target:"Object",stat:!0,forced:BY,sham:!FY},{getPrototypeOf:function(r){return TC(DY(r))}});var NY=gt,LY=NY.Object.getPrototypeOf,jY=LY,zY=jY,HY=we,WY=Vt,VY=Ka;HY({target:"Object",stat:!0,sham:!WY},{create:VY});var UY=gt,GY=UY.Object,KY=function(r,e){return GY.create(r,e)},qY=KY,OC=qY,YY=OC,XY=Oe(YY),Mg=gt,ZY=fo;Mg.JSON||(Mg.JSON={stringify:JSON.stringify});var QY=function(r,e,n){return ZY(Mg.JSON.stringify,null,arguments)},JY=QY,eX=JY,tX=eX,rX=Oe(tX),nX=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",iX=TypeError,CC=function(t,r){if(t<r)throw new iX("Not enough arguments");return t},IC=pt,aX=fo,sX=_t,oX=nX,lX=Yi,uX=mu,cX=CC,dX=IC.Function,fX=/MSIE .\./.test(lX)||oX&&function(){var t=IC.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),PC=function(t,r){var e=r?2:1;return fX?function(n,i){var a=cX(arguments.length,1)>e,s=sX(n)?n:dX(n),o=a?uX(arguments,e):[],l=a?function(){aX(s,this,o)}:s;return r?t(l,i):t(l)}:t},hX=we,xC=pt,vX=PC,q0=vX(xC.setInterval,!0);hX({global:!0,bind:!0,forced:xC.setInterval!==q0},{setInterval:q0});var pX=we,RC=pt,gX=PC,Y0=gX(RC.setTimeout,!0);pX({global:!0,bind:!0,forced:RC.setTimeout!==Y0},{setTimeout:Y0});var yX=gt,mX=yX.setTimeout,bX=mX,$X=Oe(bX),MC={exports:{}};(function(t){function r(n){if(n)return e(n);this._callbacks=new Map}function e(n){return Object.assign(n,r.prototype),n._callbacks=new Map,n}r.prototype.on=function(n,i){const a=this._callbacks.get(n)??[];return a.push(i),this._callbacks.set(n,a),this},r.prototype.once=function(n,i){const a=(...s)=>{this.off(n,a),i.apply(this,s)};return a.fn=i,this.on(n,a),this},r.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const a=this._callbacks.get(n);if(a){for(const[s,o]of a.entries())if(o===i||o.fn===i){a.splice(s,1);break}a.length===0?this._callbacks.delete(n):this._callbacks.set(n,a)}return this},r.prototype.emit=function(n,...i){const a=this._callbacks.get(n);if(a){const s=[...a];for(const o of s)o.apply(this,i)}return this},r.prototype.listeners=function(n){return this._callbacks.get(n)??[]},r.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const a of this._callbacks.values())i+=a.length;return i},r.prototype.hasListeners=function(n){return this.listenerCount(n)>0},r.prototype.addEventListener=r.prototype.on,r.prototype.removeListener=r.prototype.off,r.prototype.removeEventListener=r.prototype.off,r.prototype.removeAllListeners=r.prototype.off,t.exports=r})(MC);var AX=MC.exports,wX=Oe(AX);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function mn(){return mn=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},mn.apply(this,arguments)}function rn(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}function pc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Dg;typeof Object.assign!="function"?Dg=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e}:Dg=Object.assign;var Ma=Dg,X0=["","webkit","Moz","MS","ms","o"],_X=typeof document>"u"?{style:{}}:document.createElement("div"),SX="function",Os=Math.round,Da=Math.abs,zm=Date.now;function Uf(t,r){for(var e,n,i=r[0].toUpperCase()+r.slice(1),a=0;a<X0.length;){if(e=X0[a],n=e?e+i:r,n in t)return n;a++}}var Jn;typeof window>"u"?Jn={}:Jn=window;var DC=Uf(_X.style,"touchAction"),FC=DC!==void 0;function kX(){if(!FC)return!1;var t={},r=Jn.CSS&&Jn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return t[e]=r?Jn.CSS.supports("touch-action",e):!0}),t}var BC="compute",NC="auto",Fg="manipulation",_a="none",jl="pan-x",zl="pan-y",gc=kX(),EX=/mobile|tablet|ip(ad|hone|od)|android/i,LC="ontouchstart"in Jn,TX=Uf(Jn,"PointerEvent")!==void 0,OX=LC&&EX.test(navigator.userAgent),Au="touch",CX="pen",Hm="mouse",IX="kinect",PX=25,gr=1,Ya=2,Pt=4,Tr=8,xd=1,wu=2,_u=4,Su=8,eo=16,Fn=wu|_u,Sa=Su|eo,jC=Fn|Sa,zC=["x","y"],Rd=["clientX","clientY"];function ei(t,r,e){var n;if(t)if(t.forEach)t.forEach(r,e);else if(t.length!==void 0)for(n=0;n<t.length;)r.call(e,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&r.call(e,t[n],n,t)}function Gf(t,r){return typeof t===SX?t.apply(r&&r[0]||void 0,r):t}function ga(t,r){return t.indexOf(r)>-1}function xX(t){if(ga(t,_a))return _a;var r=ga(t,jl),e=ga(t,zl);return r&&e?_a:r||e?r?jl:zl:ga(t,Fg)?Fg:NC}var HC=function(){function t(e,n){this.manager=e,this.set(n)}var r=t.prototype;return r.set=function(n){n===BC&&(n=this.compute()),FC&&this.manager.element.style&&gc[n]&&(this.manager.element.style[DC]=n),this.actions=n.toLowerCase().trim()},r.update=function(){this.set(this.manager.options.touchAction)},r.compute=function(){var n=[];return ei(this.manager.recognizers,function(i){Gf(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),xX(n.join(" "))},r.preventDefaults=function(n){var i=n.srcEvent,a=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var s=this.actions,o=ga(s,_a)&&!gc[_a],l=ga(s,zl)&&!gc[zl],u=ga(s,jl)&&!gc[jl];if(o){var c=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(c&&d&&f)return}if(!(u&&l)&&(o||l&&a&Fn||u&&a&Sa))return this.preventSrc(i)},r.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function Wm(t,r){for(;t;){if(t===r)return!0;t=t.parentNode}return!1}function WC(t){var r=t.length;if(r===1)return{x:Os(t[0].clientX),y:Os(t[0].clientY)};for(var e=0,n=0,i=0;i<r;)e+=t[i].clientX,n+=t[i].clientY,i++;return{x:Os(e/r),y:Os(n/r)}}function Z0(t){for(var r=[],e=0;e<t.pointers.length;)r[e]={clientX:Os(t.pointers[e].clientX),clientY:Os(t.pointers[e].clientY)},e++;return{timeStamp:zm(),pointers:r,center:WC(r),deltaX:t.deltaX,deltaY:t.deltaY}}function Md(t,r,e){e||(e=zC);var n=r[e[0]]-t[e[0]],i=r[e[1]]-t[e[1]];return Math.sqrt(n*n+i*i)}function Bg(t,r,e){e||(e=zC);var n=r[e[0]]-t[e[0]],i=r[e[1]]-t[e[1]];return Math.atan2(i,n)*180/Math.PI}function VC(t,r){return t===r?xd:Da(t)>=Da(r)?t<0?wu:_u:r<0?Su:eo}function RX(t,r){var e=r.center,n=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};(r.eventType===gr||a.eventType===Pt)&&(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:e.x,y:e.y}),r.deltaX=i.x+(e.x-n.x),r.deltaY=i.y+(e.y-n.y)}function UC(t,r,e){return{x:r/t||0,y:e/t||0}}function MX(t,r){return Md(r[0],r[1],Rd)/Md(t[0],t[1],Rd)}function DX(t,r){return Bg(r[1],r[0],Rd)+Bg(t[1],t[0],Rd)}function FX(t,r){var e=t.lastInterval||r,n=r.timeStamp-e.timeStamp,i,a,s,o;if(r.eventType!==Tr&&(n>PX||e.velocity===void 0)){var l=r.deltaX-e.deltaX,u=r.deltaY-e.deltaY,c=UC(n,l,u);a=c.x,s=c.y,i=Da(c.x)>Da(c.y)?c.x:c.y,o=VC(l,u),t.lastInterval=r}else i=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;r.velocity=i,r.velocityX=a,r.velocityY=s,r.direction=o}function BX(t,r){var e=t.session,n=r.pointers,i=n.length;e.firstInput||(e.firstInput=Z0(r)),i>1&&!e.firstMultiple?e.firstMultiple=Z0(r):i===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=r.center=WC(n);r.timeStamp=zm(),r.deltaTime=r.timeStamp-a.timeStamp,r.angle=Bg(o,l),r.distance=Md(o,l),RX(e,r),r.offsetDirection=VC(r.deltaX,r.deltaY);var u=UC(r.deltaTime,r.deltaX,r.deltaY);r.overallVelocityX=u.x,r.overallVelocityY=u.y,r.overallVelocity=Da(u.x)>Da(u.y)?u.x:u.y,r.scale=s?MX(s.pointers,n):1,r.rotation=s?DX(s.pointers,n):0,r.maxPointers=e.prevInput?r.pointers.length>e.prevInput.maxPointers?r.pointers.length:e.prevInput.maxPointers:r.pointers.length,FX(e,r);var c=t.element,d=r.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,Wm(f,c)&&(c=f),r.target=c}function NX(t,r,e){var n=e.pointers.length,i=e.changedPointers.length,a=r&gr&&n-i===0,s=r&(Pt|Tr)&&n-i===0;e.isFirst=!!a,e.isFinal=!!s,a&&(t.session={}),e.eventType=r,BX(t,e),t.emit("hammer.input",e),t.recognize(e),t.session.prevInput=e}function Hl(t){return t.trim().split(/\s+/g)}function gl(t,r,e){ei(Hl(r),function(n){t.addEventListener(n,e,!1)})}function yl(t,r,e){ei(Hl(r),function(n){t.removeEventListener(n,e,!1)})}function Q0(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow||window}var _o=function(){function t(e,n){var i=this;this.manager=e,this.callback=n,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){Gf(e.options.enable,[e])&&i.handler(a)},this.init()}var r=t.prototype;return r.handler=function(){},r.init=function(){this.evEl&&gl(this.element,this.evEl,this.domHandler),this.evTarget&&gl(this.target,this.evTarget,this.domHandler),this.evWin&&gl(Q0(this.element),this.evWin,this.domHandler)},r.destroy=function(){this.evEl&&yl(this.element,this.evEl,this.domHandler),this.evTarget&&yl(this.target,this.evTarget,this.domHandler),this.evWin&&yl(Q0(this.element),this.evWin,this.domHandler)},t}();function Fa(t,r,e){if(t.indexOf&&!e)return t.indexOf(r);for(var n=0;n<t.length;){if(e&&t[n][e]==r||!e&&t[n]===r)return n;n++}return-1}var LX={pointerdown:gr,pointermove:Ya,pointerup:Pt,pointercancel:Tr,pointerout:Tr},jX={2:Au,3:CX,4:Hm,5:IX},GC="pointerdown",KC="pointermove pointerup pointercancel";Jn.MSPointerEvent&&!Jn.PointerEvent&&(GC="MSPointerDown",KC="MSPointerMove MSPointerUp MSPointerCancel");var qC=function(t){rn(r,t);function r(){var n,i=r.prototype;return i.evEl=GC,i.evWin=KC,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var e=r.prototype;return e.handler=function(i){var a=this.store,s=!1,o=i.type.toLowerCase().replace("ms",""),l=LX[o],u=jX[i.pointerType]||i.pointerType,c=u===Au,d=Fa(a,i.pointerId,"pointerId");l&gr&&(i.button===0||c)?d<0&&(a.push(i),d=a.length-1):l&(Pt|Tr)&&(s=!0),!(d<0)&&(a[d]=i,this.callback(this.manager,l,{pointers:a,changedPointers:[i],pointerType:u,srcEvent:i}),s&&a.splice(d,1))},r}(_o);function Wl(t){return Array.prototype.slice.call(t,0)}function Vm(t,r,e){for(var n=[],i=[],a=0;a<t.length;){var s=r?t[a][r]:t[a];Fa(i,s)<0&&n.push(t[a]),i[a]=s,a++}return e&&(r?n=n.sort(function(o,l){return o[r]>l[r]}):n=n.sort()),n}var zX={touchstart:gr,touchmove:Ya,touchend:Pt,touchcancel:Tr},HX="touchstart touchmove touchend touchcancel",Um=function(t){rn(r,t);function r(){var n;return r.prototype.evTarget=HX,n=t.apply(this,arguments)||this,n.targetIds={},n}var e=r.prototype;return e.handler=function(i){var a=zX[i.type],s=WX.call(this,i,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:Au,srcEvent:i})},r}(_o);function WX(t,r){var e=Wl(t.touches),n=this.targetIds;if(r&(gr|Ya)&&e.length===1)return n[e[0].identifier]=!0,[e,e];var i,a,s=Wl(t.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return Wm(u.target,l)}),r===gr)for(i=0;i<a.length;)n[a[i].identifier]=!0,i++;for(i=0;i<s.length;)n[s[i].identifier]&&o.push(s[i]),r&(Pt|Tr)&&delete n[s[i].identifier],i++;if(o.length)return[Vm(a.concat(o),"identifier",!0),o]}var VX={mousedown:gr,mousemove:Ya,mouseup:Pt},UX="mousedown",GX="mousemove mouseup",Gm=function(t){rn(r,t);function r(){var n,i=r.prototype;return i.evEl=UX,i.evWin=GX,n=t.apply(this,arguments)||this,n.pressed=!1,n}var e=r.prototype;return e.handler=function(i){var a=VX[i.type];a&gr&&i.button===0&&(this.pressed=!0),a&Ya&&i.which!==1&&(a=Pt),this.pressed&&(a&Pt&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[i],changedPointers:[i],pointerType:Hm,srcEvent:i}))},r}(_o),KX=2500,J0=25;function eA(t){var r=t.changedPointers,e=r[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);var a=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(a,KX)}}function qX(t,r){t&gr?(this.primaryTouch=r.changedPointers[0].identifier,eA.call(this,r)):t&(Pt|Tr)&&eA.call(this,r)}function YX(t){for(var r=t.srcEvent.clientX,e=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],a=Math.abs(r-i.x),s=Math.abs(e-i.y);if(a<=J0&&s<=J0)return!0}return!1}var YC=function(){var t=function(r){rn(e,r);function e(i,a){var s;return s=r.call(this,i,a)||this,s.handler=function(o,l,u){var c=u.pointerType===Au,d=u.pointerType===Hm;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)qX.call(pc(pc(s)),l,u);else if(d&&YX.call(pc(pc(s)),u))return;s.callback(o,l,u)}},s.touch=new Um(s.manager,s.handler),s.mouse=new Gm(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var n=e.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(_o);return t}();function XX(t){var r,e=t.options.inputClass;return e?r=e:TX?r=qC:OX?r=Um:LC?r=YC:r=Gm,new r(t,NX)}function Cs(t,r,e){return Array.isArray(t)?(ei(t,e[r],e),!0):!1}var ed=1,Jr=2,to=4,Di=8,ti=Di,Vl=16,Pn=32,ZX=1;function QX(){return ZX++}function yc(t,r){var e=r.manager;return e?e.get(t):t}function tA(t){return t&Vl?"cancel":t&Di?"end":t&to?"move":t&Jr?"start":""}var ku=function(){function t(e){e===void 0&&(e={}),this.options=mn({enable:!0},e),this.id=QX(),this.manager=null,this.state=ed,this.simultaneous={},this.requireFail=[]}var r=t.prototype;return r.set=function(n){return Ma(this.options,n),this.manager&&this.manager.touchAction.update(),this},r.recognizeWith=function(n){if(Cs(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=yc(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},r.dropRecognizeWith=function(n){return Cs(n,"dropRecognizeWith",this)?this:(n=yc(n,this),delete this.simultaneous[n.id],this)},r.requireFailure=function(n){if(Cs(n,"requireFailure",this))return this;var i=this.requireFail;return n=yc(n,this),Fa(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},r.dropRequireFailure=function(n){if(Cs(n,"dropRequireFailure",this))return this;n=yc(n,this);var i=Fa(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},r.hasRequireFailures=function(){return this.requireFail.length>0},r.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},r.emit=function(n){var i=this,a=this.state;function s(o){i.manager.emit(o,n)}a<Di&&s(i.options.event+tA(a)),s(i.options.event),n.additionalEvent&&s(n.additionalEvent),a>=Di&&s(i.options.event+tA(a))},r.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Pn},r.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Pn|ed)))return!1;n++}return!0},r.recognize=function(n){var i=Ma({},n);if(!Gf(this.options.enable,[this,i])){this.reset(),this.state=Pn;return}this.state&(ti|Vl|Pn)&&(this.state=ed),this.state=this.process(i),this.state&(Jr|to|Di|Vl)&&this.tryEmit(i)},r.process=function(n){},r.getTouchAction=function(){},r.reset=function(){},t}(),Ng=function(t){rn(r,t);function r(n){var i;return n===void 0&&(n={}),i=t.call(this,mn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var e=r.prototype;return e.getTouchAction=function(){return[Fg]},e.process=function(i){var a=this,s=this.options,o=i.pointers.length===s.pointers,l=i.distance<s.threshold,u=i.deltaTime<s.time;if(this.reset(),i.eventType&gr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Pt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<s.interval:!0,d=!this.pCenter||Md(this.pCenter,i.center)<s.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%s.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=ti,a.tryEmit()},s.interval),Jr):ti}return Pn},e.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Pn},this.options.interval),Pn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===ti&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},r}(ku),ro=function(t){rn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,mn({pointers:1},n))||this}var e=r.prototype;return e.attrTest=function(i){var a=this.options.pointers;return a===0||i.pointers.length===a},e.process=function(i){var a=this.state,s=i.eventType,o=a&(Jr|to),l=this.attrTest(i);return o&&(s&Tr||!l)?a|Vl:o||l?s&Pt?a|Di:a&Jr?a|to:Jr:Pn},r}(ku);function XC(t){return t===eo?"down":t===Su?"up":t===wu?"left":t===_u?"right":""}var Km=function(t){rn(r,t);function r(n){var i;return n===void 0&&(n={}),i=t.call(this,mn({event:"pan",threshold:10,pointers:1,direction:jC},n))||this,i.pX=null,i.pY=null,i}var e=r.prototype;return e.getTouchAction=function(){var i=this.options.direction,a=[];return i&Fn&&a.push(zl),i&Sa&&a.push(jl),a},e.directionTest=function(i){var a=this.options,s=!0,o=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&a.direction||(a.direction&Fn?(l=u===0?xd:u<0?wu:_u,s=u!==this.pX,o=Math.abs(i.deltaX)):(l=c===0?xd:c<0?Su:eo,s=c!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(i){return ro.prototype.attrTest.call(this,i)&&(this.state&Jr||!(this.state&Jr)&&this.directionTest(i))},e.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var a=XC(i.direction);a&&(i.additionalEvent=this.options.event+a),t.prototype.emit.call(this,i)},r}(ro),ZC=function(t){rn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,mn({event:"swipe",threshold:10,velocity:.3,direction:Fn|Sa,pointers:1},n))||this}var e=r.prototype;return e.getTouchAction=function(){return Km.prototype.getTouchAction.call(this)},e.attrTest=function(i){var a=this.options.direction,s;return a&(Fn|Sa)?s=i.overallVelocity:a&Fn?s=i.overallVelocityX:a&Sa&&(s=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&a&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Da(s)>this.options.velocity&&i.eventType&Pt},e.emit=function(i){var a=XC(i.offsetDirection);a&&this.manager.emit(this.options.event+a,i),this.manager.emit(this.options.event,i)},r}(ro),QC=function(t){rn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,mn({event:"pinch",threshold:0,pointers:2},n))||this}var e=r.prototype;return e.getTouchAction=function(){return[_a]},e.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Jr)},e.emit=function(i){if(i.scale!==1){var a=i.scale<1?"in":"out";i.additionalEvent=this.options.event+a}t.prototype.emit.call(this,i)},r}(ro),JC=function(t){rn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,mn({event:"rotate",threshold:0,pointers:2},n))||this}var e=r.prototype;return e.getTouchAction=function(){return[_a]},e.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Jr)},r}(ro),eI=function(t){rn(r,t);function r(n){var i;return n===void 0&&(n={}),i=t.call(this,mn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var e=r.prototype;return e.getTouchAction=function(){return[NC]},e.process=function(i){var a=this,s=this.options,o=i.pointers.length===s.pointers,l=i.distance<s.threshold,u=i.deltaTime>s.time;if(this._input=i,!l||!o||i.eventType&(Pt|Tr)&&!u)this.reset();else if(i.eventType&gr)this.reset(),this._timer=setTimeout(function(){a.state=ti,a.tryEmit()},s.time);else if(i.eventType&Pt)return ti;return Pn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(i){this.state===ti&&(i&&i.eventType&Pt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=zm(),this.manager.emit(this.options.event,this._input)))},r}(ku),tI={domEvents:!1,touchAction:BC,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},rA=[[JC,{enable:!1}],[QC,{enable:!1},["rotate"]],[ZC,{direction:Fn}],[Km,{direction:Fn},["swipe"]],[Ng],[Ng,{event:"doubletap",taps:2},["tap"]],[eI]],JX=1,nA=2;function iA(t,r){var e=t.element;if(e.style){var n;ei(t.options.cssProps,function(i,a){n=Uf(e.style,a),r?(t.oldCssProps[n]=e.style[n],e.style[n]=i):e.style[n]=t.oldCssProps[n]||""}),r||(t.oldCssProps={})}}function eZ(t,r){var e=document.createEvent("Event");e.initEvent(t,!0,!0),e.gesture=r,r.target.dispatchEvent(e)}var aA=function(){function t(e,n){var i=this;this.options=Ma({},tI,n||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=XX(this),this.touchAction=new HC(this,this.options.touchAction),iA(this,!0),ei(this.options.recognizers,function(a){var s=i.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var r=t.prototype;return r.set=function(n){return Ma(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},r.stop=function(n){this.session.stopped=n?nA:JX},r.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var a,s=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ti)&&(i.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],i.stopped!==nA&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(n):a.reset(),!o&&a.state&(Jr|to|Di)&&(i.curRecognizer=a,o=a),l++}},r.get=function(n){if(n instanceof ku)return n;for(var i=this.recognizers,a=0;a<i.length;a++)if(i[a].options.event===n)return i[a];return null},r.add=function(n){if(Cs(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},r.remove=function(n){if(Cs(n,"remove",this))return this;var i=this.get(n);if(n){var a=this.recognizers,s=Fa(a,i);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},r.on=function(n,i){if(n===void 0||i===void 0)return this;var a=this.handlers;return ei(Hl(n),function(s){a[s]=a[s]||[],a[s].push(i)}),this},r.off=function(n,i){if(n===void 0)return this;var a=this.handlers;return ei(Hl(n),function(s){i?a[s]&&a[s].splice(Fa(a[s],i),1):delete a[s]}),this},r.emit=function(n,i){this.options.domEvents&&eZ(n,i);var a=this.handlers[n]&&this.handlers[n].slice();if(!(!a||!a.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](i),s++}},r.destroy=function(){this.element&&iA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),tZ={touchstart:gr,touchmove:Ya,touchend:Pt,touchcancel:Tr},rZ="touchstart",nZ="touchstart touchmove touchend touchcancel",iZ=function(t){rn(r,t);function r(){var n,i=r.prototype;return i.evTarget=rZ,i.evWin=nZ,n=t.apply(this,arguments)||this,n.started=!1,n}var e=r.prototype;return e.handler=function(i){var a=tZ[i.type];if(a===gr&&(this.started=!0),!!this.started){var s=aZ.call(this,i,a);a&(Pt|Tr)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:Au,srcEvent:i})}},r}(_o);function aZ(t,r){var e=Wl(t.touches),n=Wl(t.changedTouches);return r&(Pt|Tr)&&(e=Vm(e.concat(n),"identifier",!0)),[e,n]}function rI(t,r,e){var n="DEPRECATED METHOD: "+r+`
`+e+` AT 
`;return function(){var i=new Error("get-stack-trace"),a=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,n,a),t.apply(this,arguments)}}var nI=rI(function(t,r,e){for(var n=Object.keys(r),i=0;i<n.length;)(!e||e&&t[n[i]]===void 0)&&(t[n[i]]=r[n[i]]),i++;return t},"extend","Use `assign`."),sZ=rI(function(t,r){return nI(t,r,!0)},"merge","Use `assign`.");function oZ(t,r,e){var n=r.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,e&&Ma(i,e)}function sA(t,r){return function(){return t.apply(r,arguments)}}var lZ=function(){var t=function(e,n){return n===void 0&&(n={}),new aA(e,mn({recognizers:rA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=jC,t.DIRECTION_DOWN=eo,t.DIRECTION_LEFT=wu,t.DIRECTION_RIGHT=_u,t.DIRECTION_UP=Su,t.DIRECTION_HORIZONTAL=Fn,t.DIRECTION_VERTICAL=Sa,t.DIRECTION_NONE=xd,t.DIRECTION_DOWN=eo,t.INPUT_START=gr,t.INPUT_MOVE=Ya,t.INPUT_END=Pt,t.INPUT_CANCEL=Tr,t.STATE_POSSIBLE=ed,t.STATE_BEGAN=Jr,t.STATE_CHANGED=to,t.STATE_ENDED=Di,t.STATE_RECOGNIZED=ti,t.STATE_CANCELLED=Vl,t.STATE_FAILED=Pn,t.Manager=aA,t.Input=_o,t.TouchAction=HC,t.TouchInput=Um,t.MouseInput=Gm,t.PointerEventInput=qC,t.TouchMouseInput=YC,t.SingleTouchInput=iZ,t.Recognizer=ku,t.AttrRecognizer=ro,t.Tap=Ng,t.Pan=Km,t.Swipe=ZC,t.Pinch=QC,t.Rotate=JC,t.Press=eI,t.on=gl,t.off=yl,t.each=ei,t.merge=sZ,t.extend=nI,t.bindFn=sA,t.assign=Ma,t.inherit=oZ,t.bindFn=sA,t.prefixed=Uf,t.toArray=Wl,t.inArray=Fa,t.uniqueArray=Vm,t.splitStr=Hl,t.boolOrFn=Gf,t.hasParent=Wm,t.addEventListeners=gl,t.removeEventListeners=yl,t.defaults=Ma({},tI,{preset:rA}),t}(),uZ=lZ;function iI(t,r){var e=typeof Hf<"u"&&Nm(t)||t["@@iterator"];if(!e){if(Br(t)||(e=cZ(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function cZ(t,r){var e;if(t){if(typeof t=="string")return oA(t,r);var n=Vf(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Bm(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,r)}}function oA(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var aI=Hf("DELETE");function dZ(t){for(var r,e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return sI.apply(void 0,Wf(r=[{},t]).call(r,n))}function sI(){var t=Dd.apply(void 0,arguments);return lI(t),t}function Dd(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];if(r.length<2)return r[0];if(r.length>2){var n;return Dd.apply(void 0,Wf(n=[sI(r[0],r[1])]).call(n,_r(Vf(r).call(r,2))))}var i=r[0],a=r[1];if(i instanceof Date&&a instanceof Date)return i.setTime(a.getTime()),i;var s=iI(dq(a)),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;Object.prototype.propertyIsEnumerable.call(a,l)&&(a[l]===aI?delete i[l]:i[l]!==null&&a[l]!==null&&typeof i[l]=="object"&&typeof a[l]=="object"&&!Br(i[l])&&!Br(a[l])?i[l]=Dd(i[l],a[l]):i[l]=oI(a[l]))}}catch(u){s.e(u)}finally{s.f()}return i}function oI(t){return Br(t)?un(t).call(t,function(r){return oI(r)}):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Dd({},t):t}function lI(t){for(var r=0,e=jm(t);r<e.length;r++){var n=e[r];t[n]===aI?delete t[n]:typeof t[n]=="object"&&t[n]!==null&&lI(t[n])}}function fZ(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}var hZ=typeof window<"u"?window.Hammer||uZ:function(){return fZ()};function Xn(t){var r=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){r._dom.overlay.parentNode.removeChild(r._dom.overlay)});var n=hZ(this._dom.overlay);n.on("tap",iC(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){n.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ra(i).call(i,function(a){n.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){vZ(a.target,t)||r.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",r._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&r.deactivate()}}wX(Xn.prototype);Xn.current=null;Xn.prototype.destroy=function(){var t,r;this.deactivate();var e=iI(qq(t=EC(r=this._cleanupQueue).call(r,0)).call(t)),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;i()}}catch(a){e.e(a)}finally{e.f()}};Xn.prototype.activate=function(){Xn.current&&Xn.current.deactivate(),Xn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Xn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Xn.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function vZ(t,r){for(;t;){if(t===r)return!0;t=t.parentNode}return!1}var pZ=Tf,gZ=go,yZ=TypeError,uI=function(t){if(pZ(t))return t;throw new yZ(gZ(t)+" is not a constructor")},mZ=we,bZ=mr,Sv=fo,$Z=rC,lA=uI,AZ=zr,uA=tr,wZ=Ka,cI=Xe,qm=bZ("Reflect","construct"),_Z=Object.prototype,SZ=[].push,dI=cI(function(){function t(){}return!(qm(function(){},[],t)instanceof t)}),fI=!cI(function(){qm(function(){})}),cA=dI||fI;mZ({target:"Reflect",stat:!0,forced:cA,sham:cA},{construct:function(r,e){lA(r),AZ(e);var n=arguments.length<3?r:lA(arguments[2]);if(fI&&!dI)return qm(r,e,n);if(r===n){switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3])}var i=[null];return Sv(SZ,i,e),new(Sv($Z,r,i))}var a=n.prototype,s=wZ(uA(a)?a:_Z),o=Sv(r,s,e);return uA(o)?o:s}});var kZ=gt,EZ=kZ.Reflect.construct,TZ=EZ,OZ=TZ,CZ=OZ,td=Oe(CZ),IZ=gt,PZ=IZ.Object.getOwnPropertySymbols,xZ=PZ,RZ=xZ,MZ=RZ,dA=Oe(MZ),hI={exports:{}},DZ=we,FZ=Xe,BZ=jn,vI=Va.f,pI=Vt,NZ=!pI||FZ(function(){vI(1)});DZ({target:"Object",stat:!0,forced:NZ,sham:!pI},{getOwnPropertyDescriptor:function(r,e){return vI(BZ(r),e)}});var LZ=gt,gI=LZ.Object,jZ=hI.exports=function(r,e){return gI.getOwnPropertyDescriptor(r,e)};gI.getOwnPropertyDescriptor.sham&&(jZ.sham=!0);var zZ=hI.exports,HZ=zZ,WZ=HZ,VZ=WZ,yI=Oe(VZ),UZ=we,GZ=Vt,KZ=Lm,qZ=jn,YZ=Va,XZ=mo;UZ({target:"Object",stat:!0,sham:!GZ},{getOwnPropertyDescriptors:function(r){for(var e=qZ(r),n=YZ.f,i=KZ(e),a={},s=0,o,l;i.length>s;)l=n(e,o=i[s++]),l!==void 0&&XZ(a,o,l);return a}});var ZZ=gt,QZ=ZZ.Object.getOwnPropertyDescriptors,JZ=QZ,eQ=JZ,tQ=eQ,fA=Oe(tQ),mI={exports:{}},rQ=we,nQ=Vt,hA=Cf.f;rQ({target:"Object",stat:!0,forced:Object.defineProperties!==hA,sham:!nQ},{defineProperties:hA});var iQ=gt,bI=iQ.Object,aQ=mI.exports=function(r,e){return bI.defineProperties(r,e)};bI.defineProperties.sham&&(aQ.sham=!0);var sQ=mI.exports,oQ=sQ,lQ=oQ,uQ=lQ,cQ=Oe(uQ),dQ=ZT,fQ=Oe(dQ);function $I(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hQ=OC,vQ=hQ,pQ=vQ,gQ=pQ,AI=gQ,yQ=Oe(AI),mQ=we,bQ=zO;mQ({target:"Object",stat:!0},{setPrototypeOf:bQ});var $Q=gt,AQ=$Q.Object.setPrototypeOf,wQ=AQ,_Q=wQ,SQ=_Q,kQ=SQ,EQ=kQ,TQ=EQ,wI=TQ,Lg=Oe(wI),OQ=nC,CQ=OQ,IQ=CQ,PQ=IQ,xQ=PQ,_I=Oe(xQ);function jg(t,r){var e;return jg=Lg?_I(e=Lg).call(e):function(i,a){return i.__proto__=a,i},jg(t,r)}function RQ(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=yQ(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Sf(t,"prototype",{writable:!1}),r&&jg(t,r)}function MQ(t,r){if(r&&(Js(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $I(t)}var DQ=zY,FQ=DQ,BQ=FQ,NQ=BQ,SI=NQ,vA=Oe(SI);function Fd(t){var r;return Fd=Lg?_I(r=vA).call(r):function(n){return n.__proto__||vA(n)},Fd(t)}var kI={exports:{}},EI={exports:{}};(function(t){var r=Mm,e=QO;function n(i){"@babel/helpers - typeof";return t.exports=n=typeof r=="function"&&typeof e=="symbol"?function(a){return typeof a}:function(a){return a&&typeof r=="function"&&a.constructor===r&&a!==r.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,n(i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(EI);var LQ=EI.exports,jQ=_C,zQ=jQ,HQ=zQ,WQ=HQ,VQ=WQ,pA=Ft,UQ=Lm,GQ=Va,KQ=Pr,qQ=function(t,r,e){for(var n=UQ(r),i=KQ.f,a=GQ.f,s=0;s<n.length;s++){var o=n[s];!pA(t,o)&&!(e&&pA(e,o))&&i(t,o,a(r,o))}},YQ=tr,XQ=hi,ZQ=function(t,r){YQ(r)&&"cause"in r&&XQ(t,"cause",r.cause)},QQ=vt,TI=Error,JQ=QQ("".replace),eJ=function(t){return String(new TI(t).stack)}("zxcasd"),OI=/\n\s*at [^:]*:[^\n]*/,tJ=OI.test(eJ),rJ=function(t,r){if(tJ&&typeof t=="string"&&!TI.prepareStackTrace)for(;r--;)t=JQ(t,OI,"");return t},nJ=Xe,iJ=Ua,aJ=!nJ(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",iJ(1,7)),t.stack!==7):!0}),sJ=hi,oJ=rJ,lJ=aJ,gA=Error.captureStackTrace,uJ=function(t,r,e,n){lJ&&(gA?gA(t,r):sJ(t,"stack",oJ(e,n)))},cJ=Xi,dJ=Ut,fJ=zr,hJ=go,vJ=oC,pJ=Hr,yA=Dt,gJ=Fm,yJ=zf,mA=sC,mJ=TypeError,rd=function(t,r){this.stopped=t,this.result=r},bA=rd.prototype,Xa=function(t,r,e){var n=e&&e.that,i=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=cJ(r,n),u,c,d,f,h,v,p,m=function(b){return u&&mA(u,"normal",b),new rd(!0,b)},y=function(b){return i?(fJ(b),o?l(b[0],b[1],m):l(b[0],b[1])):o?l(b,m):l(b)};if(a)u=t.iterator;else if(s)u=t;else{if(c=yJ(t),!c)throw new mJ(hJ(t)+" is not iterable");if(vJ(c)){for(d=0,f=pJ(t);f>d;d++)if(h=y(t[d]),h&&yA(bA,h))return h;return new rd(!1)}u=gJ(t,c)}for(v=a?t.next:u.next;!(p=dJ(v,u)).done;){try{h=y(p.value)}catch(b){mA(u,"throw",b)}if(typeof h=="object"&&h&&yA(bA,h))return h}return new rd(!1)},bJ=Ga,$J=function(t,r){return t===void 0?arguments.length<2?"":r:bJ(t)},AJ=we,wJ=Dt,_J=Nf,Bd=zO,SJ=qQ,CI=Ka,kv=hi,Ev=Ua,kJ=ZQ,EJ=uJ,TJ=Xa,OJ=$J,CJ=mt,IJ=CJ("toStringTag"),Nd=Error,PJ=[].push,no=function(r,e){var n=wJ(Tv,this),i;Bd?i=Bd(new Nd,n?_J(this):Tv):(i=n?this:CI(Tv),kv(i,IJ,"Error")),e!==void 0&&kv(i,"message",OJ(e)),EJ(i,no,i.stack,1),arguments.length>2&&kJ(i,arguments[2]);var a=[];return TJ(r,PJ,{that:a}),kv(i,"errors",a),i};Bd?Bd(no,Nd):SJ(no,Nd,{name:!0});var Tv=no.prototype=CI(Nd.prototype,{constructor:Ev(1,no),message:Ev(1,""),name:Ev(1,"AggregateError")});AJ({global:!0,constructor:!0,arity:2},{AggregateError:no});var xJ=mr,RJ=km,MJ=mt,DJ=Vt,$A=MJ("species"),II=function(t){var r=xJ(t);DJ&&r&&!r[$A]&&RJ(r,$A,{configurable:!0,get:function(){return this}})},FJ=Dt,BJ=TypeError,Ym=function(t,r){if(FJ(r,t))return t;throw new BJ("Incorrect invocation")},AA=zr,NJ=uI,LJ=ho,jJ=mt,zJ=jJ("species"),PI=function(t,r){var e=AA(t).constructor,n;return e===void 0||LJ(n=AA(e)[zJ])?r:NJ(n)},HJ=Yi,xI=/(?:ipad|iphone|ipod).*applewebkit/i.test(HJ),Lr=pt,WJ=fo,VJ=Xi,wA=_t,UJ=Ft,RI=Xe,_A=oO,GJ=mu,SA=$m,KJ=CC,qJ=xI,YJ=$u,zg=Lr.setImmediate,Hg=Lr.clearImmediate,XJ=Lr.process,Ov=Lr.Dispatch,ZJ=Lr.Function,kA=Lr.MessageChannel,QJ=Lr.String,Cv=0,ml={},EA="onreadystatechange",Ul,sa,Iv,Pv;RI(function(){Ul=Lr.location});var Xm=function(t){if(UJ(ml,t)){var r=ml[t];delete ml[t],r()}},xv=function(t){return function(){Xm(t)}},TA=function(t){Xm(t.data)},OA=function(t){Lr.postMessage(QJ(t),Ul.protocol+"//"+Ul.host)};(!zg||!Hg)&&(zg=function(r){KJ(arguments.length,1);var e=wA(r)?r:ZJ(r),n=GJ(arguments,1);return ml[++Cv]=function(){WJ(e,void 0,n)},sa(Cv),Cv},Hg=function(r){delete ml[r]},YJ?sa=function(t){XJ.nextTick(xv(t))}:Ov&&Ov.now?sa=function(t){Ov.now(xv(t))}:kA&&!qJ?(Iv=new kA,Pv=Iv.port2,Iv.port1.onmessage=TA,sa=VJ(Pv.postMessage,Pv)):Lr.addEventListener&&wA(Lr.postMessage)&&!Lr.importScripts&&Ul&&Ul.protocol!=="file:"&&!RI(OA)?(sa=OA,Lr.addEventListener("message",TA,!1)):EA in SA("script")?sa=function(t){_A.appendChild(SA("script"))[EA]=function(){_A.removeChild(this),Xm(t)}}:sa=function(t){setTimeout(xv(t),0)});var MI={set:zg,clear:Hg},DI=function(){this.head=null,this.tail=null};DI.prototype={add:function(t){var r={item:t,next:null},e=this.tail;e?e.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t){var r=this.head=t.next;return r===null&&(this.tail=null),t.item}}};var FI=DI,JJ=Yi,eee=/ipad|iphone|ipod/i.test(JJ)&&typeof Pebble<"u",tee=Yi,ree=/web0s(?!.*chrome)/i.test(tee),Ba=pt,CA=Xi,nee=Va.f,Rv=MI.set,iee=FI,aee=xI,see=eee,oee=ree,Mv=$u,IA=Ba.MutationObserver||Ba.WebKitMutationObserver,PA=Ba.document,xA=Ba.process,mc=Ba.Promise,RA=nee(Ba,"queueMicrotask"),Wg=RA&&RA.value,fs,Dv,Fv,bc,MA;if(!Wg){var $c=new iee,Ac=function(){var t,r;for(Mv&&(t=xA.domain)&&t.exit();r=$c.get();)try{r()}catch(e){throw $c.head&&fs(),e}t&&t.enter()};!aee&&!Mv&&!oee&&IA&&PA?(Dv=!0,Fv=PA.createTextNode(""),new IA(Ac).observe(Fv,{characterData:!0}),fs=function(){Fv.data=Dv=!Dv}):!see&&mc&&mc.resolve?(bc=mc.resolve(void 0),bc.constructor=mc,MA=CA(bc.then,bc),fs=function(){MA(Ac)}):Mv?fs=function(){xA.nextTick(Ac)}:(Rv=CA(Rv,Ba),fs=function(){Rv(Ac)}),Wg=function(t){$c.head||fs(),$c.add(t)}}var lee=Wg,uee=function(t,r){try{arguments.length===1?console.error(t):console.error(t,r)}catch{}},So=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}},cee=pt,ko=cee.Promise,BI=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",dee=BI,fee=$u,hee=!dee&&!fee&&typeof window=="object"&&typeof document=="object",vee=pt,bl=ko,pee=_t,gee=qT,yee=eO,mee=mt,bee=hee,$ee=BI,Bv=vo,DA=bl&&bl.prototype,Aee=mee("species"),Vg=!1,NI=pee(vee.PromiseRejectionEvent),wee=gee("Promise",function(){var t=yee(bl),r=t!==String(bl);if(!r&&Bv===66||!(DA.catch&&DA.finally))return!0;if(!Bv||Bv<51||!/native code/.test(t)){var e=new bl(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=e.constructor={};if(i[Aee]=n,Vg=e.then(function(){})instanceof n,!Vg)return!0}return!r&&(bee||$ee)&&!NI}),Eu={CONSTRUCTOR:wee,REJECTION_EVENT:NI,SUBCLASSING:Vg},zn={},FA=Cr,_ee=TypeError,See=function(t){var r,e;this.promise=new t(function(n,i){if(r!==void 0||e!==void 0)throw new _ee("Bad Promise constructor");r=n,e=i}),this.resolve=FA(r),this.reject=FA(e)};zn.f=function(t){return new See(t)};var kee=we,Ld=$u,zi=pt,Tu=Ut,Eee=bo,Tee=qa,Oee=II,Cee=Cr,Ug=_t,Iee=tr,Pee=Ym,xee=PI,LI=MI.set,Zm=lee,Ree=uee,Mee=So,Dee=FI,jI=$o,Gg=ko,zI=Eu,HI=zn,Kf="Promise",WI=zI.CONSTRUCTOR,Fee=zI.REJECTION_EVENT,Nv=jI.getterFor(Kf),Bee=jI.set,Nee=Gg&&Gg.prototype,Is=Gg,Lv=Nee,VI=zi.TypeError,Kg=zi.document,Qm=zi.process,qg=HI.f,Lee=qg,jee=!!(Kg&&Kg.createEvent&&zi.dispatchEvent),UI="unhandledrejection",zee="rejectionhandled",BA=0,GI=1,Hee=2,Jm=1,KI=2,wc,NA,Wee,qI=function(t){var r;return Iee(t)&&Ug(r=t.then)?r:!1},YI=function(t,r){var e=r.value,n=r.state===GI,i=n?t.ok:t.fail,a=t.resolve,s=t.reject,o=t.domain,l,u,c;try{i?(n||(r.rejection===KI&&Uee(r),r.rejection=Jm),i===!0?l=e:(o&&o.enter(),l=i(e),o&&(o.exit(),c=!0)),l===t.promise?s(new VI("Promise-chain cycle")):(u=qI(l))?Tu(u,l,a,s):a(l)):s(e)}catch(d){o&&!c&&o.exit(),s(d)}},XI=function(t,r){t.notified||(t.notified=!0,Zm(function(){for(var e=t.reactions,n;n=e.get();)YI(n,t);t.notified=!1,r&&!t.rejection&&Vee(t)}))},ZI=function(t,r,e){var n,i;jee?(n=Kg.createEvent("Event"),n.promise=r,n.reason=e,n.initEvent(t,!1,!0),zi.dispatchEvent(n)):n={promise:r,reason:e},!Fee&&(i=zi["on"+t])?i(n):t===UI&&Ree("Unhandled promise rejection",e)},Vee=function(t){Tu(LI,zi,function(){var r=t.facade,e=t.value,n=LA(t),i;if(n&&(i=Mee(function(){Ld?Qm.emit("unhandledRejection",e,r):ZI(UI,r,e)}),t.rejection=Ld||LA(t)?KI:Jm,i.error))throw i.value})},LA=function(t){return t.rejection!==Jm&&!t.parent},Uee=function(t){Tu(LI,zi,function(){var r=t.facade;Ld?Qm.emit("rejectionHandled",r):ZI(zee,r,t.value)})},Ps=function(t,r,e){return function(n){t(r,n,e)}},Vs=function(t,r,e){t.done||(t.done=!0,e&&(t=e),t.value=r,t.state=Hee,XI(t,!0))},Yg=function(t,r,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===r)throw new VI("Promise can't be resolved itself");var n=qI(r);n?Zm(function(){var i={done:!1};try{Tu(n,r,Ps(Yg,i,t),Ps(Vs,i,t))}catch(a){Vs(i,a,t)}}):(t.value=r,t.state=GI,XI(t,!1))}catch(i){Vs({done:!1},i,t)}}};WI&&(Is=function(r){Pee(this,Lv),Cee(r),Tu(wc,this);var e=Nv(this);try{r(Ps(Yg,e),Ps(Vs,e))}catch(n){Vs(e,n)}},Lv=Is.prototype,wc=function(r){Bee(this,{type:Kf,done:!1,notified:!1,parent:!1,reactions:new Dee,rejection:!1,state:BA,value:void 0})},wc.prototype=Eee(Lv,"then",function(r,e){var n=Nv(this),i=qg(xee(this,Is));return n.parent=!0,i.ok=Ug(r)?r:!0,i.fail=Ug(e)&&e,i.domain=Ld?Qm.domain:void 0,n.state===BA?n.reactions.add(i):Zm(function(){YI(i,n)}),i.promise}),NA=function(){var t=new wc,r=Nv(t);this.promise=t,this.resolve=Ps(Yg,r),this.reject=Ps(Vs,r)},HI.f=qg=function(t){return t===Is||t===Wee?new NA(t):Lee(t)});kee({global:!0,constructor:!0,wrap:!0,forced:WI},{Promise:Is});Tee(Is,Kf,!1,!0);Oee(Kf);var Gee=ko,Kee=cC,qee=Eu.CONSTRUCTOR,qf=qee||!Kee(function(t){Gee.all(t).then(void 0,function(){})}),Yee=we,Xee=Ut,Zee=Cr,Qee=zn,Jee=So,ete=Xa,tte=qf;Yee({target:"Promise",stat:!0,forced:tte},{all:function(r){var e=this,n=Qee.f(e),i=n.resolve,a=n.reject,s=Jee(function(){var o=Zee(e.resolve),l=[],u=0,c=1;ete(r,function(d){var f=u++,h=!1;c++,Xee(o,e,d).then(function(v){h||(h=!0,l[f]=v,--c||i(l))},a)}),--c||i(l)});return s.error&&a(s.value),n.promise}});var rte=we,nte=Eu.CONSTRUCTOR,jA=ko;jA&&jA.prototype;rte({target:"Promise",proto:!0,forced:nte,real:!0},{catch:function(t){return this.then(void 0,t)}});var ite=we,ate=Ut,ste=Cr,ote=zn,lte=So,ute=Xa,cte=qf;ite({target:"Promise",stat:!0,forced:cte},{race:function(r){var e=this,n=ote.f(e),i=n.reject,a=lte(function(){var s=ste(e.resolve);ute(r,function(o){ate(s,e,o).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var dte=we,fte=Ut,hte=zn,vte=Eu.CONSTRUCTOR;dte({target:"Promise",stat:!0,forced:vte},{reject:function(r){var e=hte.f(this);return fte(e.reject,void 0,r),e.promise}});var pte=zr,gte=tr,yte=zn,QI=function(t,r){if(pte(t),gte(r)&&r.constructor===t)return r;var e=yte.f(t),n=e.resolve;return n(r),e.promise},mte=we,bte=mr,$te=Cj,Ate=ko,wte=Eu.CONSTRUCTOR,_te=QI,Ste=bte("Promise"),kte=!wte;mte({target:"Promise",stat:!0,forced:$te},{resolve:function(r){return _te(kte&&this===Ste?Ate:this,r)}});var Ete=we,Tte=Ut,Ote=Cr,Cte=zn,Ite=So,Pte=Xa,xte=qf;Ete({target:"Promise",stat:!0,forced:xte},{allSettled:function(r){var e=this,n=Cte.f(e),i=n.resolve,a=n.reject,s=Ite(function(){var o=Ote(e.resolve),l=[],u=0,c=1;Pte(r,function(d){var f=u++,h=!1;c++,Tte(o,e,d).then(function(v){h||(h=!0,l[f]={status:"fulfilled",value:v},--c||i(l))},function(v){h||(h=!0,l[f]={status:"rejected",reason:v},--c||i(l))})}),--c||i(l)});return s.error&&a(s.value),n.promise}});var Rte=we,Mte=Ut,Dte=Cr,Fte=mr,Bte=zn,Nte=So,Lte=Xa,jte=qf,zA="No one promise resolved";Rte({target:"Promise",stat:!0,forced:jte},{any:function(r){var e=this,n=Fte("AggregateError"),i=Bte.f(e),a=i.resolve,s=i.reject,o=Nte(function(){var l=Dte(e.resolve),u=[],c=0,d=1,f=!1;Lte(r,function(h){var v=c++,p=!1;d++,Mte(l,e,h).then(function(m){p||f||(f=!0,a(m))},function(m){p||f||(p=!0,u[v]=m,--d||s(new n(u,zA)))})}),--d||s(new n(u,zA))});return o.error&&s(o.value),i.promise}});var zte=we,Xg=ko,Hte=Xe,Wte=mr,Vte=_t,Ute=PI,HA=QI,Gte=Xg&&Xg.prototype,Kte=!!Xg&&Hte(function(){Gte.finally.call({then:function(){}},function(){})});zte({target:"Promise",proto:!0,real:!0,forced:Kte},{finally:function(t){var r=Ute(this,Wte("Promise")),e=Vte(t);return this.then(e?function(n){return HA(r,t()).then(function(){return n})}:t,e?function(n){return HA(r,t()).then(function(){throw n})}:t)}});var qte=gt,Yte=qte.Promise,Xte=Yte,Zte=Xte,Qte=we,Jte=zn;Qte({target:"Promise",stat:!0},{withResolvers:function(){var r=Jte.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}});var ere=Zte,tre=ere,rre=we,nre=zn,ire=So;rre({target:"Promise",stat:!0,forced:!0},{try:function(t){var r=nre.f(this),e=ire(t);return(e.error?r.reject:r.resolve)(e.value),r.promise}});var are=tre,sre=are,ore=sre,lre=SC,ure=lre,cre=ure,dre=cre,fre=dre;(function(t){var r=LQ.default,e=QT,n=Mm,i=AI,a=SI,s=VQ,o=yC,l=wI,u=ore,c=fre,d=bC;function f(){t.exports=f=function(){return v},t.exports.__esModule=!0,t.exports.default=t.exports;var h,v={},p=Object.prototype,m=p.hasOwnProperty,y=e||function(D,M,W){D[M]=W.value},b=typeof n=="function"?n:{},A=b.iterator||"@@iterator",$=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag";function C(D,M,W){return e(D,M,{value:W,enumerable:!0,configurable:!0,writable:!0}),D[M]}try{C({},"")}catch{C=function(W,ae,w){return W[ae]=w}}function T(D,M,W,ae){var w=M&&M.prototype instanceof me?M:me,_=i(w.prototype),x=new N(ae||[]);return y(_,"_invoke",{value:Ie(D,W,x)}),_}function E(D,M,W){try{return{type:"normal",arg:D.call(M,W)}}catch(ae){return{type:"throw",arg:ae}}}v.wrap=T;var S="suspendedStart",O="suspendedYield",P="executing",j="completed",K={};function me(){}function Ee(){}function z(){}var B={};C(B,A,function(){return this});var oe=a,de=oe&&oe(oe(J([])));de&&de!==p&&m.call(de,A)&&(B=de);var Ae=z.prototype=me.prototype=i(B);function _e(D){var M;s(M=["next","throw","return"]).call(M,function(W){C(D,W,function(ae){return this._invoke(W,ae)})})}function te(D,M){function W(w,_,x,V){var L=E(D[w],D,_);if(L.type!=="throw"){var U=L.arg,ie=U.value;return ie&&r(ie)=="object"&&m.call(ie,"__await")?M.resolve(ie.__await).then(function(Q){W("next",Q,x,V)},function(Q){W("throw",Q,x,V)}):M.resolve(ie).then(function(Q){U.value=Q,x(U)},function(Q){return W("throw",Q,x,V)})}V(L.arg)}var ae;y(this,"_invoke",{value:function(_,x){function V(){return new M(function(L,U){W(_,x,L,U)})}return ae=ae?ae.then(V,V):V()}})}function Ie(D,M,W){var ae=S;return function(w,_){if(ae===P)throw new Error("Generator is already running");if(ae===j){if(w==="throw")throw _;return{value:h,done:!0}}for(W.method=w,W.arg=_;;){var x=W.delegate;if(x){var V=Ne(x,W);if(V){if(V===K)continue;return V}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ae===S)throw ae=j,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ae=P;var L=E(D,M,W);if(L.type==="normal"){if(ae=W.done?j:O,L.arg===K)continue;return{value:L.arg,done:W.done}}L.type==="throw"&&(ae=j,W.method="throw",W.arg=L.arg)}}}function Ne(D,M){var W=M.method,ae=D.iterator[W];if(ae===h)return M.delegate=null,W==="throw"&&D.iterator.return&&(M.method="return",M.arg=h,Ne(D,M),M.method==="throw")||W!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+W+"' method")),K;var w=E(ae,D.iterator,M.arg);if(w.type==="throw")return M.method="throw",M.arg=w.arg,M.delegate=null,K;var _=w.arg;return _?_.done?(M[D.resultName]=_.value,M.next=D.nextLoc,M.method!=="return"&&(M.method="next",M.arg=h),M.delegate=null,K):_:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,K)}function Ze(D){var M,W={tryLoc:D[0]};1 in D&&(W.catchLoc=D[1]),2 in D&&(W.finallyLoc=D[2],W.afterLoc=D[3]),o(M=this.tryEntries).call(M,W)}function it(D){var M=D.completion||{};M.type="normal",delete M.arg,D.completion=M}function N(D){this.tryEntries=[{tryLoc:"root"}],s(D).call(D,Ze,this),this.reset(!0)}function J(D){if(D||D===""){var M=D[A];if(M)return M.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var W=-1,ae=function w(){for(;++W<D.length;)if(m.call(D,W))return w.value=D[W],w.done=!1,w;return w.value=h,w.done=!0,w};return ae.next=ae}}throw new TypeError(r(D)+" is not iterable")}return Ee.prototype=z,y(Ae,"constructor",{value:z,configurable:!0}),y(z,"constructor",{value:Ee,configurable:!0}),Ee.displayName=C(z,k,"GeneratorFunction"),v.isGeneratorFunction=function(D){var M=typeof D=="function"&&D.constructor;return!!M&&(M===Ee||(M.displayName||M.name)==="GeneratorFunction")},v.mark=function(D){return l?l(D,z):(D.__proto__=z,C(D,k,"GeneratorFunction")),D.prototype=i(Ae),D},v.awrap=function(D){return{__await:D}},_e(te.prototype),C(te.prototype,$,function(){return this}),v.AsyncIterator=te,v.async=function(D,M,W,ae,w){w===void 0&&(w=u);var _=new te(T(D,M,W,ae),w);return v.isGeneratorFunction(M)?_:_.next().then(function(x){return x.done?x.value:_.next()})},_e(Ae),C(Ae,k,"Generator"),C(Ae,A,function(){return this}),C(Ae,"toString",function(){return"[object Generator]"}),v.keys=function(D){var M=Object(D),W=[];for(var ae in M)o(W).call(W,ae);return c(W).call(W),function w(){for(;W.length;){var _=W.pop();if(_ in M)return w.value=_,w.done=!1,w}return w.done=!0,w}},v.values=J,N.prototype={constructor:N,reset:function(M){var W;if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,s(W=this.tryEntries).call(W,it),!M)for(var ae in this)ae.charAt(0)==="t"&&m.call(this,ae)&&!isNaN(+d(ae).call(ae,1))&&(this[ae]=h)},stop:function(){this.done=!0;var M=this.tryEntries[0].completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(M){if(this.done)throw M;var W=this;function ae(U,ie){return x.type="throw",x.arg=M,W.next=U,ie&&(W.method="next",W.arg=h),!!ie}for(var w=this.tryEntries.length-1;w>=0;--w){var _=this.tryEntries[w],x=_.completion;if(_.tryLoc==="root")return ae("end");if(_.tryLoc<=this.prev){var V=m.call(_,"catchLoc"),L=m.call(_,"finallyLoc");if(V&&L){if(this.prev<_.catchLoc)return ae(_.catchLoc,!0);if(this.prev<_.finallyLoc)return ae(_.finallyLoc)}else if(V){if(this.prev<_.catchLoc)return ae(_.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<_.finallyLoc)return ae(_.finallyLoc)}}}},abrupt:function(M,W){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var w=this.tryEntries[ae];if(w.tryLoc<=this.prev&&m.call(w,"finallyLoc")&&this.prev<w.finallyLoc){var _=w;break}}_&&(M==="break"||M==="continue")&&_.tryLoc<=W&&W<=_.finallyLoc&&(_=null);var x=_?_.completion:{};return x.type=M,x.arg=W,_?(this.method="next",this.next=_.finallyLoc,K):this.complete(x)},complete:function(M,W){if(M.type==="throw")throw M.arg;return M.type==="break"||M.type==="continue"?this.next=M.arg:M.type==="return"?(this.rval=this.arg=M.arg,this.method="return",this.next="end"):M.type==="normal"&&W&&(this.next=W),K},finish:function(M){for(var W=this.tryEntries.length-1;W>=0;--W){var ae=this.tryEntries[W];if(ae.finallyLoc===M)return this.complete(ae.completion,ae.afterLoc),it(ae),K}},catch:function(M){for(var W=this.tryEntries.length-1;W>=0;--W){var ae=this.tryEntries[W];if(ae.tryLoc===M){var w=ae.completion;if(w.type==="throw"){var _=w.arg;it(ae)}return _}}throw new Error("illegal catch attempt")},delegateYield:function(M,W,ae){return this.delegate={iterator:J(M),resultName:W,nextLoc:ae},this.method==="next"&&(this.arg=h),K}},v}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports})(kI);var hre=kI.exports,nd=hre(),vre=nd;try{regeneratorRuntime=nd}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=nd:Function("r","regeneratorRuntime = r")(nd)}var $r=Oe(vre),JI={exports:{}},pre=Xe,gre=pre(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),yre=Xe,mre=tr,bre=qi,WA=gre,id=Object.isExtensible,$re=yre(function(){id(1)}),Are=$re||WA?function(r){return!mre(r)||WA&&bre(r)==="ArrayBuffer"?!1:id?id(r):!0}:id,wre=Xe,_re=!wre(function(){return Object.isExtensible(Object.preventExtensions({}))}),Sre=we,kre=vt,Ere=fu,Tre=tr,eb=Ft,Ore=Pr.f,VA=hu,Cre=Sm,tb=Are,Ire=wf,Pre=_re,eP=!1,ui=Ire("meta"),xre=0,rb=function(t){Ore(t,ui,{value:{objectID:"O"+xre++,weakData:{}}})},Rre=function(t,r){if(!Tre(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!eb(t,ui)){if(!tb(t))return"F";if(!r)return"E";rb(t)}return t[ui].objectID},Mre=function(t,r){if(!eb(t,ui)){if(!tb(t))return!0;if(!r)return!1;rb(t)}return t[ui].weakData},Dre=function(t){return Pre&&eP&&tb(t)&&!eb(t,ui)&&rb(t),t},Fre=function(){Bre.enable=function(){},eP=!0;var t=VA.f,r=kre([].splice),e={};e[ui]=1,t(e).length&&(VA.f=function(n){for(var i=t(n),a=0,s=i.length;a<s;a++)if(i[a]===ui){r(i,a,1);break}return i},Sre({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Cre.f}))},Bre=JI.exports={enable:Fre,fastKey:Rre,getWeakData:Mre,onFreeze:Dre};Ere[ui]=!0;var tP=JI.exports,Nre=we,Lre=pt,jre=tP,zre=Xe,Hre=hi,Wre=Xa,Vre=Ym,Ure=_t,Gre=tr,Kre=ho,qre=qa,Yre=Pr.f,Xre=Ao.forEach,Zre=Vt,rP=$o,Qre=rP.set,Jre=rP.getterFor,nP=function(t,r,e){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",s=Lre[t],o=s&&s.prototype,l={},u;if(!Zre||!Ure(s)||!(i||o.forEach&&!zre(function(){new s().entries().next()})))u=e.getConstructor(r,t,n,a),jre.enable();else{u=r(function(f,h){Qre(Vre(f,c),{type:t,collection:new s}),Kre(h)||Wre(h,f[a],{that:f,AS_ENTRIES:n})});var c=u.prototype,d=Jre(t);Xre(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(f){var h=f==="add"||f==="set";f in o&&!(i&&f==="clear")&&Hre(c,f,function(v,p){var m=d(this).collection;if(!h&&i&&!Gre(v))return f==="get"?void 0:!1;var y=m[f](v===0?0:v,p);return h?this:y})}),i||Yre(c,"size",{configurable:!0,get:function(){return d(this).collection.size}})}return qre(u,t,!1,!0),l[t]=u,Nre({global:!0,forced:!0},l),i||e.setStrong(u,t,n),u},ene=bo,tne=function(t,r,e){for(var n in r)e&&e.unsafe&&t[n]?t[n]=r[n]:ene(t,n,r[n],e);return t},rne=Ka,nne=km,UA=tne,ine=Xi,ane=Ym,sne=ho,one=Xa,lne=Pm,_c=xm,une=II,Ko=Vt,GA=tP.fastKey,iP=$o,KA=iP.set,jv=iP.getterFor,aP={getConstructor:function(t,r,e,n){var i=t(function(u,c){ane(u,a),KA(u,{type:r,index:rne(null),first:void 0,last:void 0,size:0}),Ko||(u.size=0),sne(c)||one(c,u[n],{that:u,AS_ENTRIES:e})}),a=i.prototype,s=jv(r),o=function(u,c,d){var f=s(u),h=l(u,c),v,p;return h?h.value=d:(f.last=h={index:p=GA(c,!0),key:c,value:d,previous:v=f.last,next:void 0,removed:!1},f.first||(f.first=h),v&&(v.next=h),Ko?f.size++:u.size++,p!=="F"&&(f.index[p]=h)),u},l=function(u,c){var d=s(u),f=GA(c),h;if(f!=="F")return d.index[f];for(h=d.first;h;h=h.next)if(h.key===c)return h};return UA(a,{clear:function(){for(var c=this,d=s(c),f=d.index,h=d.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete f[h.index],h=h.next;d.first=d.last=void 0,Ko?d.size=0:c.size=0},delete:function(u){var c=this,d=s(c),f=l(c,u);if(f){var h=f.next,v=f.previous;delete d.index[f.index],f.removed=!0,v&&(v.next=h),h&&(h.previous=v),d.first===f&&(d.first=h),d.last===f&&(d.last=v),Ko?d.size--:c.size--}return!!f},forEach:function(c){for(var d=s(this),f=ine(c,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:d.first;)for(f(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(c){return!!l(this,c)}}),UA(a,e?{get:function(c){var d=l(this,c);return d&&d.value},set:function(c,d){return o(this,c===0?0:c,d)}}:{add:function(c){return o(this,c=c===0?0:c,c)}}),Ko&&nne(a,"size",{configurable:!0,get:function(){return s(this).size}}),i},setStrong:function(t,r,e){var n=r+" Iterator",i=jv(r),a=jv(n);lne(t,r,function(s,o){KA(this,{type:n,target:s,state:i(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,_c(void 0,!0)):_c(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),une(r)}},cne=nP,dne=aP;cne("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},dne);var fne=gt,hne=fne.Map,vne=hne,pne=vne,gne=pne,sP=Oe(gne),yne=we,mne=Ao.some,bne=jf,$ne=bne("some");yne({target:"Array",proto:!0,forced:!$ne},{some:function(r){return mne(this,r,arguments.length>1?arguments[1]:void 0)}});var Ane=ar,wne=Ane("Array","some"),_ne=Dt,Sne=wne,zv=Array.prototype,kne=function(t){var r=t.some;return t===zv||_ne(zv,t)&&r===zv.some?Sne:r},Ene=kne,Tne=Ene,One=Tne,Cne=Oe(One),Ine=ar,Pne=Ine("Array","keys"),xne=Pne,Rne=xne,Mne=vi,Dne=Ft,Fne=Dt,Bne=Rne,Hv=Array.prototype,Nne={DOMTokenList:!0,NodeList:!0},Lne=function(t){var r=t.keys;return t===Hv||Fne(Hv,t)&&r===Hv.keys||Dne(Nne,Mne(t))?Bne:r},jne=Lne,hs=Oe(jne),qA=cO,zne=Math.floor,Zg=function(t,r){var e=t.length,n=zne(e/2);return e<8?Hne(t,r):Wne(t,Zg(qA(t,0,n),r),Zg(qA(t,n),r),r)},Hne=function(t,r){for(var e=t.length,n=1,i,a;n<e;){for(a=n,i=t[n];a&&r(t[a-1],i)>0;)t[a]=t[--a];a!==n++&&(t[a]=i)}return t},Wne=function(t,r,e,n){for(var i=r.length,a=e.length,s=0,o=0;s<i||o<a;)t[s+o]=s<i&&o<a?n(r[s],e[o])<=0?r[s++]:e[o++]:s<i?r[s++]:e[o++];return t},Vne=Zg,Une=Yi,YA=Une.match(/firefox\/(\d+)/i),Gne=!!YA&&+YA[1],Kne=Yi,qne=/MSIE|Trident/.test(Kne),Yne=Yi,XA=Yne.match(/AppleWebKit\/(\d+)\./),Xne=!!XA&&+XA[1],Zne=we,oP=vt,Qne=Cr,Jne=Ir,ZA=Hr,eie=kC,QA=Ga,nb=Xe,tie=Vne,rie=jf,JA=Gne,nie=qne,ew=vo,tw=Xne,Ci=[],rw=oP(Ci.sort),iie=oP(Ci.push),aie=nb(function(){Ci.sort(void 0)}),sie=nb(function(){Ci.sort(null)}),oie=rie("sort"),lP=!nb(function(){if(ew)return ew<70;if(!(JA&&JA>3)){if(nie)return!0;if(tw)return tw<603;var t="",r,e,n,i;for(r=65;r<76;r++){switch(e=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Ci.push({k:e+i,v:n})}for(Ci.sort(function(a,s){return s.v-a.v}),i=0;i<Ci.length;i++)e=Ci[i].k.charAt(0),t.charAt(t.length-1)!==e&&(t+=e);return t!=="DGBEFHACIJK"}}),lie=aie||!sie||!oie||!lP,uie=function(t){return function(r,e){return e===void 0?-1:r===void 0?1:t!==void 0?+t(r,e)||0:QA(r)>QA(e)?1:-1}};Zne({target:"Array",proto:!0,forced:lie},{sort:function(r){r!==void 0&&Qne(r);var e=Jne(this);if(lP)return r===void 0?rw(e):rw(e,r);var n=[],i=ZA(e),a,s;for(s=0;s<i;s++)s in e&&iie(n,e[s]);for(tie(n,uie(r)),a=ZA(n),s=0;s<a;)e[s]=n[s++];for(;s<i;)eie(e,s++);return e}});var cie=ar,die=cie("Array","sort"),fie=Dt,hie=die,Wv=Array.prototype,vie=function(t){var r=t.sort;return t===Wv||fie(Wv,t)&&r===Wv.sort?hie:r},pie=vie,gie=pie,yie=gie,Qg=Oe(yie),mie=ar,bie=mie("Array","values"),$ie=bie,Aie=$ie,wie=vi,_ie=Ft,Sie=Dt,kie=Aie,Vv=Array.prototype,Eie={DOMTokenList:!0,NodeList:!0},Tie=function(t){var r=t.values;return t===Vv||Sie(Vv,t)&&r===Vv.values||_ie(Eie,wie(t))?kie:r},Oie=Tie,nw=Oe(Oie),Cie=ZO,xs=Oe(Cie),Iie=ar,Pie=Iie("Array","entries"),xie=Pie,Rie=xie,Mie=vi,Die=Ft,Fie=Dt,Bie=Rie,Uv=Array.prototype,Nie={DOMTokenList:!0,NodeList:!0},Lie=function(t){var r=t.entries;return t===Uv||Fie(Uv,t)&&r===Uv.entries||Die(Nie,Mie(t))?Bie:r},jie=Lie,zie=Oe(jie);let Sc;const Hie=new Uint8Array(16);function Wie(){if(!Sc&&(Sc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sc(Hie)}const Zt=[];for(let t=0;t<256;++t)Zt.push((t+256).toString(16).slice(1));function Vie(t,r=0){return Zt[t[r+0]]+Zt[t[r+1]]+Zt[t[r+2]]+Zt[t[r+3]]+"-"+Zt[t[r+4]]+Zt[t[r+5]]+"-"+Zt[t[r+6]]+Zt[t[r+7]]+"-"+Zt[t[r+8]]+Zt[t[r+9]]+"-"+Zt[t[r+10]]+Zt[t[r+11]]+Zt[t[r+12]]+Zt[t[r+13]]+Zt[t[r+14]]+Zt[t[r+15]]}const Uie=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var iw={randomUUID:Uie};function Gie(t,r,e){if(iw.randomUUID&&!r&&!t)return iw.randomUUID();t=t||{};const n=t.random||(t.rng||Wie)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Vie(n)}function aw(t){return typeof t=="string"||typeof t=="number"}var Kie=function(){function t(r){bf(this,t),Mi(this,"_queue",[]),Mi(this,"_timeout",null),Mi(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(r)}return Lf(t,[{key:"setOptions",value:function(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,n=this._extended.methods,i=0;i<n.length;i++){var a=n[i];a.original?e[a.name]=a.original:delete e[a.name]}this._extended=null}}},{key:"replace",value:function(e,n){var i=this,a=e[n];if(!a)throw new Error("Method "+n+" undefined");e[n]=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];i.queue({args:o,fn:a,context:this})}}},{key:"queue",value:function(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=$X(function(){e.flush()},this.delay))}},{key:"flush",value:function(){var e,n;Ra(e=EC(n=this._queue).call(n,0)).call(e,function(i){i.fn.apply(i.context||i.fn,i.args||[])})}}],[{key:"extend",value:function(e,n){var i=new t(n);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=function(){i.flush()};var a=[{name:"flush",original:void 0}];if(n&&n.replace)for(var s=0;s<n.replace.length;s++){var o=n.replace[s];a.push({name:o,original:e[o]}),i.replace(e,o)}return i._extended={object:e,methods:a},i}}]),t}(),qie=function(){function t(){bf(this,t),Mi(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Mi(this,"subscribe",t.prototype.on),Mi(this,"unsubscribe",t.prototype.off)}return Lf(t,[{key:"_trigger",value:function(e,n,i){var a,s;if(e==="*")throw new Error("Cannot trigger event *");Ra(a=Wf(s=[]).call(s,_r(this._subscribers[e]),_r(this._subscribers["*"]))).call(a,function(o){o(e,n,i??null)})}},{key:"on",value:function(e,n){typeof n=="function"&&this._subscribers[e].push(n)}},{key:"off",value:function(e,n){var i;this._subscribers[e]=Ts(i=this._subscribers[e]).call(i,function(a){return a!==n})}}]),t}(),Yie=nP,Xie=aP;Yie("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Xie);var Zie=gt,Qie=Zie.Set,Jie=Qie,eae=Jie,tae=eae,Gv=Oe(tae),rae=Fm,nae=rae,iae=nae,aae=iae,sae=aae,oae=sae,lae=oae,uae=lae,cae=uae,dae=cae,Kv=Oe(dae);function _n(t,r){var e=typeof Hf<"u"&&Nm(t)||t["@@iterator"];if(!e){if(Br(t)||(e=fae(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function fae(t,r){var e;if(t){if(typeof t=="string")return sw(t,r);var n=Vf(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Bm(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,r)}}function sw(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var ow=function(t){function r(e){bf(this,r),this._pairs=e}return Lf(r,[{key:t,value:$r.mark(function e(){var n,i,a,s,o;return $r.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=_n(this._pairs),u.prev=1,n.s();case 3:if((i=n.n()).done){u.next=9;break}return a=br(i.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),n.e(u.t0);case 14:return u.prev=14,n.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"entries",value:$r.mark(function e(){var n,i,a,s,o;return $r.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=_n(this._pairs),u.prev=1,n.s();case 3:if((i=n.n()).done){u.next=9;break}return a=br(i.value,2),s=a[0],o=a[1],u.next=7,[s,o];case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),n.e(u.t0);case 14:return u.prev=14,n.f(),u.finish(14);case 17:case"end":return u.stop()}},e,this,[[1,11,14,17]])})},{key:"keys",value:$r.mark(function e(){var n,i,a,s;return $r.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:n=_n(this._pairs),l.prev=1,n.s();case 3:if((i=n.n()).done){l.next=9;break}return a=br(i.value,1),s=a[0],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),n.e(l.t0);case 14:return l.prev=14,n.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"values",value:$r.mark(function e(){var n,i,a,s;return $r.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:n=_n(this._pairs),l.prev=1,n.s();case 3:if((i=n.n()).done){l.next=9;break}return a=br(i.value,2),s=a[1],l.next=7,s;case 7:l.next=3;break;case 9:l.next=14;break;case 11:l.prev=11,l.t0=l.catch(1),n.e(l.t0);case 14:return l.prev=14,n.f(),l.finish(14);case 17:case"end":return l.stop()}},e,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var n;return un(n=_r(this._pairs)).call(n,function(i){return i[0]})}},{key:"toItemArray",value:function(){var n;return un(n=_r(this._pairs)).call(n,function(i){return i[1]})}},{key:"toEntryArray",value:function(){return _r(this._pairs)}},{key:"toObjectMap",value:function(){var n=XY(null),i=_n(this._pairs),a;try{for(i.s();!(a=i.n()).done;){var s=br(a.value,2),o=s[0],l=s[1];n[o]=l}}catch(u){i.e(u)}finally{i.f()}return n}},{key:"toMap",value:function(){return new sP(this._pairs)}},{key:"toIdSet",value:function(){return new Gv(this.toIdArray())}},{key:"toItemSet",value:function(){return new Gv(this.toItemArray())}},{key:"cache",value:function(){return new r(_r(this._pairs))}},{key:"distinct",value:function(n){var i=new Gv,a=_n(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=br(s.value,2),l=o[0],u=o[1];i.add(n(u,l))}}catch(c){a.e(c)}finally{a.f()}return i}},{key:"filter",value:function(n){var i=this._pairs;return new r({[xs](){return $r.mark(function a(){var s,o,l,u,c;return $r.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:s=_n(i),f.prev=1,s.s();case 3:if((o=s.n()).done){f.next=10;break}if(l=br(o.value,2),u=l[0],c=l[1],!n(c,u)){f.next=8;break}return f.next=8,[u,c];case 8:f.next=3;break;case 10:f.next=15;break;case 12:f.prev=12,f.t0=f.catch(1),s.e(f.t0);case 15:return f.prev=15,s.f(),f.finish(15);case 18:case"end":return f.stop()}},a,null,[[1,12,15,18]])})()}})}},{key:"forEach",value:function(n){var i=_n(this._pairs),a;try{for(i.s();!(a=i.n()).done;){var s=br(a.value,2),o=s[0],l=s[1];n(l,o)}}catch(u){i.e(u)}finally{i.f()}}},{key:"map",value:function(n){var i=this._pairs;return new r({[xs](){return $r.mark(function a(){var s,o,l,u,c;return $r.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:s=_n(i),f.prev=1,s.s();case 3:if((o=s.n()).done){f.next=9;break}return l=br(o.value,2),u=l[0],c=l[1],f.next=7,[u,n(c,u)];case 7:f.next=3;break;case 9:f.next=14;break;case 11:f.prev=11,f.t0=f.catch(1),s.e(f.t0);case 14:return f.prev=14,s.f(),f.finish(14);case 17:case"end":return f.stop()}},a,null,[[1,11,14,17]])})()}})}},{key:"max",value:function(n){var i=Kv(this._pairs),a=i.next();if(a.done)return null;for(var s=a.value[1],o=n(a.value[1],a.value[0]);!(a=i.next()).done;){var l=br(a.value,2),u=l[0],c=l[1],d=n(c,u);d>o&&(o=d,s=c)}return s}},{key:"min",value:function(n){var i=Kv(this._pairs),a=i.next();if(a.done)return null;for(var s=a.value[1],o=n(a.value[1],a.value[0]);!(a=i.next()).done;){var l=br(a.value,2),u=l[0],c=l[1],d=n(c,u);d<o&&(o=d,s=c)}return s}},{key:"reduce",value:function(n,i){var a=_n(this._pairs),s;try{for(a.s();!(s=a.n()).done;){var o=br(s.value,2),l=o[0],u=o[1];i=n(i,u,l)}}catch(c){a.e(c)}finally{a.f()}return i}},{key:"sort",value:function(n){var i=this;return new r({[xs]:function(){var a;return Kv(Qg(a=_r(i._pairs)).call(a,function(s,o){var l=br(s,2),u=l[0],c=l[1],d=br(o,2),f=d[0],h=d[1];return n(c,h,u,f)}))}})}}]),r}(xs);function lw(t,r){var e=jm(t);if(dA){var n=dA(t);r&&(n=Ts(n).call(n,function(i){return yI(t,i).enumerable})),e.push.apply(e,n)}return e}function uw(t){for(var r=1;r<arguments.length;r++){var e,n,i=arguments[r]!=null?arguments[r]:{};r%2?Ra(e=lw(Object(i),!0)).call(e,function(a){Mi(t,a,i[a])}):fA?cQ(t,fA(i)):Ra(n=lw(Object(i))).call(n,function(a){fQ(t,a,yI(i,a))})}return t}function qv(t,r){var e=typeof Hf<"u"&&Nm(t)||t["@@iterator"];if(!e){if(Br(t)||(e=hae(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function hae(t,r){var e;if(t){if(typeof t=="string")return cw(t,r);var n=Vf(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Bm(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cw(t,r)}}function cw(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function vae(t){var r=pae();return function(){var n=Fd(t),i;if(r){var a=Fd(this).constructor;i=td(n,arguments,a)}else i=n.apply(this,arguments);return MQ(this,i)}}function pae(){if(typeof Reflect>"u"||!td||td.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(td(Boolean,[],function(){})),!0}catch{return!1}}function gae(t,r){return t[r]==null&&(t[r]=Gie()),t}var jd=function(t){RQ(e,t);var r=vae(e);function e(n,i){var a;return bf(this,e),a=r.call(this),Mi($I(a),"_queue",null),n&&!Br(n)&&(i=n,n=[]),a._options=i||{},a._data=new sP,a.length=0,a._idProp=a._options.fieldId||"id",n&&n.length&&a.add(n),a.setOptions(i),a}return Lf(e,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(i){i&&i.queue!==void 0&&(i.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Kie.extend(this,{replace:["add","update","remove"]})),i.queue&&typeof i.queue=="object"&&this._queue.setOptions(i.queue)))}},{key:"add",value:function(i,a){var s=this,o=[],l;if(Br(i)){var u=un(i).call(i,function(f){return f[s._idProp]});if(Cne(u).call(u,function(f){return s._data.has(f)}))throw new Error("A duplicate id was found in the parameter array.");for(var c=0,d=i.length;c<d;c++)l=this._addItem(i[c]),o.push(l)}else if(i&&typeof i=="object")l=this._addItem(i),o.push(l);else throw new Error("Unknown dataType");return o.length&&this._trigger("add",{items:o},a),o}},{key:"update",value:function(i,a){var s=this,o=[],l=[],u=[],c=[],d=this._idProp,f=function(y){var b=y[d];if(b!=null&&s._data.has(b)){var A=y,$=xY({},s._data.get(b)),k=s._updateItem(A);l.push(k),c.push(A),u.push($)}else{var C=s._addItem(y);o.push(C)}};if(Br(i))for(var h=0,v=i.length;h<v;h++)i[h]&&typeof i[h]=="object"?f(i[h]):console.warn("Ignoring input item, which is not an object at index "+h);else if(i&&typeof i=="object")f(i);else throw new Error("Unknown dataType");if(o.length&&this._trigger("add",{items:o},a),l.length){var p={items:l,oldData:u,data:c};this._trigger("update",p,a)}return Wf(o).call(o,l)}},{key:"updateOnly",value:function(i,a){var s,o=this;Br(i)||(i=[i]);var l=un(s=un(i).call(i,function(c){var d=o._data.get(c[o._idProp]);if(d==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:d,update:c}})).call(s,function(c){var d=c.oldData,f=c.update,h=d[o._idProp],v=dZ(d,f);return o._data.set(h,v),{id:h,oldData:d,updatedData:v}});if(l.length){var u={items:un(l).call(l,function(c){return c.id}),oldData:un(l).call(l,function(c){return c.oldData}),data:un(l).call(l,function(c){return c.updatedData})};return this._trigger("update",u,a),u.items}else return[]}},{key:"get",value:function(i,a){var s=void 0,o=void 0,l=void 0;aw(i)?(s=i,l=a):Br(i)?(o=i,l=a):l=i;var u=l&&l.returnType==="Object"?"Object":"Array",c=l&&Ts(l),d=[],f=void 0,h=void 0,v=void 0;if(s!=null)f=this._data.get(s),f&&c&&!c(f)&&(f=void 0);else if(o!=null)for(var p=0,m=o.length;p<m;p++)f=this._data.get(o[p]),f!=null&&(!c||c(f))&&d.push(f);else{var y;h=_r(hs(y=this._data).call(y));for(var b=0,A=h.length;b<A;b++)v=h[b],f=this._data.get(v),f!=null&&(!c||c(f))&&d.push(f)}if(l&&l.order&&s==null&&this._sort(d,l.order),l&&l.fields){var $=l.fields;if(s!=null&&f!=null)f=this._filterFields(f,$);else for(var k=0,C=d.length;k<C;k++)d[k]=this._filterFields(d[k],$)}if(u=="Object"){for(var T={},E=0,S=d.length;E<S;E++){var O=d[E],P=O[this._idProp];T[P]=O}return T}else if(s!=null){var j;return(j=f)!==null&&j!==void 0?j:null}else return d}},{key:"getIds",value:function(i){var a=this._data,s=i&&Ts(i),o=i&&i.order,l=_r(hs(a).call(a)),u=[];if(s)if(o){for(var c=[],d=0,f=l.length;d<f;d++){var h=l[d],v=this._data.get(h);v!=null&&s(v)&&c.push(v)}this._sort(c,o);for(var p=0,m=c.length;p<m;p++)u.push(c[p][this._idProp])}else for(var y=0,b=l.length;y<b;y++){var A=l[y],$=this._data.get(A);$!=null&&s($)&&u.push($[this._idProp])}else if(o){for(var k=[],C=0,T=l.length;C<T;C++){var E=l[C];k.push(a.get(E))}this._sort(k,o);for(var S=0,O=k.length;S<O;S++)u.push(k[S][this._idProp])}else for(var P=0,j=l.length;P<j;P++){var K=l[P],me=a.get(K);me!=null&&u.push(me[this._idProp])}return u}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(i,a){var s=a&&Ts(a),o=this._data,l=_r(hs(o).call(o));if(a&&a.order)for(var u=this.get(a),c=0,d=u.length;c<d;c++){var f=u[c],h=f[this._idProp];i(f,h)}else for(var v=0,p=l.length;v<p;v++){var m=l[v],y=this._data.get(m);y!=null&&(!s||s(y))&&i(y,m)}}},{key:"map",value:function(i,a){for(var s=a&&Ts(a),o=[],l=this._data,u=_r(hs(l).call(l)),c=0,d=u.length;c<d;c++){var f=u[c],h=this._data.get(f);h!=null&&(!s||s(h))&&o.push(i(h,f))}return a&&a.order&&this._sort(o,a.order),o}},{key:"_filterFields",value:function(i,a){var s;return i&&q9(s=Br(a)?a:jm(a)).call(s,function(o,l){return o[l]=i[l],o},{})}},{key:"_sort",value:function(i,a){if(typeof a=="string"){var s=a;Qg(i).call(i,function(o,l){var u=o[s],c=l[s];return u>c?1:u<c?-1:0})}else if(typeof a=="function")Qg(i).call(i,a);else throw new TypeError("Order must be a function or a string")}},{key:"remove",value:function(i,a){for(var s=[],o=[],l=Br(i)?i:[i],u=0,c=l.length;u<c;u++){var d=this._remove(l[u]);if(d){var f=d[this._idProp];f!=null&&(s.push(f),o.push(d))}}return s.length&&this._trigger("remove",{items:s,oldData:o},a),s}},{key:"_remove",value:function(i){var a;if(aw(i)?a=i:i&&typeof i=="object"&&(a=i[this._idProp]),a!=null&&this._data.has(a)){var s=this._data.get(a)||null;return this._data.delete(a),--this.length,s}return null}},{key:"clear",value:function(i){for(var a,s=_r(hs(a=this._data).call(a)),o=[],l=0,u=s.length;l<u;l++)o.push(this._data.get(s[l]));return this._data.clear(),this.length=0,this._trigger("remove",{items:s,oldData:o},i),s}},{key:"max",value:function(i){var a,s=null,o=null,l=qv(nw(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=c[i];typeof d=="number"&&(o==null||d>o)&&(s=c,o=d)}}catch(f){l.e(f)}finally{l.f()}return s||null}},{key:"min",value:function(i){var a,s=null,o=null,l=qv(nw(a=this._data).call(a)),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=c[i];typeof d=="number"&&(o==null||d<o)&&(s=c,o=d)}}catch(f){l.e(f)}finally{l.f()}return s||null}},{key:"distinct",value:function(i){for(var a=this._data,s=_r(hs(a).call(a)),o=[],l=0,u=0,c=s.length;u<c;u++){for(var d=s[u],f=a.get(d),h=f[i],v=!1,p=0;p<l;p++)if(o[p]==h){v=!0;break}!v&&h!==void 0&&(o[l]=h,l++)}return o}},{key:"_addItem",value:function(i){var a=gae(i,this._idProp),s=a[this._idProp];if(this._data.has(s))throw new Error("Cannot add item: item with id "+s+" already exists");return this._data.set(s,a),++this.length,s}},{key:"_updateItem",value:function(i){var a=i[this._idProp];if(a==null)throw new Error("Cannot update item: item has no id (item: "+rX(i)+")");var s=this._data.get(a);if(!s)throw new Error("Cannot update item: no item with id "+a+" found");return this._data.set(a,uw(uw({},s),i)),a}},{key:"stream",value:function(i){if(i){var a=this._data;return new ow({[xs](){return $r.mark(function o(){var l,u,c,d;return $r.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:l=qv(i),h.prev=1,l.s();case 3:if((u=l.n()).done){h.next=11;break}if(c=u.value,d=a.get(c),d==null){h.next=9;break}return h.next=9,[c,d];case 9:h.next=3;break;case 11:h.next=16;break;case 13:h.prev=13,h.t0=h.catch(1),l.e(h.t0);case 16:return h.prev=16,l.f(),h.finish(16);case 19:case"end":return h.stop()}},o,null,[[1,13,16,19]])})()}})}else{var s;return new ow({[xs]:iC(s=zie(this._data)).call(s,this._data)})}}}]),e}(qie);function yae(t,r){return typeof r=="object"&&r!==null&&t===r.idProp&&typeof r.add=="function"&&typeof r.clear=="function"&&typeof r.distinct=="function"&&typeof Ra(r)=="function"&&typeof r.get=="function"&&typeof r.getDataSet=="function"&&typeof r.getIds=="function"&&typeof r.length=="number"&&typeof un(r)=="function"&&typeof r.max=="function"&&typeof r.min=="function"&&typeof r.off=="function"&&typeof r.on=="function"&&typeof r.remove=="function"&&typeof r.setOptions=="function"&&typeof r.stream=="function"&&typeof r.update=="function"&&typeof r.updateOnly=="function"}function uP(t,r){return typeof r=="object"&&r!==null&&t===r.idProp&&typeof Ra(r)=="function"&&typeof r.get=="function"&&typeof r.getDataSet=="function"&&typeof r.getIds=="function"&&typeof r.length=="number"&&typeof un(r)=="function"&&typeof r.off=="function"&&typeof r.on=="function"&&typeof r.stream=="function"&&yae(t,r.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kc=function(t){return t&&t.Math===Math&&t},kt=kc(typeof globalThis=="object"&&globalThis)||kc(typeof window=="object"&&window)||kc(typeof self=="object"&&self)||kc(typeof Yv=="object"&&Yv)||function(){return this}()||Yv||Function("return this")(),We=function(t){try{return!!t()}catch{return!0}},mae=We,Ou=!mae(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),bae=Ou,cP=Function.prototype,dw=cP.apply,fw=cP.call,Cu=typeof Reflect=="object"&&Reflect.apply||(bae?fw.bind(dw):function(){return fw.apply(dw,arguments)}),dP=Ou,fP=Function.prototype,Jg=fP.call,$ae=dP&&fP.bind.bind(Jg,Jg),Ue=dP?$ae:function(t){return function(){return Jg.apply(t,arguments)}},hP=Ue,Aae=hP({}.toString),wae=hP("".slice),pi=function(t){return wae(Aae(t),8,-1)},_ae=pi,Sae=Ue,ib=function(t){if(_ae(t)==="Function")return Sae(t)},ey=typeof document=="object"&&document.all,kae=typeof ey>"u"&&ey!==void 0,vP={all:ey,IS_HTMLDDA:kae},pP=vP,Eae=pP.all,Gt=pP.IS_HTMLDDA?function(t){return typeof t=="function"||t===Eae}:function(t){return typeof t=="function"},Eo={},Tae=We,Kt=!Tae(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Oae=Ou,Ec=Function.prototype.call,Wr=Oae?Ec.bind(Ec):function(){return Ec.apply(Ec,arguments)},Yf={},gP={}.propertyIsEnumerable,yP=Object.getOwnPropertyDescriptor,Cae=yP&&!gP.call({1:2},1);Yf.f=Cae?function(r){var e=yP(this,r);return!!e&&e.enumerable}:gP;var Iu=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}},Iae=Ue,Pae=We,xae=pi,Xv=Object,Rae=Iae("".split),Xf=Pae(function(){return!Xv("z").propertyIsEnumerable(0)})?function(t){return xae(t)==="String"?Rae(t,""):Xv(t)}:Xv,To=function(t){return t==null},Mae=To,Dae=TypeError,Pu=function(t){if(Mae(t))throw new Dae("Can't call method on "+t);return t},Fae=Xf,Bae=Pu,Hn=function(t){return Fae(Bae(t))},hw=Gt,mP=vP,Nae=mP.all,qt=mP.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:hw(t)||t===Nae}:function(t){return typeof t=="object"?t!==null:hw(t)},Ve={},Zv=Ve,Qv=kt,Lae=Gt,vw=function(t){return Lae(t)?t:void 0},nn=function(t,r){return arguments.length<2?vw(Zv[t])||vw(Qv[t]):Zv[t]&&Zv[t][r]||Qv[t]&&Qv[t][r]},jae=Ue,Ct=jae({}.isPrototypeOf),xu=typeof navigator<"u"&&String(navigator.userAgent)||"",bP=kt,Jv=xu,pw=bP.process,gw=bP.Deno,yw=pw&&pw.versions||gw&&gw.version,mw=yw&&yw.v8,cn,zd;mw&&(cn=mw.split("."),zd=cn[0]>0&&cn[0]<4?1:+(cn[0]+cn[1]));!zd&&Jv&&(cn=Jv.match(/Edge\/(\d+)/),(!cn||cn[1]>=74)&&(cn=Jv.match(/Chrome\/(\d+)/),cn&&(zd=+cn[1])));var Ru=zd,bw=Ru,zae=We,Hae=kt,Wae=Hae.String,Oo=!!Object.getOwnPropertySymbols&&!zae(function(){var t=Symbol("symbol detection");return!Wae(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&bw&&bw<41}),Vae=Oo,$P=Vae&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Uae=nn,Gae=Gt,Kae=Ct,qae=$P,Yae=Object,Mu=qae?function(t){return typeof t=="symbol"}:function(t){var r=Uae("Symbol");return Gae(r)&&Kae(r.prototype,Yae(t))},Xae=String,Co=function(t){try{return Xae(t)}catch{return"Object"}},Zae=Gt,Qae=Co,Jae=TypeError,Za=function(t){if(Zae(t))return t;throw new Jae(Qae(t)+" is not a function")},ese=Za,tse=To,ab=function(t,r){var e=t[r];return tse(e)?void 0:ese(e)},ep=Wr,tp=Gt,rp=qt,rse=TypeError,nse=function(t,r){var e,n;if(r==="string"&&tp(e=t.toString)&&!rp(n=ep(e,t))||tp(e=t.valueOf)&&!rp(n=ep(e,t))||r!=="string"&&tp(e=t.toString)&&!rp(n=ep(e,t)))return n;throw new rse("Can't convert object to primitive value")},AP={exports:{}},$w=kt,ise=Object.defineProperty,ase=function(t,r){try{ise($w,t,{value:r,configurable:!0,writable:!0})}catch{$w[t]=r}return r},sse=kt,ose=ase,Aw="__core-js_shared__",lse=sse[Aw]||ose(Aw,{}),sb=lse,ww=sb;(AP.exports=function(t,r){return ww[t]||(ww[t]=r!==void 0?r:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Io=AP.exports,use=Pu,cse=Object,xr=function(t){return cse(use(t))},dse=Ue,fse=xr,hse=dse({}.hasOwnProperty),Yt=Object.hasOwn||function(r,e){return hse(fse(r),e)},vse=Ue,pse=0,gse=Math.random(),yse=vse(1 .toString),Zf=function(t){return"Symbol("+(t===void 0?"":t)+")_"+yse(++pse+gse,36)},mse=kt,bse=Io,_w=Yt,$se=Zf,Ase=Oo,wse=$P,Rs=mse.Symbol,np=bse("wks"),_se=wse?Rs.for||Rs:Rs&&Rs.withoutSetter||$se,Et=function(t){return _w(np,t)||(np[t]=Ase&&_w(Rs,t)?Rs[t]:_se("Symbol."+t)),np[t]},Sse=Wr,Sw=qt,kw=Mu,kse=ab,Ese=nse,Tse=Et,Ose=TypeError,Cse=Tse("toPrimitive"),Ise=function(t,r){if(!Sw(t)||kw(t))return t;var e=kse(t,Cse),n;if(e){if(r===void 0&&(r="default"),n=Sse(e,t,r),!Sw(n)||kw(n))return n;throw new Ose("Can't convert object to primitive value")}return r===void 0&&(r="number"),Ese(t,r)},Pse=Ise,xse=Mu,Qf=function(t){var r=Pse(t,"string");return xse(r)?r:r+""},Rse=kt,Ew=qt,ty=Rse.document,Mse=Ew(ty)&&Ew(ty.createElement),wP=function(t){return Mse?ty.createElement(t):{}},Dse=Kt,Fse=We,Bse=wP,_P=!Dse&&!Fse(function(){return Object.defineProperty(Bse("div"),"a",{get:function(){return 7}}).a!==7}),Nse=Kt,Lse=Wr,jse=Yf,zse=Iu,Hse=Hn,Wse=Qf,Vse=Yt,Use=_P,Tw=Object.getOwnPropertyDescriptor;Eo.f=Nse?Tw:function(r,e){if(r=Hse(r),e=Wse(e),Use)try{return Tw(r,e)}catch{}if(Vse(r,e))return zse(!Lse(jse.f,r,e),r[e])};var Gse=We,Kse=Gt,qse=/#|\.prototype\./,Du=function(t,r){var e=Xse[Yse(t)];return e===Qse?!0:e===Zse?!1:Kse(r)?Gse(r):!!r},Yse=Du.normalize=function(t){return String(t).replace(qse,".").toLowerCase()},Xse=Du.data={},Zse=Du.NATIVE="N",Qse=Du.POLYFILL="P",Jse=Du,Ow=ib,eoe=Za,toe=Ou,roe=Ow(Ow.bind),Fu=function(t,r){return eoe(t),r===void 0?t:toe?roe(t,r):function(){return t.apply(r,arguments)}},Vr={},noe=Kt,ioe=We,SP=noe&&ioe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),aoe=qt,soe=String,ooe=TypeError,Ur=function(t){if(aoe(t))return t;throw new ooe(soe(t)+" is not an object")},loe=Kt,uoe=_P,coe=SP,Tc=Ur,Cw=Qf,doe=TypeError,ip=Object.defineProperty,foe=Object.getOwnPropertyDescriptor,ap="enumerable",sp="configurable",op="writable";Vr.f=loe?coe?function(r,e,n){if(Tc(r),e=Cw(e),Tc(n),typeof r=="function"&&e==="prototype"&&"value"in n&&op in n&&!n[op]){var i=foe(r,e);i&&i[op]&&(r[e]=n.value,n={configurable:sp in n?n[sp]:i[sp],enumerable:ap in n?n[ap]:i[ap],writable:!1})}return ip(r,e,n)}:ip:function(r,e,n){if(Tc(r),e=Cw(e),Tc(n),uoe)try{return ip(r,e,n)}catch{}if("get"in n||"set"in n)throw new doe("Accessors not supported");return"value"in n&&(r[e]=n.value),r};var hoe=Kt,voe=Vr,poe=Iu,Po=hoe?function(t,r,e){return voe.f(t,r,poe(1,e))}:function(t,r,e){return t[r]=e,t},Oc=kt,goe=Cu,yoe=ib,moe=Gt,boe=Eo.f,$oe=Jse,vs=Ve,Aoe=Fu,ps=Po,Iw=Yt,woe=function(t){var r=function(e,n,i){if(this instanceof r){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return goe(t,this,arguments)};return r.prototype=t.prototype,r},ke=function(t,r){var e=t.target,n=t.global,i=t.stat,a=t.proto,s=n?Oc:i?Oc[e]:(Oc[e]||{}).prototype,o=n?vs:vs[e]||ps(vs,e,{})[e],l=o.prototype,u,c,d,f,h,v,p,m,y;for(f in r)u=$oe(n?f:e+(i?".":"#")+f,t.forced),c=!u&&s&&Iw(s,f),v=o[f],c&&(t.dontCallGetSet?(y=boe(s,f),p=y&&y.value):p=s[f]),h=c&&p?p:r[f],!(c&&typeof v==typeof h)&&(t.bind&&c?m=Aoe(h,Oc):t.wrap&&c?m=woe(h):a&&moe(h)?m=yoe(h):m=h,(t.sham||h&&h.sham||v&&v.sham)&&ps(m,"sham",!0),ps(o,f,m),a&&(d=e+"Prototype",Iw(vs,d)||ps(vs,d,{}),ps(vs[d],f,h),t.real&&l&&(u||!l[f])&&ps(l,f,h)))},_oe=Math.ceil,Soe=Math.floor,koe=Math.trunc||function(r){var e=+r;return(e>0?Soe:_oe)(e)},Eoe=koe,Jf=function(t){var r=+t;return r!==r||r===0?0:Eoe(r)},Toe=Jf,Ooe=Math.max,Coe=Math.min,Bu=function(t,r){var e=Toe(t);return e<0?Ooe(e+r,0):Coe(e,r)},Ioe=Jf,Poe=Math.min,xoe=function(t){return t>0?Poe(Ioe(t),9007199254740991):0},Roe=xoe,an=function(t){return Roe(t.length)},Moe=Hn,Doe=Bu,Foe=an,Pw=function(t){return function(r,e,n){var i=Moe(r),a=Foe(i),s=Doe(n,a),o;if(t&&e!==e){for(;a>s;)if(o=i[s++],o!==o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===e)return t||s||0;return!t&&-1}},ob={includes:Pw(!0),indexOf:Pw(!1)},Nu={},Boe=Ue,lp=Yt,Noe=Hn,Loe=ob.indexOf,joe=Nu,xw=Boe([].push),kP=function(t,r){var e=Noe(t),n=0,i=[],a;for(a in e)!lp(joe,a)&&lp(e,a)&&xw(i,a);for(;r.length>n;)lp(e,a=r[n++])&&(~Loe(i,a)||xw(i,a));return i},lb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],zoe=kP,Hoe=lb,eh=Object.keys||function(r){return zoe(r,Hoe)},Lu={};Lu.f=Object.getOwnPropertySymbols;var Rw=Kt,Woe=Ue,Voe=Wr,Uoe=We,up=eh,Goe=Lu,Koe=Yf,qoe=xr,Yoe=Xf,gs=Object.assign,Mw=Object.defineProperty,Xoe=Woe([].concat),Zoe=!gs||Uoe(function(){if(Rw&&gs({b:1},gs(Mw({},"a",{enumerable:!0,get:function(){Mw(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},r={},e=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(i){r[i]=i}),gs({},t)[e]!==7||up(gs({},r)).join("")!==n})?function(r,e){for(var n=qoe(r),i=arguments.length,a=1,s=Goe.f,o=Koe.f;i>a;)for(var l=Yoe(arguments[a++]),u=s?Xoe(up(l),s(l)):up(l),c=u.length,d=0,f;c>d;)f=u[d++],(!Rw||Voe(o,l,f))&&(n[f]=l[f]);return n}:gs,Qoe=ke,Dw=Zoe;Qoe({target:"Object",stat:!0,arity:2,forced:Object.assign!==Dw},{assign:Dw});var Joe=Ve,ele=Joe.Object.assign,tle=ele,rle=tle,nle=rle,xt=ye(nle),ile=Ue,th=ile([].slice),EP=Ue,ale=Za,sle=qt,ole=Yt,Fw=th,lle=Ou,TP=Function,ule=EP([].concat),cle=EP([].join),cp={},dle=function(t,r,e){if(!ole(cp,r)){for(var n=[],i=0;i<r;i++)n[i]="a["+i+"]";cp[r]=TP("C,a","return new C("+cle(n,",")+")")}return cp[r](t,e)},OP=lle?TP.bind:function(r){var e=ale(this),n=e.prototype,i=Fw(arguments,1),a=function(){var o=ule(i,Fw(arguments));return this instanceof a?dle(e,o.length,o):e.apply(r,o)};return sle(n)&&(a.prototype=n),a},fle=ke,Bw=OP;fle({target:"Function",proto:!0,forced:Function.bind!==Bw},{bind:Bw});var hle=Ve,Xt=function(t){return hle[t+"Prototype"]},vle=Xt,ple=vle("Function").bind,gle=Ct,yle=ple,dp=Function.prototype,mle=function(t){var r=t.bind;return t===dp||gle(dp,t)&&r===dp.bind?yle:r},ble=mle,CP=ble,$le=CP,X=ye($le);function ub(t,r,e,n){t.beginPath(),t.arc(r,e,n,0,2*Math.PI,!1),t.closePath()}function Ale(t,r,e,n){t.beginPath(),t.rect(r-n,e-n,n*2,n*2),t.closePath()}function wle(t,r,e,n){t.beginPath(),n*=1.15,e+=.275*n;var i=n*2,a=i/2,s=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-a*a);t.moveTo(r,e-(o-s)),t.lineTo(r+a,e+s),t.lineTo(r-a,e+s),t.lineTo(r,e-(o-s)),t.closePath()}function _le(t,r,e,n){t.beginPath(),n*=1.15,e-=.275*n;var i=n*2,a=i/2,s=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-a*a);t.moveTo(r,e+(o-s)),t.lineTo(r+a,e-s),t.lineTo(r-a,e-s),t.lineTo(r,e+(o-s)),t.closePath()}function Sle(t,r,e,n){t.beginPath(),n*=.82,e+=.1*n;for(var i=0;i<10;i++){var a=i%2===0?n*1.3:n*.5;t.lineTo(r+a*Math.sin(i*2*Math.PI/10),e-a*Math.cos(i*2*Math.PI/10))}t.closePath()}function kle(t,r,e,n){t.beginPath(),t.lineTo(r,e+n),t.lineTo(r+n,e),t.lineTo(r,e-n),t.lineTo(r-n,e),t.closePath()}function IP(t,r,e,n,i,a){var s=Math.PI/180;n-2*a<0&&(a=n/2),i-2*a<0&&(a=i/2),t.beginPath(),t.moveTo(r+a,e),t.lineTo(r+n-a,e),t.arc(r+n-a,e+a,a,s*270,s*360,!1),t.lineTo(r+n,e+i-a),t.arc(r+n-a,e+i-a,a,0,s*90,!1),t.lineTo(r+a,e+i),t.arc(r+a,e+i-a,a,s*90,s*180,!1),t.lineTo(r,e+a),t.arc(r+a,e+a,a,s*180,s*270,!1),t.closePath()}function ry(t,r,e,n,i){var a=.5522848,s=n/2*a,o=i/2*a,l=r+n,u=e+i,c=r+n/2,d=e+i/2;t.beginPath(),t.moveTo(r,d),t.bezierCurveTo(r,d-o,c-s,e,c,e),t.bezierCurveTo(c+s,e,l,d-o,l,d),t.bezierCurveTo(l,d+o,c+s,u,c,u),t.bezierCurveTo(c-s,u,r,d+o,r,d),t.closePath()}function PP(t,r,e,n,i){var a=.3333333333333333,s=n,o=i*a,l=.5522848,u=s/2*l,c=o/2*l,d=r+s,f=e+o,h=r+s/2,v=e+o/2,p=e+(i-o/2),m=e+i;t.beginPath(),t.moveTo(d,v),t.bezierCurveTo(d,v+c,h+u,f,h,f),t.bezierCurveTo(h-u,f,r,v+c,r,v),t.bezierCurveTo(r,v-c,h-u,e,h,e),t.bezierCurveTo(h+u,e,d,v-c,d,v),t.lineTo(d,p),t.bezierCurveTo(d,p+c,h+u,m,h,m),t.bezierCurveTo(h-u,m,r,p+c,r,p),t.lineTo(r,v)}function xP(t,r,e,n,i,a){t.beginPath(),t.moveTo(r,e);for(var s=a.length,o=n-r,l=i-e,u=l/o,c=Math.sqrt(o*o+l*l),d=0,f=!0,h=0,v=+a[0];c>=.1;)v=+a[d++%s],v>c&&(v=c),h=Math.sqrt(v*v/(1+u*u)),h=o<0?-h:h,r+=h,e+=u*h,f===!0?t.lineTo(r,e):t.moveTo(r,e),c-=v,f=!f}function Ele(t,r,e,n){t.beginPath();var i=6,a=Math.PI*2/i;t.moveTo(r+n,e);for(var s=1;s<i;s++)t.lineTo(r+n*Math.cos(a*s),e+n*Math.sin(a*s));t.closePath()}var Nw={circle:ub,dashedLine:xP,database:PP,diamond:kle,ellipse:ry,ellipse_vis:ry,hexagon:Ele,roundRect:IP,square:Ale,star:Sle,triangle:wle,triangleDown:_le};function Tle(t){return Object.prototype.hasOwnProperty.call(Nw,t)?Nw[t]:function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(r,n)}}var RP={exports:{}};(function(t){t.exports=r;function r(n){if(n)return e(n)}function e(n){for(var i in r.prototype)n[i]=r.prototype[i];return n}r.prototype.on=r.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},r.prototype.once=function(n,i){function a(){this.off(n,a),i.apply(this,arguments)}return a.fn=i,this.on(n,a),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+n];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var s,o=0;o<a.length;o++)if(s=a[o],s===i||s.fn===i){a.splice(o,1);break}return a.length===0&&delete this._callbacks["$"+n],this},r.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),a=this._callbacks["$"+n],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(a){a=a.slice(0);for(var s=0,o=a.length;s<o;++s)a[s].apply(this,i)}return this},r.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},r.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(RP);var Ole=RP.exports,MP=ye(Ole),Cle=Et,Ile=Cle("toStringTag"),DP={};DP[Ile]="z";var cb=String(DP)==="[object z]",Ple=cb,xle=Gt,ad=pi,Rle=Et,Mle=Rle("toStringTag"),Dle=Object,Fle=ad(function(){return arguments}())==="Arguments",Ble=function(t,r){try{return t[r]}catch{}},Qa=Ple?ad:function(t){var r,e,n;return t===void 0?"Undefined":t===null?"Null":typeof(e=Ble(r=Dle(t),Mle))=="string"?e:Fle?ad(r):(n=ad(r))==="Object"&&xle(r.callee)?"Arguments":n},Nle=Qa,Lle=String,Wn=function(t){if(Nle(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Lle(t)},db=Ue,jle=Jf,zle=Wn,Hle=Pu,Wle=db("".charAt),Lw=db("".charCodeAt),Vle=db("".slice),jw=function(t){return function(r,e){var n=zle(Hle(r)),i=jle(e),a=n.length,s,o;return i<0||i>=a?t?"":void 0:(s=Lw(n,i),s<55296||s>56319||i+1===a||(o=Lw(n,i+1))<56320||o>57343?t?Wle(n,i):s:t?Vle(n,i,i+2):(s-55296<<10)+(o-56320)+65536)}},Ule={codeAt:jw(!1),charAt:jw(!0)},Gle=kt,Kle=Gt,zw=Gle.WeakMap,FP=Kle(zw)&&/native code/.test(String(zw)),qle=Io,Yle=Zf,Hw=qle("keys"),rh=function(t){return Hw[t]||(Hw[t]=Yle(t))},Xle=FP,BP=kt,Zle=qt,Qle=Po,fp=Yt,hp=sb,Jle=rh,eue=Nu,Ww="Object already initialized",ny=BP.TypeError,tue=BP.WeakMap,Hd,Gl,Wd,rue=function(t){return Wd(t)?Gl(t):Hd(t,{})},nue=function(t){return function(r){var e;if(!Zle(r)||(e=Gl(r)).type!==t)throw new ny("Incompatible receiver, "+t+" required");return e}};if(Xle||hp.state){var Sn=hp.state||(hp.state=new tue);Sn.get=Sn.get,Sn.has=Sn.has,Sn.set=Sn.set,Hd=function(t,r){if(Sn.has(t))throw new ny(Ww);return r.facade=t,Sn.set(t,r),r},Gl=function(t){return Sn.get(t)||{}},Wd=function(t){return Sn.has(t)}}else{var ys=Jle("state");eue[ys]=!0,Hd=function(t,r){if(fp(t,ys))throw new ny(Ww);return r.facade=t,Qle(t,ys,r),r},Gl=function(t){return fp(t,ys)?t[ys]:{}},Wd=function(t){return fp(t,ys)}}var Ja={set:Hd,get:Gl,has:Wd,enforce:rue,getterFor:nue},iy=Kt,iue=Yt,NP=Function.prototype,aue=iy&&Object.getOwnPropertyDescriptor,fb=iue(NP,"name"),sue=fb&&(function(){}).name==="something",oue=fb&&(!iy||iy&&aue(NP,"name").configurable),lue={EXISTS:fb,PROPER:sue,CONFIGURABLE:oue},nh={},uue=Kt,cue=SP,due=Vr,fue=Ur,hue=Hn,vue=eh;nh.f=uue&&!cue?Object.defineProperties:function(r,e){fue(r);for(var n=hue(e),i=vue(e),a=i.length,s=0,o;a>s;)due.f(r,o=i[s++],n[o]);return r};var pue=nn,gue=pue("document","documentElement"),yue=Ur,mue=nh,Vw=lb,bue=Nu,$ue=gue,Aue=wP,wue=rh,Uw=">",Gw="<",ay="prototype",sy="script",LP=wue("IE_PROTO"),vp=function(){},jP=function(t){return Gw+sy+Uw+t+Gw+"/"+sy+Uw},Kw=function(t){t.write(jP("")),t.close();var r=t.parentWindow.Object;return t=null,r},_ue=function(){var t=Aue("iframe"),r="java"+sy+":",e;return t.style.display="none",$ue.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(jP("document.F=Object")),e.close(),e.F},Cc,sd=function(){try{Cc=new ActiveXObject("htmlfile")}catch{}sd=typeof document<"u"?document.domain&&Cc?Kw(Cc):_ue():Kw(Cc);for(var t=Vw.length;t--;)delete sd[ay][Vw[t]];return sd()};bue[LP]=!0;var xo=Object.create||function(r,e){var n;return r!==null?(vp[ay]=yue(r),n=new vp,vp[ay]=null,n[LP]=r):n=sd(),e===void 0?n:mue.f(n,e)},Sue=We,zP=!Sue(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),kue=Yt,Eue=Gt,Tue=xr,Oue=rh,Cue=zP,qw=Oue("IE_PROTO"),oy=Object,Iue=oy.prototype,ih=Cue?oy.getPrototypeOf:function(t){var r=Tue(t);if(kue(r,qw))return r[qw];var e=r.constructor;return Eue(e)&&r instanceof e?e.prototype:r instanceof oy?Iue:null},Pue=Po,ju=function(t,r,e,n){return n&&n.enumerable?t[r]=e:Pue(t,r,e),t},xue=We,Rue=Gt,Mue=qt,Due=xo,Yw=ih,Fue=ju,Bue=Et,ly=Bue("iterator"),HP=!1,ri,pp,gp;[].keys&&(gp=[].keys(),"next"in gp?(pp=Yw(Yw(gp)),pp!==Object.prototype&&(ri=pp)):HP=!0);var Nue=!Mue(ri)||xue(function(){var t={};return ri[ly].call(t)!==t});Nue?ri={}:ri=Due(ri);Rue(ri[ly])||Fue(ri,ly,function(){return this});var WP={IteratorPrototype:ri,BUGGY_SAFARI_ITERATORS:HP},Lue=cb,jue=Qa,zue=Lue?{}.toString:function(){return"[object "+jue(this)+"]"},Hue=cb,Wue=Vr.f,Vue=Po,Uue=Yt,Gue=zue,Kue=Et,Xw=Kue("toStringTag"),Ro=function(t,r,e,n){if(t){var i=e?t:t.prototype;Uue(i,Xw)||Wue(i,Xw,{configurable:!0,value:r}),n&&!Hue&&Vue(i,"toString",Gue)}},Mo={},que=WP.IteratorPrototype,Yue=xo,Xue=Iu,Zue=Ro,Que=Mo,Jue=function(){return this},ece=function(t,r,e,n){var i=r+" Iterator";return t.prototype=Yue(que,{next:Xue(+!n,e)}),Zue(t,i,!1,!0),Que[i]=Jue,t},tce=Ue,rce=Za,nce=function(t,r,e){try{return tce(rce(Object.getOwnPropertyDescriptor(t,r)[e]))}catch{}},ice=Gt,ace=String,sce=TypeError,oce=function(t){if(typeof t=="object"||ice(t))return t;throw new sce("Can't set "+ace(t)+" as a prototype")},lce=nce,uce=Ur,cce=oce,dce=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,r={},e;try{e=lce(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch{}return function(i,a){return uce(i),cce(a),t?e(i,a):i.__proto__=a,i}}():void 0),fce=ke,hce=Wr,vce=lue,pce=ece,gce=ih,yce=Ro,Zw=ju,mce=Et,Qw=Mo,bce=WP,$ce=vce.PROPER,Ic=bce.BUGGY_SAFARI_ITERATORS,yp=mce("iterator"),Jw="keys",Pc="values",e_="entries",Ace=function(){return this},hb=function(t,r,e,n,i,a,s){pce(e,r,n);var o=function(y){if(y===i&&f)return f;if(!Ic&&y&&y in c)return c[y];switch(y){case Jw:return function(){return new e(this,y)};case Pc:return function(){return new e(this,y)};case e_:return function(){return new e(this,y)}}return function(){return new e(this)}},l=r+" Iterator",u=!1,c=t.prototype,d=c[yp]||c["@@iterator"]||i&&c[i],f=!Ic&&d||o(i),h=r==="Array"&&c.entries||d,v,p,m;if(h&&(v=gce(h.call(new t)),v!==Object.prototype&&v.next&&(yce(v,l,!0,!0),Qw[l]=Ace)),$ce&&i===Pc&&d&&d.name!==Pc&&(u=!0,f=function(){return hce(d,this)}),i)if(p={values:o(Pc),keys:a?f:o(Jw),entries:o(e_)},s)for(m in p)(Ic||u||!(m in c))&&Zw(c,m,p[m]);else fce({target:r,proto:!0,forced:Ic||u},p);return s&&c[yp]!==f&&Zw(c,yp,f,{name:i}),Qw[r]=f,p},vb=function(t,r){return{value:t,done:r}},wce=Ule.charAt,_ce=Wn,VP=Ja,Sce=hb,t_=vb,UP="String Iterator",kce=VP.set,Ece=VP.getterFor(UP);Sce(String,"String",function(t){kce(this,{type:UP,string:_ce(t),index:0})},function(){var r=Ece(this),e=r.string,n=r.index,i;return n>=e.length?t_(void 0,!0):(i=wce(e,n),r.index+=i.length,t_(i,!1))});var Tce=Wr,r_=Ur,Oce=ab,GP=function(t,r,e){var n,i;r_(t);try{if(n=Oce(t,"return"),!n){if(r==="throw")throw e;return e}n=Tce(n,t)}catch(a){i=!0,n=a}if(r==="throw")throw e;if(i)throw n;return r_(n),e},Cce=Ur,Ice=GP,Pce=function(t,r,e,n){try{return n?r(Cce(e)[0],e[1]):r(e)}catch(i){Ice(t,"throw",i)}},xce=Et,Rce=Mo,Mce=xce("iterator"),Dce=Array.prototype,KP=function(t){return t!==void 0&&(Rce.Array===t||Dce[Mce]===t)},Fce=Ue,Bce=Gt,uy=sb,Nce=Fce(Function.toString);Bce(uy.inspectSource)||(uy.inspectSource=function(t){return Nce(t)});var Lce=uy.inspectSource,jce=Ue,zce=We,qP=Gt,Hce=Qa,Wce=nn,Vce=Lce,YP=function(){},Uce=[],XP=Wce("Reflect","construct"),pb=/^\s*(?:class|function)\b/,Gce=jce(pb.exec),Kce=!pb.test(YP),qo=function(r){if(!qP(r))return!1;try{return XP(YP,Uce,r),!0}catch{return!1}},ZP=function(r){if(!qP(r))return!1;switch(Hce(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Kce||!!Gce(pb,Vce(r))}catch{return!0}};ZP.sham=!0;var ah=!XP||zce(function(){var t;return qo(qo.call)||!qo(Object)||!qo(function(){t=!0})||t})?ZP:qo,qce=Qf,Yce=Vr,Xce=Iu,Do=function(t,r,e){var n=qce(r);n in t?Yce.f(t,n,Xce(0,e)):t[n]=e},Zce=Qa,n_=ab,Qce=To,Jce=Mo,ede=Et,tde=ede("iterator"),sh=function(t){if(!Qce(t))return n_(t,tde)||n_(t,"@@iterator")||Jce[Zce(t)]},rde=Wr,nde=Za,ide=Ur,ade=Co,sde=sh,ode=TypeError,QP=function(t,r){var e=arguments.length<2?sde(t):r;if(nde(e))return ide(rde(e,t));throw new ode(ade(t)+" is not iterable")},lde=Fu,ude=Wr,cde=xr,dde=Pce,fde=KP,hde=ah,vde=an,i_=Do,pde=QP,gde=sh,a_=Array,yde=function(r){var e=cde(r),n=hde(this),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0;s&&(a=lde(a,i>2?arguments[2]:void 0));var o=gde(e),l=0,u,c,d,f,h,v;if(o&&!(this===a_&&fde(o)))for(f=pde(e,o),h=f.next,c=n?new this:[];!(d=ude(h,f)).done;l++)v=s?dde(f,a,[d.value,l],!0):d.value,i_(c,l,v);else for(u=vde(e),c=n?new this(u):a_(u);u>l;l++)v=s?a(e[l],l):e[l],i_(c,l,v);return c.length=l,c},mde=Et,JP=mde("iterator"),e2=!1;try{var bde=0,s_={next:function(){return{done:!!bde++}},return:function(){e2=!0}};s_[JP]=function(){return this},Array.from(s_,function(){throw 2})}catch{}var $de=function(t,r){try{if(!r&&!e2)return!1}catch{return!1}var e=!1;try{var n={};n[JP]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch{}return e},Ade=ke,wde=yde,_de=$de,Sde=!_de(function(t){Array.from(t)});Ade({target:"Array",stat:!0,forced:Sde},{from:wde});var kde=Ve,Ede=kde.Array.from,Tde=Ede,t2=Tde,Ode=t2,es=ye(Ode),Cde=Hn,o_=Mo,r2=Ja;Vr.f;var Ide=hb,xc=vb,n2="Array Iterator",Pde=r2.set,xde=r2.getterFor(n2);Ide(Array,"Array",function(t,r){Pde(this,{type:n2,target:Cde(t),index:0,kind:r})},function(){var t=xde(this),r=t.target,e=t.kind,n=t.index++;if(!r||n>=r.length)return t.target=void 0,xc(void 0,!0);switch(e){case"keys":return xc(n,!1);case"values":return xc(r[n],!1)}return xc([n,r[n]],!1)},"values");o_.Arguments=o_.Array;var Rde=sh,Mde=Rde,Dde={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Fde=Dde,Bde=kt,Nde=Qa,Lde=Po,l_=Mo,jde=Et,u_=jde("toStringTag");for(var mp in Fde){var c_=Bde[mp],bp=c_&&c_.prototype;bp&&Nde(bp)!==u_&&Lde(bp,u_,mp),l_[mp]=l_.Array}var zde=Mde,Hde=zde,Wde=Hde,Vde=Wde,Ude=Vde,Gde=Ude,i2=Gde,a2=ye(i2),Kde=i2,ts=ye(Kde);function re(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var s2={exports:{}},qde=ke,Yde=Kt,d_=Vr.f;qde({target:"Object",stat:!0,forced:Object.defineProperty!==d_,sham:!Yde},{defineProperty:d_});var Xde=Ve,o2=Xde.Object,Zde=s2.exports=function(r,e,n){return o2.defineProperty(r,e,n)};o2.defineProperty.sham&&(Zde.sham=!0);var Qde=s2.exports,Jde=Qde,l2=Jde,efe=l2,tfe=efe,rfe=tfe,nfe=rfe,ife=nfe,oh=ye(ife),afe=pi,rs=Array.isArray||function(r){return afe(r)==="Array"},sfe=TypeError,ofe=9007199254740991,gb=function(t){if(t>ofe)throw sfe("Maximum allowed index exceeded");return t},f_=rs,lfe=ah,ufe=qt,cfe=Et,dfe=cfe("species"),h_=Array,ffe=function(t){var r;return f_(t)&&(r=t.constructor,lfe(r)&&(r===h_||f_(r.prototype))?r=void 0:ufe(r)&&(r=r[dfe],r===null&&(r=void 0))),r===void 0?h_:r},hfe=ffe,yb=function(t,r){return new(hfe(t))(r===0?0:r)},vfe=We,pfe=Et,gfe=Ru,yfe=pfe("species"),zu=function(t){return gfe>=51||!vfe(function(){var r=[],e=r.constructor={};return e[yfe]=function(){return{foo:1}},r[t](Boolean).foo!==1})},mfe=ke,bfe=We,$fe=rs,Afe=qt,wfe=xr,_fe=an,v_=gb,p_=Do,Sfe=yb,kfe=zu,Efe=Et,Tfe=Ru,u2=Efe("isConcatSpreadable"),Ofe=Tfe>=51||!bfe(function(){var t=[];return t[u2]=!1,t.concat()[0]!==t}),Cfe=function(t){if(!Afe(t))return!1;var r=t[u2];return r!==void 0?!!r:$fe(t)},Ife=!Ofe||!kfe("concat");mfe({target:"Array",proto:!0,arity:1,forced:Ife},{concat:function(r){var e=wfe(this),n=Sfe(e,0),i=0,a,s,o,l,u;for(a=-1,o=arguments.length;a<o;a++)if(u=a===-1?e:arguments[a],Cfe(u))for(l=_fe(u),v_(i+l),s=0;s<l;s++,i++)s in u&&p_(n,i,u[s]);else v_(i+1),p_(n,i++,u);return n.length=i,n}});var Hu={},Pfe=kP,xfe=lb,Rfe=xfe.concat("length","prototype");Hu.f=Object.getOwnPropertyNames||function(r){return Pfe(r,Rfe)};var lh={},g_=Bu,Mfe=an,Dfe=Do,Ffe=Array,Bfe=Math.max,c2=function(t,r,e){for(var n=Mfe(t),i=g_(r,n),a=g_(e===void 0?n:e,n),s=Ffe(Bfe(a-i,0)),o=0;i<a;i++,o++)Dfe(s,o,t[i]);return s.length=o,s},Nfe=pi,Lfe=Hn,d2=Hu.f,jfe=c2,f2=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zfe=function(t){try{return d2(t)}catch{return jfe(f2)}};lh.f=function(r){return f2&&Nfe(r)==="Window"?zfe(r):d2(Lfe(r))};var Hfe=Vr,mb=function(t,r,e){return Hfe.f(t,r,e)},Wu={},Wfe=Et;Wu.f=Wfe;var y_=Ve,Vfe=Yt,Ufe=Wu,Gfe=Vr.f,Tt=function(t){var r=y_.Symbol||(y_.Symbol={});Vfe(r,t)||Gfe(r,t,{value:Ufe.f(t)})},Kfe=Wr,qfe=nn,Yfe=Et,Xfe=ju,h2=function(){var t=qfe("Symbol"),r=t&&t.prototype,e=r&&r.valueOf,n=Yfe("toPrimitive");r&&!r[n]&&Xfe(r,n,function(i){return Kfe(e,this)},{arity:1})},Zfe=Fu,Qfe=Ue,Jfe=Xf,ehe=xr,the=an,rhe=yb,m_=Qfe([].push),bi=function(t){var r=t===1,e=t===2,n=t===3,i=t===4,a=t===6,s=t===7,o=t===5||a;return function(l,u,c,d){for(var f=ehe(l),h=Jfe(f),v=Zfe(u,c),p=the(h),m=0,y=d||rhe,b=r?y(l,p):e||s?y(l,0):void 0,A,$;p>m;m++)if((o||m in h)&&(A=h[m],$=v(A,m,f),t))if(r)b[m]=$;else if($)switch(t){case 3:return!0;case 5:return A;case 6:return m;case 2:m_(b,A)}else switch(t){case 4:return!1;case 7:m_(b,A)}return a?-1:n||i?i:b}},Qi={forEach:bi(0),map:bi(1),filter:bi(2),some:bi(3),every:bi(4),find:bi(5),findIndex:bi(6),filterReject:bi(7)},uh=ke,ch=kt,bb=Wr,nhe=Ue,io=Kt,ao=Oo,ihe=We,Ht=Yt,ahe=Ct,cy=Ur,dh=Hn,$b=Qf,she=Wn,dy=Iu,Kl=xo,v2=eh,ohe=Hu,p2=lh,lhe=Lu,g2=Eo,y2=Vr,uhe=nh,m2=Yf,b_=ju,che=mb,Ab=Io,dhe=rh,b2=Nu,$_=Zf,fhe=Et,hhe=Wu,vhe=Tt,phe=h2,ghe=Ro,$2=Ja,fh=Qi.forEach,Sr=dhe("hidden"),hh="Symbol",ql="prototype",yhe=$2.set,A_=$2.getterFor(hh),hn=Object[ql],ka=ch.Symbol,tl=ka&&ka[ql],mhe=ch.RangeError,bhe=ch.TypeError,$p=ch.QObject,A2=g2.f,Ea=y2.f,w2=p2.f,$he=m2.f,_2=nhe([].push),ci=Ab("symbols"),Vu=Ab("op-symbols"),Ahe=Ab("wks"),fy=!$p||!$p[ql]||!$p[ql].findChild,S2=function(t,r,e){var n=A2(hn,r);n&&delete hn[r],Ea(t,r,e),n&&t!==hn&&Ea(hn,r,n)},hy=io&&ihe(function(){return Kl(Ea({},"a",{get:function(){return Ea(this,"a",{value:7}).a}})).a!==7})?S2:Ea,Ap=function(t,r){var e=ci[t]=Kl(tl);return yhe(e,{type:hh,tag:t,description:r}),io||(e.description=r),e},vh=function(r,e,n){r===hn&&vh(Vu,e,n),cy(r);var i=$b(e);return cy(n),Ht(ci,i)?(n.enumerable?(Ht(r,Sr)&&r[Sr][i]&&(r[Sr][i]=!1),n=Kl(n,{enumerable:dy(0,!1)})):(Ht(r,Sr)||Ea(r,Sr,dy(1,{})),r[Sr][i]=!0),hy(r,i,n)):Ea(r,i,n)},wb=function(r,e){cy(r);var n=dh(e),i=v2(n).concat(O2(n));return fh(i,function(a){(!io||bb(k2,n,a))&&vh(r,a,n[a])}),r},whe=function(r,e){return e===void 0?Kl(r):wb(Kl(r),e)},k2=function(r){var e=$b(r),n=bb($he,this,e);return this===hn&&Ht(ci,e)&&!Ht(Vu,e)?!1:n||!Ht(this,e)||!Ht(ci,e)||Ht(this,Sr)&&this[Sr][e]?n:!0},E2=function(r,e){var n=dh(r),i=$b(e);if(!(n===hn&&Ht(ci,i)&&!Ht(Vu,i))){var a=A2(n,i);return a&&Ht(ci,i)&&!(Ht(n,Sr)&&n[Sr][i])&&(a.enumerable=!0),a}},T2=function(r){var e=w2(dh(r)),n=[];return fh(e,function(i){!Ht(ci,i)&&!Ht(b2,i)&&_2(n,i)}),n},O2=function(t){var r=t===hn,e=w2(r?Vu:dh(t)),n=[];return fh(e,function(i){Ht(ci,i)&&(!r||Ht(hn,i))&&_2(n,ci[i])}),n};ao||(ka=function(){if(ahe(tl,this))throw new bhe("Symbol is not a constructor");var r=!arguments.length||arguments[0]===void 0?void 0:she(arguments[0]),e=$_(r),n=function(i){this===hn&&bb(n,Vu,i),Ht(this,Sr)&&Ht(this[Sr],e)&&(this[Sr][e]=!1);var a=dy(1,i);try{hy(this,e,a)}catch(s){if(!(s instanceof mhe))throw s;S2(this,e,a)}};return io&&fy&&hy(hn,e,{configurable:!0,set:n}),Ap(e,r)},tl=ka[ql],b_(tl,"toString",function(){return A_(this).tag}),b_(ka,"withoutSetter",function(t){return Ap($_(t),t)}),m2.f=k2,y2.f=vh,uhe.f=wb,g2.f=E2,ohe.f=p2.f=T2,lhe.f=O2,hhe.f=function(t){return Ap(fhe(t),t)},io&&che(tl,"description",{configurable:!0,get:function(){return A_(this).description}}));uh({global:!0,constructor:!0,wrap:!0,forced:!ao,sham:!ao},{Symbol:ka});fh(v2(Ahe),function(t){vhe(t)});uh({target:hh,stat:!0,forced:!ao},{useSetter:function(){fy=!0},useSimple:function(){fy=!1}});uh({target:"Object",stat:!0,forced:!ao,sham:!io},{create:whe,defineProperty:vh,defineProperties:wb,getOwnPropertyDescriptor:E2});uh({target:"Object",stat:!0,forced:!ao},{getOwnPropertyNames:T2});phe();ghe(ka,hh);b2[Sr]=!0;var _he=Oo,C2=_he&&!!Symbol.for&&!!Symbol.keyFor,She=ke,khe=nn,Ehe=Yt,The=Wn,I2=Io,Ohe=C2,wp=I2("string-to-symbol-registry"),Che=I2("symbol-to-string-registry");She({target:"Symbol",stat:!0,forced:!Ohe},{for:function(t){var r=The(t);if(Ehe(wp,r))return wp[r];var e=khe("Symbol")(r);return wp[r]=e,Che[e]=r,e}});var Ihe=ke,Phe=Yt,xhe=Mu,Rhe=Co,Mhe=Io,Dhe=C2,w_=Mhe("symbol-to-string-registry");Ihe({target:"Symbol",stat:!0,forced:!Dhe},{keyFor:function(r){if(!xhe(r))throw new TypeError(Rhe(r)+" is not a symbol");if(Phe(w_,r))return w_[r]}});var Fhe=Ue,__=rs,Bhe=Gt,S_=pi,Nhe=Wn,k_=Fhe([].push),Lhe=function(t){if(Bhe(t))return t;if(__(t)){for(var r=t.length,e=[],n=0;n<r;n++){var i=t[n];typeof i=="string"?k_(e,i):(typeof i=="number"||S_(i)==="Number"||S_(i)==="String")&&k_(e,Nhe(i))}var a=e.length,s=!0;return function(o,l){if(s)return s=!1,l;if(__(this))return l;for(var u=0;u<a;u++)if(e[u]===o)return l}}},jhe=ke,P2=nn,x2=Cu,zhe=Wr,Uu=Ue,R2=We,E_=Gt,T_=Mu,M2=th,Hhe=Lhe,Whe=Oo,Vhe=String,Fi=P2("JSON","stringify"),Rc=Uu(/./.exec),O_=Uu("".charAt),Uhe=Uu("".charCodeAt),Ghe=Uu("".replace),Khe=Uu(1 .toString),qhe=/[\uD800-\uDFFF]/g,C_=/^[\uD800-\uDBFF]$/,I_=/^[\uDC00-\uDFFF]$/,P_=!Whe||R2(function(){var t=P2("Symbol")("stringify detection");return Fi([t])!=="[null]"||Fi({a:t})!=="{}"||Fi(Object(t))!=="{}"}),x_=R2(function(){return Fi("\uDF06\uD834")!=='"\\udf06\\ud834"'||Fi("\uDEAD")!=='"\\udead"'}),Yhe=function(t,r){var e=M2(arguments),n=Hhe(r);if(!(!E_(n)&&(t===void 0||T_(t))))return e[1]=function(i,a){if(E_(n)&&(a=zhe(n,this,Vhe(i),a)),!T_(a))return a},x2(Fi,null,e)},Xhe=function(t,r,e){var n=O_(e,r-1),i=O_(e,r+1);return Rc(C_,t)&&!Rc(I_,i)||Rc(I_,t)&&!Rc(C_,n)?"\\u"+Khe(Uhe(t,0),16):t};Fi&&jhe({target:"JSON",stat:!0,arity:3,forced:P_||x_},{stringify:function(r,e,n){var i=M2(arguments),a=x2(P_?Yhe:Fi,null,i);return x_&&typeof a=="string"?Ghe(a,qhe,Xhe):a}});var Zhe=ke,Qhe=Oo,Jhe=We,D2=Lu,eve=xr,tve=!Qhe||Jhe(function(){D2.f(1)});Zhe({target:"Object",stat:!0,forced:tve},{getOwnPropertySymbols:function(r){var e=D2.f;return e?e(eve(r)):[]}});var rve=Tt;rve("asyncIterator");var nve=Tt;nve("hasInstance");var ive=Tt;ive("isConcatSpreadable");var ave=Tt;ave("iterator");var sve=Tt;sve("match");var ove=Tt;ove("matchAll");var lve=Tt;lve("replace");var uve=Tt;uve("search");var cve=Tt;cve("species");var dve=Tt;dve("split");var fve=Tt,hve=h2;fve("toPrimitive");hve();var vve=nn,pve=Tt,gve=Ro;pve("toStringTag");gve(vve("Symbol"),"Symbol");var yve=Tt;yve("unscopables");var mve=kt,bve=Ro;bve(mve.JSON,"JSON",!0);var $ve=Ve,Ave=$ve.Symbol,wve=Ave,F2=wve,_ve=Et,Sve=Vr.f,R_=_ve("metadata"),M_=Function.prototype;M_[R_]===void 0&&Sve(M_,R_,{value:null});var kve=Tt;kve("asyncDispose");var Eve=Tt;Eve("dispose");var Tve=Tt;Tve("metadata");var Ove=F2,Cve=Ove,Ive=nn,Pve=Ue,_b=Ive("Symbol"),xve=_b.keyFor,Rve=Pve(_b.prototype.valueOf),B2=_b.isRegisteredSymbol||function(r){try{return xve(Rve(r))!==void 0}catch{return!1}},Mve=ke,Dve=B2;Mve({target:"Symbol",stat:!0},{isRegisteredSymbol:Dve});var Fve=Io,N2=nn,Bve=Ue,Nve=Mu,Lve=Et,Vd=N2("Symbol"),D_=Vd.isWellKnownSymbol,L2=N2("Object","getOwnPropertyNames"),jve=Bve(Vd.prototype.valueOf),F_=Fve("wks");for(var _p=0,B_=L2(Vd),zve=B_.length;_p<zve;_p++)try{var N_=B_[_p];Nve(Vd[N_])&&Lve(N_)}catch{}var j2=function(r){if(D_&&D_(r))return!0;try{for(var e=jve(r),n=0,i=L2(F_),a=i.length;n<a;n++)if(F_[i[n]]==e)return!0}catch{}return!1},Hve=ke,Wve=j2;Hve({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Wve});var Vve=Tt;Vve("matcher");var Uve=Tt;Uve("observable");var Gve=ke,Kve=B2;Gve({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Kve});var qve=ke,Yve=j2;qve({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Yve});var Xve=Tt;Xve("metadataKey");var Zve=Tt;Zve("patternMatch");var Qve=Tt;Qve("replaceAll");var Jve=Cve,epe=Jve,tpe=epe,Ms=ye(tpe),rpe=Wu,npe=rpe.f("iterator"),ipe=npe,ape=ipe,spe=ape,ope=spe,lpe=ope,upe=lpe,cpe=upe,dpe=ye(cpe);function rt(t){"@babel/helpers - typeof";return rt=typeof Ms=="function"&&typeof dpe=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Ms=="function"&&r.constructor===Ms&&r!==Ms.prototype?"symbol":typeof r},rt(t)}var fpe=Wu,hpe=fpe.f("toPrimitive"),vpe=hpe,ppe=vpe,gpe=ppe,ype=gpe,mpe=ype,bpe=mpe,$pe=bpe,Ape=ye($pe);function wpe(t,r){if(rt(t)!=="object"||t===null)return t;var e=t[Ape];if(e!==void 0){var n=e.call(t,r||"default");if(rt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function z2(t){var r=wpe(t,"string");return rt(r)==="symbol"?r:String(r)}function L_(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),oh(t,z2(n.key),n)}}function ne(t,r,e){return r&&L_(t.prototype,r),e&&L_(t,e),oh(t,"prototype",{writable:!1}),t}var _pe=ke,Spe=rs;_pe({target:"Array",stat:!0},{isArray:Spe});var kpe=Ve,Epe=kpe.Array.isArray,Tpe=Epe,H2=Tpe,Ope=H2,Cpe=Ope,Ipe=Cpe,Ppe=Ipe,xpe=Ppe,W2=ye(xpe);function Rpe(t){if(W2(t))return t}var Mpe=Kt,Dpe=rs,Fpe=TypeError,Bpe=Object.getOwnPropertyDescriptor,Npe=Mpe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),V2=Npe?function(t,r){if(Dpe(t)&&!Bpe(t,"length").writable)throw new Fpe("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r},Lpe=ke,jpe=xr,zpe=an,Hpe=V2,Wpe=gb,Vpe=We,Upe=Vpe(function(){return[].push.call({length:4294967296},1)!==4294967297}),Gpe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},Kpe=Upe||!Gpe();Lpe({target:"Array",proto:!0,arity:1,forced:Kpe},{push:function(r){var e=jpe(this),n=zpe(e),i=arguments.length;Wpe(n+i);for(var a=0;a<i;a++)e[n]=arguments[a],n++;return Hpe(e,n),n}});var qpe=Xt,Ype=qpe("Array").push,Xpe=Ct,Zpe=Ype,Sp=Array.prototype,Qpe=function(t){var r=t.push;return t===Sp||Xpe(Sp,t)&&r===Sp.push?Zpe:r},Jpe=Qpe,ege=Jpe,tge=ege,rge=tge,nge=rge,ige=nge,age=ige,sge=ye(age);function oge(t,r){var e=t==null?null:typeof Ms<"u"&&a2(t)||t["@@iterator"];if(e!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(e=e.call(t)).next,r===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=a.call(e)).done)&&(sge(o).call(o,n.value),o.length!==r);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}var lge=ke,j_=rs,uge=ah,cge=qt,z_=Bu,dge=an,fge=Hn,hge=Do,vge=Et,pge=zu,gge=th,yge=pge("slice"),mge=vge("species"),kp=Array,bge=Math.max;lge({target:"Array",proto:!0,forced:!yge},{slice:function(r,e){var n=fge(this),i=dge(n),a=z_(r,i),s=z_(e===void 0?i:e,i),o,l,u;if(j_(n)&&(o=n.constructor,uge(o)&&(o===kp||j_(o.prototype))?o=void 0:cge(o)&&(o=o[mge],o===null&&(o=void 0)),o===kp||o===void 0))return gge(n,a,s);for(l=new(o===void 0?kp:o)(bge(s-a,0)),u=0;a<s;a++,u++)a in n&&hge(l,u,n[a]);return l.length=u,l}});var $ge=Xt,Age=$ge("Array").slice,wge=Ct,_ge=Age,Ep=Array.prototype,Sge=function(t){var r=t.slice;return t===Ep||wge(Ep,t)&&r===Ep.slice?_ge:r},kge=Sge,U2=kge,Ege=U2,Tge=Ege,Oge=Tge,Cge=Oge,Ige=Cge,Pge=ye(Ige),xge=t2,Rge=xge,Mge=Rge,Dge=Mge,Fge=Dge,G2=ye(Fge);function vy(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function K2(t,r){var e;if(t){if(typeof t=="string")return vy(t,r);var n=Pge(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return G2(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(t,r)}}function Bge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(t,r){return Rpe(t)||oge(t,r)||K2(t,r)||Bge()}function Nge(t){if(W2(t))return vy(t)}function Lge(t){if(typeof Ms<"u"&&a2(t)!=null||t["@@iterator"]!=null)return G2(t)}function jge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function In(t){return Nge(t)||Lge(t)||K2(t)||jge()}var zge=F2,Ji=ye(zge),Hge=Xt,Wge=Hge("Array").concat,Vge=Ct,Uge=Wge,Tp=Array.prototype,Gge=function(t){var r=t.concat;return t===Tp||Vge(Tp,t)&&r===Tp.concat?Uge:r},Kge=Gge,qge=Kge,Yge=qge,Sb=ye(Yge),Xge=U2,Jt=ye(Xge),Zge=nn,Qge=Ue,Jge=Hu,eye=Lu,tye=Ur,rye=Qge([].concat),nye=Zge("Reflect","ownKeys")||function(r){var e=Jge.f(tye(r)),n=eye.f;return n?rye(e,n(r)):e},iye=H2,et=ye(iye),aye=ke,sye=Qi.map,oye=zu,lye=oye("map");aye({target:"Array",proto:!0,forced:!lye},{map:function(r){return sye(this,r,arguments.length>1?arguments[1]:void 0)}});var uye=Xt,cye=uye("Array").map,dye=Ct,fye=cye,Op=Array.prototype,hye=function(t){var r=t.map;return t===Op||dye(Op,t)&&r===Op.map?fye:r},vye=hye,pye=vye,gye=pye,so=ye(gye),yye=ke,mye=xr,q2=eh,bye=We,$ye=bye(function(){q2(1)});yye({target:"Object",stat:!0,forced:$ye},{keys:function(r){return q2(mye(r))}});var Aye=Ve,wye=Aye.Object.keys,_ye=wye,Sye=_ye,kye=Sye,bt=ye(kye),Eye=ke,Tye=Ue,Y2=Date,Oye=Tye(Y2.prototype.getTime);Eye({target:"Date",stat:!0},{now:function(){return Oye(new Y2)}});var Cye=Ve,Iye=Cye.Date.now,Pye=Iye,xye=Pye,Rye=xye,Ud=ye(Rye),Mye=We,Fo=function(t,r){var e=[][t];return!!e&&Mye(function(){e.call(null,r||function(){return 1},1)})},Dye=Qi.forEach,Fye=Fo,Bye=Fye("forEach"),Nye=Bye?[].forEach:function(r){return Dye(this,r,arguments.length>1?arguments[1]:void 0)},Lye=ke,H_=Nye;Lye({target:"Array",proto:!0,forced:[].forEach!==H_},{forEach:H_});var jye=Xt,zye=jye("Array").forEach,Hye=zye,Wye=Hye,Vye=Qa,Uye=Yt,Gye=Ct,Kye=Wye,Cp=Array.prototype,qye={DOMTokenList:!0,NodeList:!0},Yye=function(t){var r=t.forEach;return t===Cp||Gye(Cp,t)&&r===Cp.forEach||Uye(qye,Vye(t))?Kye:r},Xye=Yye,ot=ye(Xye),Zye=ke,Qye=Ue,Jye=rs,eme=Qye([].reverse),W_=[1,2];Zye({target:"Array",proto:!0,forced:String(W_)===String(W_.reverse())},{reverse:function(){return Jye(this)&&(this.length=this.length),eme(this)}});var tme=Xt,rme=tme("Array").reverse,nme=Ct,ime=rme,Ip=Array.prototype,ame=function(t){var r=t.reverse;return t===Ip||nme(Ip,t)&&r===Ip.reverse?ime:r},sme=ame,ome=sme,lme=ome,Ta=ye(lme),V_=Co,ume=TypeError,X2=function(t,r){if(!delete t[r])throw new ume("Cannot delete property "+V_(r)+" of "+V_(t))},cme=ke,dme=xr,fme=Bu,hme=Jf,vme=an,pme=V2,gme=gb,yme=yb,mme=Do,Pp=X2,bme=zu,$me=bme("splice"),Ame=Math.max,wme=Math.min;cme({target:"Array",proto:!0,forced:!$me},{splice:function(r,e){var n=dme(this),i=vme(n),a=fme(r,i),s=arguments.length,o,l,u,c,d,f;for(s===0?o=l=0:s===1?(o=0,l=i-a):(o=s-2,l=wme(Ame(hme(e),0),i-a)),gme(i+o-l),u=yme(n,l),c=0;c<l;c++)d=a+c,d in n&&mme(u,c,n[d]);if(u.length=l,o<l){for(c=a;c<i-l;c++)d=c+l,f=c+o,d in n?n[f]=n[d]:Pp(n,f);for(c=i;c>i-l+o;c--)Pp(n,c-1)}else if(o>l)for(c=i-l;c>a;c--)d=c+l-1,f=c+o-1,d in n?n[f]=n[d]:Pp(n,f);for(c=0;c<o;c++)n[c+a]=arguments[c+2];return pme(n,i-l+o),u}});var _me=Xt,Sme=_me("Array").splice,kme=Ct,Eme=Sme,xp=Array.prototype,Tme=function(t){var r=t.splice;return t===xp||kme(xp,t)&&r===xp.splice?Eme:r},Ome=Tme,Cme=Ome,Ime=Cme,ni=ye(Ime),Pme=ke,xme=ob.includes,Rme=We,Mme=Rme(function(){return!Array(1).includes()});Pme({target:"Array",proto:!0,forced:Mme},{includes:function(r){return xme(this,r,arguments.length>1?arguments[1]:void 0)}});var Dme=Xt,Fme=Dme("Array").includes,Bme=qt,Nme=pi,Lme=Et,jme=Lme("match"),zme=function(t){var r;return Bme(t)&&((r=t[jme])!==void 0?!!r:Nme(t)==="RegExp")},Hme=zme,Wme=TypeError,Vme=function(t){if(Hme(t))throw new Wme("The method doesn't accept regular expressions");return t},Ume=Et,Gme=Ume("match"),Kme=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[Gme]=!1,"/./"[t](r)}catch{}}return!1},qme=ke,Yme=Ue,Xme=Vme,Zme=Pu,U_=Wn,Qme=Kme,Jme=Yme("".indexOf);qme({target:"String",proto:!0,forced:!Qme("includes")},{includes:function(r){return!!~Jme(U_(Zme(this)),U_(Xme(r)),arguments.length>1?arguments[1]:void 0)}});var ebe=Xt,tbe=ebe("String").includes,G_=Ct,rbe=Fme,nbe=tbe,Rp=Array.prototype,Mp=String.prototype,ibe=function(t){var r=t.includes;return t===Rp||G_(Rp,t)&&r===Rp.includes?rbe:typeof t=="string"||t===Mp||G_(Mp,t)&&r===Mp.includes?nbe:r},abe=ibe,sbe=abe,obe=sbe,Bi=ye(obe),lbe=ke,ube=We,cbe=xr,Z2=ih,dbe=zP,fbe=ube(function(){Z2(1)});lbe({target:"Object",stat:!0,forced:fbe,sham:!dbe},{getPrototypeOf:function(r){return Z2(cbe(r))}});var hbe=Ve,vbe=hbe.Object.getPrototypeOf,pbe=vbe,Q2=pbe,gbe=Q2,K_=ye(gbe),ybe=ke,mbe=Qi.filter,bbe=zu,$be=bbe("filter");ybe({target:"Array",proto:!0,forced:!$be},{filter:function(r){return mbe(this,r,arguments.length>1?arguments[1]:void 0)}});var Abe=Xt,wbe=Abe("Array").filter,_be=Ct,Sbe=wbe,Dp=Array.prototype,kbe=function(t){var r=t.filter;return t===Dp||_be(Dp,t)&&r===Dp.filter?Sbe:r},Ebe=kbe,Tbe=Ebe,Obe=Tbe,Er=ye(Obe),kb=`	
\v\f\r                　\u2028\u2029\uFEFF`,Cbe=Ue,Ibe=Pu,Pbe=Wn,py=kb,q_=Cbe("".replace),xbe=RegExp("^["+py+"]+"),Rbe=RegExp("(^|[^"+py+"])["+py+"]+$"),Fp=function(t){return function(r){var e=Pbe(Ibe(r));return t&1&&(e=q_(e,xbe,"")),t&2&&(e=q_(e,Rbe,"$1")),e}},J2={start:Fp(1),end:Fp(2),trim:Fp(3)},ex=kt,Mbe=We,Dbe=Ue,Fbe=Wn,Bbe=J2.trim,Y_=kb,$l=ex.parseInt,X_=ex.Symbol,Z_=X_&&X_.iterator,tx=/^[+-]?0x/i,Nbe=Dbe(tx.exec),Lbe=$l(Y_+"08")!==8||$l(Y_+"0x16")!==22||Z_&&!Mbe(function(){$l(Object(Z_))}),jbe=Lbe?function(r,e){var n=Bbe(Fbe(r));return $l(n,e>>>0||(Nbe(tx,n)?16:10))}:$l,zbe=ke,Q_=jbe;zbe({global:!0,forced:parseInt!==Q_},{parseInt:Q_});var Hbe=Ve,Wbe=Hbe.parseInt,Vbe=Wbe,Ube=Vbe,Gbe=Ube,dn=ye(Gbe),Kbe=ke,qbe=ib,Ybe=ob.indexOf,Xbe=Fo,gy=qbe([].indexOf),rx=!!gy&&1/gy([1],1,-0)<0,Zbe=rx||!Xbe("indexOf");Kbe({target:"Array",proto:!0,forced:Zbe},{indexOf:function(r){var e=arguments.length>1?arguments[1]:void 0;return rx?gy(this,r,e)||0:Ybe(this,r,e)}});var Qbe=Xt,Jbe=Qbe("Array").indexOf,e1e=Ct,t1e=Jbe,Bp=Array.prototype,r1e=function(t){var r=t.indexOf;return t===Bp||e1e(Bp,t)&&r===Bp.indexOf?t1e:r},n1e=r1e,i1e=n1e,a1e=i1e,He=ye(a1e),s1e=ke,o1e=Kt,l1e=xo;s1e({target:"Object",stat:!0,sham:!o1e},{create:l1e});var u1e=Ve,c1e=u1e.Object,d1e=function(r,e){return c1e.create(r,e)},f1e=d1e,nx=f1e,h1e=nx,Oa=ye(h1e),yy=Ve,v1e=Cu;yy.JSON||(yy.JSON={stringify:JSON.stringify});var p1e=function(r,e,n){return v1e(yy.JSON.stringify,null,arguments)},g1e=p1e,y1e=g1e,m1e=y1e,Gu=ye(m1e),b1e=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",$1e=TypeError,A1e=function(t,r){if(t<r)throw new $1e("Not enough arguments");return t},ix=kt,w1e=Cu,_1e=Gt,S1e=b1e,k1e=xu,E1e=th,T1e=A1e,O1e=ix.Function,C1e=/MSIE .\./.test(k1e)||S1e&&function(){var t=ix.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),ax=function(t,r){var e=r?2:1;return C1e?function(n,i){var a=T1e(arguments.length,1)>e,s=_1e(n)?n:O1e(n),o=a?E1e(arguments,e):[],l=a?function(){w1e(s,this,o)}:s;return r?t(l,i):t(l)}:t},I1e=ke,sx=kt,P1e=ax,J_=P1e(sx.setInterval,!0);I1e({global:!0,bind:!0,forced:sx.setInterval!==J_},{setInterval:J_});var x1e=ke,ox=kt,R1e=ax,eS=R1e(ox.setTimeout,!0);x1e({global:!0,bind:!0,forced:ox.setTimeout!==eS},{setTimeout:eS});var M1e=Ve,D1e=M1e.setTimeout,F1e=D1e,Bn=ye(F1e),B1e=xr,tS=Bu,N1e=an,L1e=function(r){for(var e=B1e(this),n=N1e(e),i=arguments.length,a=tS(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,o=s===void 0?n:tS(s,n);o>a;)e[a++]=r;return e},j1e=ke,z1e=L1e;j1e({target:"Array",proto:!0},{fill:z1e});var H1e=Xt,W1e=H1e("Array").fill,V1e=Ct,U1e=W1e,Np=Array.prototype,G1e=function(t){var r=t.fill;return t===Np||V1e(Np,t)&&r===Np.fill?U1e:r},K1e=G1e,q1e=K1e,Y1e=q1e,Ku=ye(Y1e);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function bn(){return bn=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},bn.apply(this,arguments)}function sn(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}function Mc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var my;typeof Object.assign!="function"?my=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(r),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a])}return e}:my=Object.assign;var Na=my,rS=["","webkit","Moz","MS","ms","o"],X1e=typeof document>"u"?{style:{}}:document.createElement("div"),Z1e="function",Ds=Math.round,La=Math.abs,Eb=Date.now;function ph(t,r){for(var e,n,i=r[0].toUpperCase()+r.slice(1),a=0;a<rS.length;){if(e=rS[a],n=e?e+i:r,n in t)return n;a++}}var ii;typeof window>"u"?ii={}:ii=window;var lx=ph(X1e.style,"touchAction"),ux=lx!==void 0;function Q1e(){if(!ux)return!1;var t={},r=ii.CSS&&ii.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return t[e]=r?ii.CSS.supports("touch-action",e):!0}),t}var cx="compute",dx="auto",by="manipulation",Ca="none",Yl="pan-x",Xl="pan-y",Dc=Q1e(),J1e=/mobile|tablet|ip(ad|hone|od)|android/i,fx="ontouchstart"in ii,e$e=ph(ii,"PointerEvent")!==void 0,t$e=fx&&J1e.test(navigator.userAgent),qu="touch",r$e="pen",Tb="mouse",n$e="kinect",i$e=25,yr=1,ns=2,Rt=4,Or=8,Gd=1,Yu=2,Xu=4,Zu=8,oo=16,Nn=Yu|Xu,Ia=Zu|oo,hx=Nn|Ia,vx=["x","y"],Kd=["clientX","clientY"];function ai(t,r,e){var n;if(t)if(t.forEach)t.forEach(r,e);else if(t.length!==void 0)for(n=0;n<t.length;)r.call(e,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&r.call(e,t[n],n,t)}function gh(t,r){return typeof t===Z1e?t.apply(r&&r[0]||void 0,r):t}function ya(t,r){return t.indexOf(r)>-1}function a$e(t){if(ya(t,Ca))return Ca;var r=ya(t,Yl),e=ya(t,Xl);return r&&e?Ca:r||e?r?Yl:Xl:ya(t,by)?by:dx}var px=function(){function t(e,n){this.manager=e,this.set(n)}var r=t.prototype;return r.set=function(n){n===cx&&(n=this.compute()),ux&&this.manager.element.style&&Dc[n]&&(this.manager.element.style[lx]=n),this.actions=n.toLowerCase().trim()},r.update=function(){this.set(this.manager.options.touchAction)},r.compute=function(){var n=[];return ai(this.manager.recognizers,function(i){gh(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),a$e(n.join(" "))},r.preventDefaults=function(n){var i=n.srcEvent,a=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var s=this.actions,o=ya(s,Ca)&&!Dc[Ca],l=ya(s,Xl)&&!Dc[Xl],u=ya(s,Yl)&&!Dc[Yl];if(o){var c=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(c&&d&&f)return}if(!(u&&l)&&(o||l&&a&Nn||u&&a&Ia))return this.preventSrc(i)},r.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function Ob(t,r){for(;t;){if(t===r)return!0;t=t.parentNode}return!1}function gx(t){var r=t.length;if(r===1)return{x:Ds(t[0].clientX),y:Ds(t[0].clientY)};for(var e=0,n=0,i=0;i<r;)e+=t[i].clientX,n+=t[i].clientY,i++;return{x:Ds(e/r),y:Ds(n/r)}}function nS(t){for(var r=[],e=0;e<t.pointers.length;)r[e]={clientX:Ds(t.pointers[e].clientX),clientY:Ds(t.pointers[e].clientY)},e++;return{timeStamp:Eb(),pointers:r,center:gx(r),deltaX:t.deltaX,deltaY:t.deltaY}}function qd(t,r,e){e||(e=vx);var n=r[e[0]]-t[e[0]],i=r[e[1]]-t[e[1]];return Math.sqrt(n*n+i*i)}function $y(t,r,e){e||(e=vx);var n=r[e[0]]-t[e[0]],i=r[e[1]]-t[e[1]];return Math.atan2(i,n)*180/Math.PI}function yx(t,r){return t===r?Gd:La(t)>=La(r)?t<0?Yu:Xu:r<0?Zu:oo}function s$e(t,r){var e=r.center,n=t.offsetDelta||{},i=t.prevDelta||{},a=t.prevInput||{};(r.eventType===yr||a.eventType===Rt)&&(i=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:e.x,y:e.y}),r.deltaX=i.x+(e.x-n.x),r.deltaY=i.y+(e.y-n.y)}function mx(t,r,e){return{x:r/t||0,y:e/t||0}}function o$e(t,r){return qd(r[0],r[1],Kd)/qd(t[0],t[1],Kd)}function l$e(t,r){return $y(r[1],r[0],Kd)+$y(t[1],t[0],Kd)}function u$e(t,r){var e=t.lastInterval||r,n=r.timeStamp-e.timeStamp,i,a,s,o;if(r.eventType!==Or&&(n>i$e||e.velocity===void 0)){var l=r.deltaX-e.deltaX,u=r.deltaY-e.deltaY,c=mx(n,l,u);a=c.x,s=c.y,i=La(c.x)>La(c.y)?c.x:c.y,o=yx(l,u),t.lastInterval=r}else i=e.velocity,a=e.velocityX,s=e.velocityY,o=e.direction;r.velocity=i,r.velocityX=a,r.velocityY=s,r.direction=o}function c$e(t,r){var e=t.session,n=r.pointers,i=n.length;e.firstInput||(e.firstInput=nS(r)),i>1&&!e.firstMultiple?e.firstMultiple=nS(r):i===1&&(e.firstMultiple=!1);var a=e.firstInput,s=e.firstMultiple,o=s?s.center:a.center,l=r.center=gx(n);r.timeStamp=Eb(),r.deltaTime=r.timeStamp-a.timeStamp,r.angle=$y(o,l),r.distance=qd(o,l),s$e(e,r),r.offsetDirection=yx(r.deltaX,r.deltaY);var u=mx(r.deltaTime,r.deltaX,r.deltaY);r.overallVelocityX=u.x,r.overallVelocityY=u.y,r.overallVelocity=La(u.x)>La(u.y)?u.x:u.y,r.scale=s?o$e(s.pointers,n):1,r.rotation=s?l$e(s.pointers,n):0,r.maxPointers=e.prevInput?r.pointers.length>e.prevInput.maxPointers?r.pointers.length:e.prevInput.maxPointers:r.pointers.length,u$e(e,r);var c=t.element,d=r.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,Ob(f,c)&&(c=f),r.target=c}function d$e(t,r,e){var n=e.pointers.length,i=e.changedPointers.length,a=r&yr&&n-i===0,s=r&(Rt|Or)&&n-i===0;e.isFirst=!!a,e.isFinal=!!s,a&&(t.session={}),e.eventType=r,c$e(t,e),t.emit("hammer.input",e),t.recognize(e),t.session.prevInput=e}function Zl(t){return t.trim().split(/\s+/g)}function Al(t,r,e){ai(Zl(r),function(n){t.addEventListener(n,e,!1)})}function wl(t,r,e){ai(Zl(r),function(n){t.removeEventListener(n,e,!1)})}function iS(t){var r=t.ownerDocument||t;return r.defaultView||r.parentWindow||window}var Bo=function(){function t(e,n){var i=this;this.manager=e,this.callback=n,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){gh(e.options.enable,[e])&&i.handler(a)},this.init()}var r=t.prototype;return r.handler=function(){},r.init=function(){this.evEl&&Al(this.element,this.evEl,this.domHandler),this.evTarget&&Al(this.target,this.evTarget,this.domHandler),this.evWin&&Al(iS(this.element),this.evWin,this.domHandler)},r.destroy=function(){this.evEl&&wl(this.element,this.evEl,this.domHandler),this.evTarget&&wl(this.target,this.evTarget,this.domHandler),this.evWin&&wl(iS(this.element),this.evWin,this.domHandler)},t}();function ja(t,r,e){if(t.indexOf&&!e)return t.indexOf(r);for(var n=0;n<t.length;){if(e&&t[n][e]==r||!e&&t[n]===r)return n;n++}return-1}var f$e={pointerdown:yr,pointermove:ns,pointerup:Rt,pointercancel:Or,pointerout:Or},h$e={2:qu,3:r$e,4:Tb,5:n$e},bx="pointerdown",$x="pointermove pointerup pointercancel";ii.MSPointerEvent&&!ii.PointerEvent&&(bx="MSPointerDown",$x="MSPointerMove MSPointerUp MSPointerCancel");var Ax=function(t){sn(r,t);function r(){var n,i=r.prototype;return i.evEl=bx,i.evWin=$x,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var e=r.prototype;return e.handler=function(i){var a=this.store,s=!1,o=i.type.toLowerCase().replace("ms",""),l=f$e[o],u=h$e[i.pointerType]||i.pointerType,c=u===qu,d=ja(a,i.pointerId,"pointerId");l&yr&&(i.button===0||c)?d<0&&(a.push(i),d=a.length-1):l&(Rt|Or)&&(s=!0),!(d<0)&&(a[d]=i,this.callback(this.manager,l,{pointers:a,changedPointers:[i],pointerType:u,srcEvent:i}),s&&a.splice(d,1))},r}(Bo);function Ql(t){return Array.prototype.slice.call(t,0)}function Cb(t,r,e){for(var n=[],i=[],a=0;a<t.length;){var s=r?t[a][r]:t[a];ja(i,s)<0&&n.push(t[a]),i[a]=s,a++}return e&&(r?n=n.sort(function(o,l){return o[r]>l[r]}):n=n.sort()),n}var v$e={touchstart:yr,touchmove:ns,touchend:Rt,touchcancel:Or},p$e="touchstart touchmove touchend touchcancel",Ib=function(t){sn(r,t);function r(){var n;return r.prototype.evTarget=p$e,n=t.apply(this,arguments)||this,n.targetIds={},n}var e=r.prototype;return e.handler=function(i){var a=v$e[i.type],s=g$e.call(this,i,a);s&&this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:qu,srcEvent:i})},r}(Bo);function g$e(t,r){var e=Ql(t.touches),n=this.targetIds;if(r&(yr|ns)&&e.length===1)return n[e[0].identifier]=!0,[e,e];var i,a,s=Ql(t.changedTouches),o=[],l=this.target;if(a=e.filter(function(u){return Ob(u.target,l)}),r===yr)for(i=0;i<a.length;)n[a[i].identifier]=!0,i++;for(i=0;i<s.length;)n[s[i].identifier]&&o.push(s[i]),r&(Rt|Or)&&delete n[s[i].identifier],i++;if(o.length)return[Cb(a.concat(o),"identifier",!0),o]}var y$e={mousedown:yr,mousemove:ns,mouseup:Rt},m$e="mousedown",b$e="mousemove mouseup",Pb=function(t){sn(r,t);function r(){var n,i=r.prototype;return i.evEl=m$e,i.evWin=b$e,n=t.apply(this,arguments)||this,n.pressed=!1,n}var e=r.prototype;return e.handler=function(i){var a=y$e[i.type];a&yr&&i.button===0&&(this.pressed=!0),a&ns&&i.which!==1&&(a=Rt),this.pressed&&(a&Rt&&(this.pressed=!1),this.callback(this.manager,a,{pointers:[i],changedPointers:[i],pointerType:Tb,srcEvent:i}))},r}(Bo),$$e=2500,aS=25;function sS(t){var r=t.changedPointers,e=r[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n);var a=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(a,$$e)}}function A$e(t,r){t&yr?(this.primaryTouch=r.changedPointers[0].identifier,sS.call(this,r)):t&(Rt|Or)&&sS.call(this,r)}function w$e(t){for(var r=t.srcEvent.clientX,e=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],a=Math.abs(r-i.x),s=Math.abs(e-i.y);if(a<=aS&&s<=aS)return!0}return!1}var wx=function(){var t=function(r){sn(e,r);function e(i,a){var s;return s=r.call(this,i,a)||this,s.handler=function(o,l,u){var c=u.pointerType===qu,d=u.pointerType===Tb;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)A$e.call(Mc(Mc(s)),l,u);else if(d&&w$e.call(Mc(Mc(s)),u))return;s.callback(o,l,u)}},s.touch=new Ib(s.manager,s.handler),s.mouse=new Pb(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var n=e.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Bo);return t}();function _$e(t){var r,e=t.options.inputClass;return e?r=e:e$e?r=Ax:t$e?r=Ib:fx?r=wx:r=Pb,new r(t,d$e)}function Fs(t,r,e){return Array.isArray(t)?(ai(t,e[r],e),!0):!1}var od=1,en=2,lo=4,Ni=8,si=Ni,Jl=16,xn=32,S$e=1;function k$e(){return S$e++}function Fc(t,r){var e=r.manager;return e?e.get(t):t}function oS(t){return t&Jl?"cancel":t&Ni?"end":t&lo?"move":t&en?"start":""}var Qu=function(){function t(e){e===void 0&&(e={}),this.options=bn({enable:!0},e),this.id=k$e(),this.manager=null,this.state=od,this.simultaneous={},this.requireFail=[]}var r=t.prototype;return r.set=function(n){return Na(this.options,n),this.manager&&this.manager.touchAction.update(),this},r.recognizeWith=function(n){if(Fs(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Fc(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},r.dropRecognizeWith=function(n){return Fs(n,"dropRecognizeWith",this)?this:(n=Fc(n,this),delete this.simultaneous[n.id],this)},r.requireFailure=function(n){if(Fs(n,"requireFailure",this))return this;var i=this.requireFail;return n=Fc(n,this),ja(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},r.dropRequireFailure=function(n){if(Fs(n,"dropRequireFailure",this))return this;n=Fc(n,this);var i=ja(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},r.hasRequireFailures=function(){return this.requireFail.length>0},r.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},r.emit=function(n){var i=this,a=this.state;function s(o){i.manager.emit(o,n)}a<Ni&&s(i.options.event+oS(a)),s(i.options.event),n.additionalEvent&&s(n.additionalEvent),a>=Ni&&s(i.options.event+oS(a))},r.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=xn},r.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(xn|od)))return!1;n++}return!0},r.recognize=function(n){var i=Na({},n);if(!gh(this.options.enable,[this,i])){this.reset(),this.state=xn;return}this.state&(si|Jl|xn)&&(this.state=od),this.state=this.process(i),this.state&(en|lo|Ni|Jl)&&this.tryEmit(i)},r.process=function(n){},r.getTouchAction=function(){},r.reset=function(){},t}(),Ay=function(t){sn(r,t);function r(n){var i;return n===void 0&&(n={}),i=t.call(this,bn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var e=r.prototype;return e.getTouchAction=function(){return[by]},e.process=function(i){var a=this,s=this.options,o=i.pointers.length===s.pointers,l=i.distance<s.threshold,u=i.deltaTime<s.time;if(this.reset(),i.eventType&yr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Rt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<s.interval:!0,d=!this.pCenter||qd(this.pCenter,i.center)<s.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%s.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){a.state=si,a.tryEmit()},s.interval),en):si}return xn},e.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=xn},this.options.interval),xn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){this.state===si&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},r}(Qu),uo=function(t){sn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,bn({pointers:1},n))||this}var e=r.prototype;return e.attrTest=function(i){var a=this.options.pointers;return a===0||i.pointers.length===a},e.process=function(i){var a=this.state,s=i.eventType,o=a&(en|lo),l=this.attrTest(i);return o&&(s&Or||!l)?a|Jl:o||l?s&Rt?a|Ni:a&en?a|lo:en:xn},r}(Qu);function _x(t){return t===oo?"down":t===Zu?"up":t===Yu?"left":t===Xu?"right":""}var xb=function(t){sn(r,t);function r(n){var i;return n===void 0&&(n={}),i=t.call(this,bn({event:"pan",threshold:10,pointers:1,direction:hx},n))||this,i.pX=null,i.pY=null,i}var e=r.prototype;return e.getTouchAction=function(){var i=this.options.direction,a=[];return i&Nn&&a.push(Xl),i&Ia&&a.push(Yl),a},e.directionTest=function(i){var a=this.options,s=!0,o=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&a.direction||(a.direction&Nn?(l=u===0?Gd:u<0?Yu:Xu,s=u!==this.pX,o=Math.abs(i.deltaX)):(l=c===0?Gd:c<0?Zu:oo,s=c!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,s&&o>a.threshold&&l&a.direction},e.attrTest=function(i){return uo.prototype.attrTest.call(this,i)&&(this.state&en||!(this.state&en)&&this.directionTest(i))},e.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var a=_x(i.direction);a&&(i.additionalEvent=this.options.event+a),t.prototype.emit.call(this,i)},r}(uo),Sx=function(t){sn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,bn({event:"swipe",threshold:10,velocity:.3,direction:Nn|Ia,pointers:1},n))||this}var e=r.prototype;return e.getTouchAction=function(){return xb.prototype.getTouchAction.call(this)},e.attrTest=function(i){var a=this.options.direction,s;return a&(Nn|Ia)?s=i.overallVelocity:a&Nn?s=i.overallVelocityX:a&Ia&&(s=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&a&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&La(s)>this.options.velocity&&i.eventType&Rt},e.emit=function(i){var a=_x(i.offsetDirection);a&&this.manager.emit(this.options.event+a,i),this.manager.emit(this.options.event,i)},r}(uo),kx=function(t){sn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,bn({event:"pinch",threshold:0,pointers:2},n))||this}var e=r.prototype;return e.getTouchAction=function(){return[Ca]},e.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&en)},e.emit=function(i){if(i.scale!==1){var a=i.scale<1?"in":"out";i.additionalEvent=this.options.event+a}t.prototype.emit.call(this,i)},r}(uo),Ex=function(t){sn(r,t);function r(n){return n===void 0&&(n={}),t.call(this,bn({event:"rotate",threshold:0,pointers:2},n))||this}var e=r.prototype;return e.getTouchAction=function(){return[Ca]},e.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&en)},r}(uo),Tx=function(t){sn(r,t);function r(n){var i;return n===void 0&&(n={}),i=t.call(this,bn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var e=r.prototype;return e.getTouchAction=function(){return[dx]},e.process=function(i){var a=this,s=this.options,o=i.pointers.length===s.pointers,l=i.distance<s.threshold,u=i.deltaTime>s.time;if(this._input=i,!l||!o||i.eventType&(Rt|Or)&&!u)this.reset();else if(i.eventType&yr)this.reset(),this._timer=setTimeout(function(){a.state=si,a.tryEmit()},s.time);else if(i.eventType&Rt)return si;return xn},e.reset=function(){clearTimeout(this._timer)},e.emit=function(i){this.state===si&&(i&&i.eventType&Rt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=Eb(),this.manager.emit(this.options.event,this._input)))},r}(Qu),Ox={domEvents:!1,touchAction:cx,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lS=[[Ex,{enable:!1}],[kx,{enable:!1},["rotate"]],[Sx,{direction:Nn}],[xb,{direction:Nn},["swipe"]],[Ay],[Ay,{event:"doubletap",taps:2},["tap"]],[Tx]],E$e=1,uS=2;function cS(t,r){var e=t.element;if(e.style){var n;ai(t.options.cssProps,function(i,a){n=ph(e.style,a),r?(t.oldCssProps[n]=e.style[n],e.style[n]=i):e.style[n]=t.oldCssProps[n]||""}),r||(t.oldCssProps={})}}function T$e(t,r){var e=document.createEvent("Event");e.initEvent(t,!0,!0),e.gesture=r,r.target.dispatchEvent(e)}var dS=function(){function t(e,n){var i=this;this.options=Na({},Ox,n||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=_$e(this),this.touchAction=new px(this,this.options.touchAction),cS(this,!0),ai(this.options.recognizers,function(a){var s=i.add(new a[0](a[1]));a[2]&&s.recognizeWith(a[2]),a[3]&&s.requireFailure(a[3])},this)}var r=t.prototype;return r.set=function(n){return Na(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},r.stop=function(n){this.session.stopped=n?uS:E$e},r.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var a,s=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&si)&&(i.curRecognizer=null,o=null);for(var l=0;l<s.length;)a=s[l],i.stopped!==uS&&(!o||a===o||a.canRecognizeWith(o))?a.recognize(n):a.reset(),!o&&a.state&(en|lo|Ni)&&(i.curRecognizer=a,o=a),l++}},r.get=function(n){if(n instanceof Qu)return n;for(var i=this.recognizers,a=0;a<i.length;a++)if(i[a].options.event===n)return i[a];return null},r.add=function(n){if(Fs(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},r.remove=function(n){if(Fs(n,"remove",this))return this;var i=this.get(n);if(n){var a=this.recognizers,s=ja(a,i);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},r.on=function(n,i){if(n===void 0||i===void 0)return this;var a=this.handlers;return ai(Zl(n),function(s){a[s]=a[s]||[],a[s].push(i)}),this},r.off=function(n,i){if(n===void 0)return this;var a=this.handlers;return ai(Zl(n),function(s){i?a[s]&&a[s].splice(ja(a[s],i),1):delete a[s]}),this},r.emit=function(n,i){this.options.domEvents&&T$e(n,i);var a=this.handlers[n]&&this.handlers[n].slice();if(!(!a||!a.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var s=0;s<a.length;)a[s](i),s++}},r.destroy=function(){this.element&&cS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),O$e={touchstart:yr,touchmove:ns,touchend:Rt,touchcancel:Or},C$e="touchstart",I$e="touchstart touchmove touchend touchcancel",P$e=function(t){sn(r,t);function r(){var n,i=r.prototype;return i.evTarget=C$e,i.evWin=I$e,n=t.apply(this,arguments)||this,n.started=!1,n}var e=r.prototype;return e.handler=function(i){var a=O$e[i.type];if(a===yr&&(this.started=!0),!!this.started){var s=x$e.call(this,i,a);a&(Rt|Or)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,a,{pointers:s[0],changedPointers:s[1],pointerType:qu,srcEvent:i})}},r}(Bo);function x$e(t,r){var e=Ql(t.touches),n=Ql(t.changedTouches);return r&(Rt|Or)&&(e=Cb(e.concat(n),"identifier",!0)),[e,n]}function Cx(t,r,e){var n="DEPRECATED METHOD: "+r+`
`+e+` AT 
`;return function(){var i=new Error("get-stack-trace"),a=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,n,a),t.apply(this,arguments)}}var Ix=Cx(function(t,r,e){for(var n=Object.keys(r),i=0;i<n.length;)(!e||e&&t[n[i]]===void 0)&&(t[n[i]]=r[n[i]]),i++;return t},"extend","Use `assign`."),R$e=Cx(function(t,r){return Ix(t,r,!0)},"merge","Use `assign`.");function M$e(t,r,e){var n=r.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,e&&Na(i,e)}function fS(t,r){return function(){return t.apply(r,arguments)}}var Px=function(){var t=function(e,n){return n===void 0&&(n={}),new dS(e,bn({recognizers:lS.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=hx,t.DIRECTION_DOWN=oo,t.DIRECTION_LEFT=Yu,t.DIRECTION_RIGHT=Xu,t.DIRECTION_UP=Zu,t.DIRECTION_HORIZONTAL=Nn,t.DIRECTION_VERTICAL=Ia,t.DIRECTION_NONE=Gd,t.DIRECTION_DOWN=oo,t.INPUT_START=yr,t.INPUT_MOVE=ns,t.INPUT_END=Rt,t.INPUT_CANCEL=Or,t.STATE_POSSIBLE=od,t.STATE_BEGAN=en,t.STATE_CHANGED=lo,t.STATE_ENDED=Ni,t.STATE_RECOGNIZED=si,t.STATE_CANCELLED=Jl,t.STATE_FAILED=xn,t.Manager=dS,t.Input=Bo,t.TouchAction=px,t.TouchInput=Ib,t.MouseInput=Pb,t.PointerEventInput=Ax,t.TouchMouseInput=wx,t.SingleTouchInput=P$e,t.Recognizer=Qu,t.AttrRecognizer=uo,t.Tap=Ay,t.Pan=xb,t.Swipe=Sx,t.Pinch=kx,t.Rotate=Ex,t.Press=Tx,t.on=Al,t.off=wl,t.each=ai,t.merge=R$e,t.extend=Ix,t.bindFn=fS,t.assign=Na,t.inherit=M$e,t.bindFn=fS,t.prefixed=ph,t.toArray=Ql,t.inArray=ja,t.uniqueArray=Cb,t.splitStr=Zl,t.boolOrFn=gh,t.hasParent=Ob,t.addEventListeners=Al,t.removeEventListeners=wl,t.defaults=Na({},Ox,{preset:lS}),t}();Px.defaults;var D$e=Px;function xx(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=F$e(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function F$e(t,r){var e;if(t){if(typeof t=="string")return hS(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(t,r)}}function hS(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}Ji("DELETE");function yh(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return B$e(r.length?r:[Ud()])}function B$e(t){var r=N$e(t),e=$t(r,3),n=e[0],i=e[1],a=e[2],s=1,o=function(){var u=2091639*n+s*23283064365386963e-26;return n=i,i=a,a=u-(s=u|0)};return o.uint32=function(){return o()*4294967296},o.fract53=function(){return o()+(o()*2097152|0)*11102230246251565e-32},o.algorithm="Alea",o.seed=t,o.version="0.9",o}function N$e(){for(var t=L$e(),r=t(" "),e=t(" "),n=t(" "),i=0;i<arguments.length;i++)r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[r,e,n]}function L$e(){var t=4022871197;return function(r){for(var e=r.toString(),n=0;n<e.length;n++){t+=e.charCodeAt(n);var i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function j$e(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}var Rb=typeof window<"u"?window.Hammer||D$e:function(){return j$e()};function Rn(t){var r=this,e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){r._dom.overlay.parentNode.removeChild(r._dom.overlay)});var n=Rb(this._dom.overlay);n.on("tap",X(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(function(){n.destroy()});var i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ot(i).call(i,function(a){n.on(a,function(s){s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(a){z$e(a.target,t)||r.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",r._onClick)})),this._escListener=function(a){("key"in a?a.key==="Escape":a.keyCode===27)&&r.deactivate()}}MP(Rn.prototype);Rn.current=null;Rn.prototype.destroy=function(){var t,r;this.deactivate();var e=xx(Ta(t=ni(r=this._cleanupQueue).call(r,0)).call(t)),n;try{for(e.s();!(n=e.n()).done;){var i=n.value;i()}}catch(a){e.e(a)}finally{e.f()}};Rn.prototype.activate=function(){Rn.current&&Rn.current.deactivate(),Rn.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Rn.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Rn.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function z$e(t,r){for(;t;){if(t===r)return!0;t=t.parentNode}return!1}var H$e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,W$e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,V$e=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,U$e=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ti(t){if(t)for(;t.hasChildNodes()===!0;){var r=t.firstChild;r&&(Ti(r),t.removeChild(r))}}function Us(t){return t instanceof String||typeof t=="string"}function vS(t){return rt(t)==="object"&&t!==null}function za(t,r,e,n){var i=!1;n===!0&&(i=r[e]===null&&t[e]!==void 0),i?delete t[e]:t[e]=r[e]}function Rx(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var n in t)if(r[n]!==void 0)if(r[n]===null||rt(r[n])!=="object")za(t,r,n,e);else{var i=t[n],a=r[n];vS(i)&&vS(a)&&Rx(i,a,e)}}function No(t,r,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(et(e))throw new TypeError("Arrays are not supported by deepExtend");for(var i=0;i<t.length;i++){var a=t[i];if(Object.prototype.hasOwnProperty.call(e,a))if(e[a]&&e[a].constructor===Object)r[a]===void 0&&(r[a]={}),r[a].constructor===Object?ft(r[a],e[a],!1,n):za(r,e,a,n);else{if(et(e[a]))throw new TypeError("Arrays are not supported by deepExtend");za(r,e,a,n)}}return r}function Yd(t,r,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(et(e))throw new TypeError("Arrays are not supported by deepExtend");for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!Bi(t).call(t,i))if(e[i]&&e[i].constructor===Object)r[i]===void 0&&(r[i]={}),r[i].constructor===Object?ft(r[i],e[i]):za(r,e,i,n);else if(et(e[i])){r[i]=[];for(var a=0;a<e[i].length;a++)r[i].push(e[i][a])}else za(r,e,i,n);return r}function ft(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)||e===!0)if(rt(r[i])==="object"&&r[i]!==null&&K_(r[i])===Object.prototype)t[i]===void 0?t[i]=ft({},r[i],e):rt(t[i])==="object"&&t[i]!==null&&K_(t[i])===Object.prototype?ft(t[i],r[i],e):za(t,r,i,n);else if(et(r[i])){var a;t[i]=Jt(a=r[i]).call(a)}else za(t,r,i,n);return t}function Xd(t,r){var e;return Sb(e=[]).call(e,In(t),[r])}function G$e(t){return Jt(t).call(t)}function K$e(t){return t.getBoundingClientRect().left}function q$e(t){return t.getBoundingClientRect().top}function Be(t,r){if(et(t))for(var e=t.length,n=0;n<e;n++)r(t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r(t[i],i,t)}function Mb(t){var r;switch(t.length){case 3:case 4:return r=W$e.exec(t),r?{r:dn(r[1]+r[1],16),g:dn(r[2]+r[2],16),b:dn(r[3]+r[3],16)}:null;case 6:case 7:return r=H$e.exec(t),r?{r:dn(r[1],16),g:dn(r[2],16),b:dn(r[3],16)}:null;default:return null}}function Yr(t,r){if(Bi(t).call(t,"rgba"))return t;if(Bi(t).call(t,"rgb")){var e=t.substr(He(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+r+")"}else{var n=Mb(t);return n==null?t:"rgba("+n.r+","+n.g+","+n.b+","+r+")"}}function Mx(t,r,e){var n;return"#"+Jt(n=((1<<24)+(t<<16)+(r<<8)+e).toString(16)).call(n,1)}function wy(t,r){if(Us(t)){var e=t;if(Fx(e)){var n,i=so(n=e.substr(4).substr(0,e.length-5).split(",")).call(n,function(d){return dn(d)});e=Mx(i[0],i[1],i[2])}if(Dx(e)===!0){var a=Y$e(e),s={h:a.h,s:a.s*.8,v:Math.min(1,a.v*1.02)},o={h:a.h,s:Math.min(1,a.s*1.25),v:a.v*.8},l=_y(o.h,o.s,o.v),u=_y(s.h,s.s,s.v);return{background:e,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}else return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}else{var c={background:t.background||void 0,border:t.border||void 0,highlight:Us(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Us(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}};return c}}function rl(t,r,e){t=t/255,r=r/255,e=e/255;var n=Math.min(t,Math.min(r,e)),i=Math.max(t,Math.max(r,e));if(n===i)return{h:0,s:0,v:n};var a=t===n?r-e:e===n?t-r:e-t,s=t===n?3:e===n?1:5,o=60*(s-a/(i-n))/360,l=(i-n)/i,u=i;return{h:o,s:l,v:u}}function ld(t,r,e){var n,i,a,s=Math.floor(t*6),o=t*6-s,l=e*(1-r),u=e*(1-o*r),c=e*(1-(1-o)*r);switch(s%6){case 0:n=e,i=c,a=l;break;case 1:n=u,i=e,a=l;break;case 2:n=l,i=e,a=c;break;case 3:n=l,i=u,a=e;break;case 4:n=c,i=l,a=e;break;case 5:n=e,i=l,a=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(a*255)}}function _y(t,r,e){var n=ld(t,r,e);return Mx(n.r,n.g,n.b)}function Y$e(t){var r=Mb(t);if(!r)throw new TypeError("'".concat(t,"' is not a valid color."));return rl(r.r,r.g,r.b)}function Dx(t){var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return r}function Fx(t){return V$e.test(t)}function X$e(t){return U$e.test(t)}function Li(t){if(t===null||rt(t)!=="object")return null;if(t instanceof Element)return t;var r=Oa(t);for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&rt(t[e])=="object"&&(r[e]=Li(t[e]));return r}function qr(t,r,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=function(v){return v!=null},a=function(v){return v!==null&&rt(v)==="object"},s=function(v){for(var p in v)if(Object.prototype.hasOwnProperty.call(v,p))return!1;return!0};if(!a(t))throw new Error("Parameter mergeTarget must be an object");if(!a(r))throw new Error("Parameter options must be an object");if(!i(e))throw new Error("Parameter option must have a value");if(!a(n))throw new Error("Parameter globalOptions must be an object");var o=function(v,p,m){a(v[m])||(v[m]={});var y=p[m],b=v[m];for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(b[A]=y[A])},l=r[e],u=a(n)&&!s(n),c=u?n[e]:void 0,d=c?c.enabled:void 0;if(l!==void 0){if(typeof l=="boolean"){a(t[e])||(t[e]={}),t[e].enabled=l;return}if(l===null&&!a(t[e]))if(i(c))t[e]=Oa(c);else return;if(a(l)){var f=!0;l.enabled!==void 0?f=l.enabled:d!==void 0&&(f=c.enabled),o(t,r,e),t[e].enabled=f}}}var Z$e={linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return r*(2-r)},easeInOutQuad:function(r){return r<.5?2*r*r:-1+(4-2*r)*r},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return--r*r*r+1},easeInOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return 1- --r*r*r*r},easeInOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return 1+--r*r*r*r*r},easeInOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r}};function Oi(t,r){var e;et(r)||(r=[r]);var n=xx(t),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a){e=a[r[0]];for(var s=1;s<r.length;s++)e&&(e=e[r[s]]);if(typeof e<"u")break}}}catch(o){n.e(o)}finally{n.f()}return e}var Q$e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},J$e=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;re(this,t),this.pixelRatio=r,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return ne(t,[{key:"insertTo",value:function(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(e){if(typeof e=="string")return Q$e[e]}},{key:"setColor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e!=="none"){var i,a=this._isColorString(e);if(a!==void 0&&(e=a),Us(e)===!0){if(Fx(e)===!0){var s=e.substr(4).substr(0,e.length-5).split(",");i={r:s[0],g:s[1],b:s[2],a:1}}else if(X$e(e)===!0){var o=e.substr(5).substr(0,e.length-6).split(",");i={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(Dx(e)===!0){var l=Mb(e);i={r:l.r,g:l.g,b:l.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){var u=e.a!==void 0?e.a:"1.0";i={r:e.r,g:e.g,b:e.b,a:u}}if(i===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Gu(e));this._setColor(i,n)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;n===!0&&(this.previousColor=xt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bn(function(){e.closeCallback!==void 0&&(e.closeCallback(),e.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n===!0&&(this.initialColor=xt({},e)),this.color=e;var i=rl(e.r,e.g,e.b),a=2*Math.PI,s=this.r*i.s,o=this.centerCoordinates.x+s*Math.sin(a*i.h),l=this.centerCoordinates.y+s*Math.cos(a*i.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var n=rl(this.color.r,this.color.g,this.color.b);n.v=e/100;var i=ld(n.h,n.s,n.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,n=rl(e.r,e.g,e.b),i=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var a=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,a,s),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-n.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Ku(i).call(i),this.brightnessRange.value=100*n.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,n,i,a;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var l=this;this.opacityRange.onchange=function(){l._setOpacity(this.value)},this.opacityRange.oninput=function(){l._setOpacity(this.value)},this.brightnessRange.onchange=function(){l._setBrightness(this.value)},this.brightnessRange.oninput=function(){l._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=X(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=X(n=this._apply).call(n,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=X(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=X(a=this._loadLast).call(a,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Rb(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",function(n){n.isFirst&&e._moveSelector(n)}),this.hammer.on("tap",function(n){e._moveSelector(n)}),this.hammer.on("panstart",function(n){e._moveSelector(n)}),this.hammer.on("panmove",function(n){e._moveSelector(n)}),this.hammer.on("panend",function(n){e._moveSelector(n)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,n,i);var a,s,o,l;this.centerCoordinates={x:n*.5,y:i*.5},this.r=.49*n;var u=2*Math.PI/360,c=1/360,d=1/this.r,f;for(o=0;o<360;o++)for(l=0;l<this.r;l++)a=this.centerCoordinates.x+l*Math.sin(u*o),s=this.centerCoordinates.y+l*Math.cos(u*o),f=ld(o*c,l*d,1),e.fillStyle="rgb("+f.r+","+f.g+","+f.b+")",e.fillRect(a-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,n,i)}this.generated=!0}},{key:"_moveSelector",value:function(e){var n=this.colorPickerDiv.getBoundingClientRect(),i=e.center.x-n.left,a=e.center.y-n.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,l=i-o,u=a-s,c=Math.atan2(l,u),d=.98*Math.min(Math.sqrt(l*l+u*u),o),f=Math.cos(c)*d+s,h=Math.sin(c)*d+o;this.colorPickerSelector.style.top=f-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";var v=c/(2*Math.PI);v=v<0?v+1:v;var p=d/this.r,m=rl(this.color.r,this.color.g,this.color.b);m.h=v,m.s=p;var y=ld(m.h,m.s,m.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function Sy(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];if(r.length<1)throw new TypeError("Invalid arguments.");if(r.length===1)return document.createTextNode(r[0]);var n=document.createElement(r[0]);return n.appendChild(Sy.apply(void 0,In(Jt(r).call(r,1)))),n}var e0e=function(){function t(r,e,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return!1};re(this,t),this.parent=r,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=a,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},xt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new J$e(i),this.wrapper=void 0}return ne(t,[{key:"setOptions",value:function(e){if(e!==void 0){this.popupHistory={},this._removePopup();var n=!0;if(typeof e=="string")this.options.filter=e;else if(et(e))this.options.filter=e.join();else if(rt(e)==="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Er(e)!==void 0&&(this.options.filter=Er(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(n=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,n=e):typeof e=="function"&&(this.options.filter=e,n=!0);Er(this.options)===!1&&(n=!1),this.options.enabled=n}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=Er(this.options),n=0,i=!1;for(var a in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,a)&&(this.allowCreation=!1,i=!1,typeof e=="function"?(i=e(a,[]),i=i||this._handleObject(this.configureOptions[a],[a],!0)):(e===!0||He(e).call(e,a)!==-1)&&(i=!0),i!==!1&&(this.allowCreation=!0,n>0&&this._makeItem([]),this._makeHeader(a),this._handleObject(this.configureOptions[a],[a])),n++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var n=this.moduleOptions,i=0;i<e.length;i++)if(n[e[i]]!==void 0)n=n[e[i]];else{n=void 0;break}return n}},{key:"_makeItem",value:function(e){if(this.allowCreation===!0){var n=document.createElement("div");n.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return ot(a).call(a,function(o){n.appendChild(o)}),this.domElements.push(n),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var n=document.createElement("div");n.className="vis-configuration vis-config-header",n.innerText=e,this._makeItem([],n)}},{key:"_makeLabel",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=document.createElement("div");if(a.className="vis-configuration vis-config-label vis-config-s"+n.length,i===!0){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(Sy("i","b",e))}else a.innerText=e+":";return a}},{key:"_makeDropdown",value:function(e,n,i){var a=document.createElement("select");a.className="vis-configuration vis-config-select";var s=0;n!==void 0&&He(e).call(e,n)!==-1&&(s=He(e).call(e,n));for(var o=0;o<e.length;o++){var l=document.createElement("option");l.value=e[o],o===s&&(l.selected="selected"),l.innerText=e[o],a.appendChild(l)}var u=this;a.onchange=function(){u._update(this.value,i)};var c=this._makeLabel(i[i.length-1],i);this._makeItem(i,c,a)}},{key:"_makeRange",value:function(e,n,i){var a=e[0],s=e[1],o=e[2],l=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=l;var c="",d=0;if(n!==void 0){var f=1.2;n<0&&n*f<s?(u.min=Math.ceil(n*f),d=u.min,c="range increased"):n/f<s&&(u.min=Math.ceil(n/f),d=u.min,c="range increased"),n*f>o&&o!==1&&(u.max=Math.ceil(n*f),d=u.max,c="range increased"),u.value=n}else u.value=a;var h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=u.value;var v=this;u.onchange=function(){h.value=this.value,v._update(Number(this.value),i)},u.oninput=function(){h.value=this.value};var p=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,p,u,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}},{key:"_makeButton",value:function(){var e=this;if(this.options.showButton===!0){var n=document.createElement("div");n.className="vis-configuration vis-config-button",n.innerText="generate options",n.onclick=function(){e._printOptions()},n.onmouseover=function(){n.className="vis-configuration vis-config-button hover"},n.onmouseout=function(){n.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(n)}}},{key:"_setupPopup",value:function(e,n){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var a=document.createElement("div");a.id="vis-configuration-popup",a.className="vis-configuration-popup",a.innerText=e,a.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:a,index:n}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(this.popupDiv.html!==void 0){var n=this.domElements[this.popupDiv.index],i=n.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bn(function(){e.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bn(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(e,n,i){var a=document.createElement("input");a.type="checkbox",a.className="vis-configuration vis-config-checkbox",a.checked=e,n!==void 0&&(a.checked=n,n!==e&&(rt(e)==="object"?n!==e.enabled&&this.changedOptions.push({path:i,value:n}):this.changedOptions.push({path:i,value:n})));var s=this;a.onchange=function(){s._update(this.checked,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,a)}},{key:"_makeTextInput",value:function(e,n,i){var a=document.createElement("input");a.type="text",a.className="vis-configuration vis-config-text",a.value=n,n!==e&&this.changedOptions.push({path:i,value:n});var s=this;a.onchange=function(){s._update(this.value,i)};var o=this._makeLabel(i[i.length-1],i);this._makeItem(i,o,a)}},{key:"_makeColorField",value:function(e,n,i){var a=this,s=e[1],o=document.createElement("div");n=n===void 0?s:n,n!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=n):o.className="vis-configuration vis-config-colorBlock none",n=n===void 0?s:n,o.onclick=function(){a._showColorPicker(n,o,i)};var l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,o)}},{key:"_showColorPicker",value:function(e,n,i){var a=this;n.onclick=function(){},this.colorPicker.insertTo(n),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(function(s){var o="rgba("+s.r+","+s.g+","+s.b+","+s.a+")";n.style.backgroundColor=o,a._update(o,i)}),this.colorPicker.setCloseCallback(function(){n.onclick=function(){a._showColorPicker(e,n,i)}})}},{key:"_handleObject",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=Er(this.options),o=!1;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){a=!0;var u=e[l],c=Xd(n,l);if(typeof s=="function"&&(a=s(l,n),a===!1&&!et(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,a=this._handleObject(u,c,!0),this.allowCreation=i===!1)),a!==!1){o=!0;var d=this._getValue(c);if(et(u))this._handleArray(u,d,c);else if(typeof u=="string")this._makeTextInput(u,d,c);else if(typeof u=="boolean")this._makeCheckbox(u,d,c);else if(u instanceof Object){if(!this.hideOption(n,l,this.moduleOptions))if(u.enabled!==void 0){var f=Xd(c,"enabled"),h=this._getValue(f);if(h===!0){var v=this._makeLabel(l,c,!0);this._makeItem(c,v),o=this._handleObject(u,c)||o}else this._makeCheckbox(u,h,c)}else{var p=this._makeLabel(l,c,!0);this._makeItem(c,p),o=this._handleObject(u,c)||o}}else console.error("dont know how to handle",u,l,c)}}return o}},{key:"_handleArray",value:function(e,n,i){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,n,i),e[1]!==n&&this.changedOptions.push({path:i,value:n})):typeof e[0]=="string"?(this._makeDropdown(e,n,i),e[0]!==n&&this.changedOptions.push({path:i,value:n})):typeof e[0]=="number"&&(this._makeRange(e,n,i),e[0]!==n&&this.changedOptions.push({path:i,value:Number(n)}))}},{key:"_update",value:function(e,n){var i=this._constructOptions(e,n);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i;e=e==="true"?!0:e,e=e==="false"?!1:e;for(var s=0;s<n.length;s++)n[s]!=="global"&&(a[n[s]]===void 0&&(a[n[s]]={}),s!==n.length-1?a=a[n[s]]:a[n[s]]=e);return i}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Sy("pre","const options = "+Gu(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},n=0;n<this.changedOptions.length;n++)this._constructOptions(this.changedOptions[n].value,this.changedOptions[n].path,e);return e}}]),t}(),t0e=function(){function t(r,e){re(this,t),this.container=r,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return ne(t,[{key:"setPosition",value:function(e,n){this.x=dn(e),this.y=dn(n)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(e===void 0&&(e=!0),e===!0){var n=this.frame.clientHeight,i=this.frame.clientWidth,a=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth,o=0,l=0;if(this.overflowMethod=="flip"){var u=!1,c=!0;this.y-n<this.padding&&(c=!1),this.x+i>s-this.padding&&(u=!0),u?o=this.x-i:o=this.x,c?l=this.y-n:l=this.y}else l=this.y-n,l+n+this.padding>a&&(l=a-n-this.padding),l<this.padding&&(l=this.padding),o=this.x,o+i+this.padding>s&&(o=s-i-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),Yo=!1,pS,ky="background: #FFeeee; color: #dd0000",r0e=function(){function t(){re(this,t)}return ne(t,null,[{key:"validate",value:function(e,n,i){Yo=!1,pS=n;var a=n;return i!==void 0&&(a=n[i]),t.parse(e,a,[]),Yo}},{key:"parse",value:function(e,n,i){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.check(a,e,n,i)}},{key:"check",value:function(e,n,i,a){if(i[e]===void 0&&i.__any__===void 0){t.getSuggestion(e,i,a);return}var s=e,o=!0;i[e]===void 0&&i.__any__!==void 0&&(s="__any__",o=t.getType(n[e])==="object");var l=i[s];o&&l.__type__!==void 0&&(l=l.__type__),t.checkFields(e,n,i,s,l,a)}},{key:"checkFields",value:function(e,n,i,a,s,o){var l=function(f){console.error("%c"+f+t.printLocation(o,e),ky)},u=t.getType(n[e]),c=s[u];c!==void 0?t.getType(c)==="array"&&He(c).call(c,n[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+n[e]+'". '),Yo=!0):u==="object"&&a!=="__any__"&&(o=Xd(o,e),t.parse(n[e],i[a],o)):s.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+t.print(bt(s))+". Received ["+u+'] "'+n[e]+'"'),Yo=!0)}},{key:"getType",value:function(e){var n=rt(e);return n==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":n==="number"?"number":n==="boolean"?"boolean":n==="string"?"string":n===void 0?"undefined":n}},{key:"getSuggestion",value:function(e,n,i){var a=t.findInOptions(e,n,i,!1),s=t.findInOptions(e,pS,[],!0),o=8,l=4,u;a.indexMatch!==void 0?u=" in "+t.printLocation(a.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+a.indexMatch+`"?

`:s.distance<=l&&a.distance>s.distance?u=" in "+t.printLocation(a.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):a.distance<=o?u='. Did you mean "'+a.closestMatch+'"?'+t.printLocation(a.path,e):u=". Did you mean one of these: "+t.print(bt(n))+t.printLocation(i,e),console.error('%cUnknown option detected: "'+e+'"'+u,ky),Yo=!0}},{key:"findInOptions",value:function(e,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",l=[],u=e.toLowerCase(),c=void 0;for(var d in n){var f=void 0;if(n[d].__type__!==void 0&&a===!0){var h=t.findInOptions(e,n[d],Xd(i,d));s>h.distance&&(o=h.closestMatch,l=h.path,s=h.distance,c=h.indexMatch)}else{var v;He(v=d.toLowerCase()).call(v,u)!==-1&&(c=d),f=t.levenshteinDistance(e,d),s>f&&(o=d,l=G$e(i),s=f)}}return{closestMatch:o,path:l,distance:s,indexMatch:c}}},{key:"printLocation",value:function(e,n){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,a=`

`+i+`options = {
`,s=0;s<e.length;s++){for(var o=0;o<s+1;o++)a+="  ";a+=e[s]+`: {
`}for(var l=0;l<e.length+1;l++)a+="  ";a+=n+`
`;for(var u=0;u<e.length+1;u++){for(var c=0;c<e.length-u;c++)a+="  ";a+=`}
`}return a+`

`}},{key:"print",value:function(e){return Gu(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,n){if(e.length===0)return n.length;if(n.length===0)return e.length;var i=[],a;for(a=0;a<=n.length;a++)i[a]=[a];var s;for(s=0;s<=e.length;s++)i[0][s]=s;for(a=1;a<=n.length;a++)for(s=1;s<=e.length;s++)n.charAt(a-1)==e.charAt(s-1)?i[a][s]=i[a-1][s-1]:i[a][s]=Math.min(i[a-1][s-1]+1,Math.min(i[a][s-1]+1,i[a-1][s]+1));return i[n.length][e.length]}}]),t}(),n0e=Rn,i0e=e0e,Gs=Rb,a0e=t0e,Bx=ky,s0e=r0e;function o0e(t){return Ii=t,d0e()}var Nx={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Db=Oa(Nx);Db.color="color.color";Db.style="dashes";var ur={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},gS={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ii="",co=0,Fe="",Se="",Ar=ur.NULL;function l0e(){co=0,Fe=Ii.charAt(0)}function Lt(){co++,Fe=Ii.charAt(co)}function ms(){return Ii.charAt(co+1)}function yS(t){var r=t.charCodeAt(0);return r<47?r===35||r===46:r<59?r>47:r<91?r>64:r<96?r===95:r<123?r>96:!1}function Hi(t,r){if(t||(t={}),r)for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function u0e(t,r,e){for(var n=r.split("."),i=t;n.length;){var a=n.shift();n.length?(i[a]||(i[a]={}),i=i[a]):i[a]=e}}function Lx(t,r){for(var e,n,i=null,a=[t],s=t;s.parent;)a.push(s.parent),s=s.parent;if(s.nodes){for(e=0,n=s.nodes.length;e<n;e++)if(r.id===s.nodes[e].id){i=s.nodes[e];break}}for(i||(i={id:r.id},t.node&&(i.attr=Hi(i.attr,t.node))),e=a.length-1;e>=0;e--){var o,l=a[e];l.nodes||(l.nodes=[]),He(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}r.attr&&(i.attr=Hi(i.attr,r.attr))}function c0e(t,r){if(t.edges||(t.edges=[]),t.edges.push(r),t.edge){var e=Hi({},t.edge);r.attr=Hi(e,r.attr)}}function jx(t,r,e,n,i){var a={from:r,to:e,type:n};return t.edge&&(a.attr=Hi({},t.edge)),a.attr=Hi(a.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(a.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),a}function ht(){for(Ar=ur.NULL,Se="";Fe===" "||Fe==="	"||Fe===`
`||Fe==="\r";)Lt();do{var t=!1;if(Fe==="#"){for(var r=co-1;Ii.charAt(r)===" "||Ii.charAt(r)==="	";)r--;if(Ii.charAt(r)===`
`||Ii.charAt(r)===""){for(;Fe!=""&&Fe!=`
`;)Lt();t=!0}}if(Fe==="/"&&ms()==="/"){for(;Fe!=""&&Fe!=`
`;)Lt();t=!0}if(Fe==="/"&&ms()==="*"){for(;Fe!="";)if(Fe==="*"&&ms()==="/"){Lt(),Lt();break}else Lt();t=!0}for(;Fe===" "||Fe==="	"||Fe===`
`||Fe==="\r";)Lt()}while(t);if(Fe===""){Ar=ur.DELIMITER;return}var e=Fe+ms();if(gS[e]){Ar=ur.DELIMITER,Se=e,Lt(),Lt();return}if(gS[Fe]){Ar=ur.DELIMITER,Se=Fe,Lt();return}if(yS(Fe)||Fe==="-"){for(Se+=Fe,Lt();yS(Fe);)Se+=Fe,Lt();Se==="false"?Se=!1:Se==="true"?Se=!0:isNaN(Number(Se))||(Se=Number(Se)),Ar=ur.IDENTIFIER;return}if(Fe==='"'){for(Lt();Fe!=""&&(Fe!='"'||Fe==='"'&&ms()==='"');)Fe==='"'?(Se+=Fe,Lt()):Fe==="\\"&&ms()==="n"?(Se+=`
`,Lt()):Se+=Fe,Lt();if(Fe!='"')throw cr('End of string " expected');Lt(),Ar=ur.IDENTIFIER;return}for(Ar=ur.UNKNOWN;Fe!="";)Se+=Fe,Lt();throw new SyntaxError('Syntax error in part "'+Vx(Se,30)+'"')}function d0e(){var t={};if(l0e(),ht(),Se==="strict"&&(t.strict=!0,ht()),(Se==="graph"||Se==="digraph")&&(t.type=Se,ht()),Ar===ur.IDENTIFIER&&(t.id=Se,ht()),Se!="{")throw cr("Angle bracket { expected");if(ht(),zx(t),Se!="}")throw cr("Angle bracket } expected");if(ht(),Se!=="")throw cr("End of file expected");return ht(),delete t.node,delete t.edge,delete t.graph,t}function zx(t){for(;Se!==""&&Se!="}";)f0e(t),Se===";"&&ht()}function f0e(t){var r=Hx(t);if(r){Wx(t,r);return}var e=h0e(t);if(!e){if(Ar!=ur.IDENTIFIER)throw cr("Identifier expected");var n=Se;if(ht(),Se==="="){if(ht(),Ar!=ur.IDENTIFIER)throw cr("Identifier expected");t[n]=Se,ht()}else v0e(t,n)}}function Hx(t){var r=null;if(Se==="subgraph"&&(r={},r.type="subgraph",ht(),Ar===ur.IDENTIFIER&&(r.id=Se,ht())),Se==="{"){if(ht(),r||(r={}),r.parent=t,r.node=t.node,r.edge=t.edge,r.graph=t.graph,zx(r),Se!="}")throw cr("Angle bracket } expected");ht(),delete r.node,delete r.edge,delete r.graph,delete r.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(r)}return r}function h0e(t){return Se==="node"?(ht(),t.node=_l(),"node"):Se==="edge"?(ht(),t.edge=_l(),"edge"):Se==="graph"?(ht(),t.graph=_l(),"graph"):null}function v0e(t,r){var e={id:r},n=_l();n&&(e.attr=n),Lx(t,e),Wx(t,r)}function Wx(t,r){for(;Se==="->"||Se==="--";){var e,n=Se;ht();var i=Hx(t);if(i)e=i;else{if(Ar!=ur.IDENTIFIER)throw cr("Identifier or subgraph expected");e=Se,Lx(t,{id:e}),ht()}var a=_l(),s=jx(t,r,e,n,a);c0e(t,s),r=e}}function _l(){for(var t,r=null,e={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,a=new Array;Se==="[";){for(ht(),r={};Se!==""&&Se!="]";){if(Ar!=ur.IDENTIFIER)throw cr("Attribute name expected");var s=Se;if(ht(),Se!="=")throw cr("Equal sign = expected");if(ht(),Ar!=ur.IDENTIFIER)throw cr("Attribute value expected");var o=Se;s==="style"&&(o=e[o]);var l;s==="arrowhead"&&(l=n[o],s="arrows",o={to:{enabled:!0,type:l}}),s==="arrowtail"&&(l=n[o],s="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:r,name:s,value:o}),a.push(s),ht(),Se==","&&ht()}if(Se!="]")throw cr("Bracket ] expected");ht()}if(Bi(a).call(a,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw cr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var c=i[u.dir].value;if(!Bi(a).call(a,"arrows"))if(c==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(c==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw cr('Invalid dir type "'+c+'"');var d,f;if(c==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}},ni(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}});else if(c==="back")u.arrows.to&&u.arrows.from?(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f="",d="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(c==="none"){var h;u.arrows.to?h=u.arrows.to:h=u.arrows.from,i[h]={attr:i[h].attr,name:i[h].name,value:""}}else if(c==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw cr('Invalid dir type "'+c+'"');ni(i).call(i,u.dir,1)}var v;if(Bi(a).call(a,"penwidth")){var p=[];for(v=i.length,t=0;t<v;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),p.push(i[t]));i=p}for(v=i.length,t=0;t<v;t++)u0e(i[t].attr,i[t].name,i[t].value);return r}function cr(t){return new SyntaxError(t+', got "'+Vx(Se,30)+'" (char '+co+")")}function Vx(t,r){return t.length<=r?t:t.substr(0,27)+"..."}function p0e(t,r,e){et(t)?ot(t).call(t,function(n){et(r)?ot(r).call(r,function(i){e(n,i)}):e(n,r)}):et(r)?ot(r).call(r,function(n){e(t,n)}):e(t,r)}function Lp(t,r,e){for(var n=r.split("."),i=n.pop(),a=t,s=0;s<n.length;s++){var o=n[s];o in a||(a[o]={}),a=a[o]}return a[i]=e,t}function mS(t,r){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=r[n];et(i)?ot(i).call(i,function(a){Lp(e,a,t[n])}):typeof i=="string"?Lp(e,i,t[n]):Lp(e,n,t[n])}return e}function g0e(t){var r=o0e(t),e={nodes:[],edges:[],options:{}};if(r.nodes){var n;ot(n=r.nodes).call(n,function(s){var o={id:s.id,label:String(s.label||s.id)};Hi(o,mS(s.attr,Nx)),o.image&&(o.shape="image"),e.nodes.push(o)})}if(r.edges){var i,a=function(o){var l={from:o.from,to:o.to};return Hi(l,mS(o.attr,Db)),l.arrows==null&&o.type==="->"&&(l.arrows="to"),l};ot(i=r.edges).call(i,function(s){var o,l;if(s.from instanceof Object?o=s.from.nodes:o={id:s.from},s.to instanceof Object?l=s.to.nodes:l={id:s.to},s.from instanceof Object&&s.from.edges){var u;ot(u=s.from.edges).call(u,function(d){var f=a(d);e.edges.push(f)})}if(p0e(o,l,function(d,f){var h=jx(e,d.id,f.id,s.type,s.attr),v=a(h);e.edges.push(v)}),s.to instanceof Object&&s.to.edges){var c;ot(c=s.to.edges).call(c,function(d){var f=a(d);e.edges.push(f)})}})}return r.attr&&(e.options=r.attr),e}function y0e(t,r){var e,n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};r!=null&&(r.fixed!=null&&(n.nodes.fixed=r.fixed),r.parseColor!=null&&(n.nodes.parseColor=r.parseColor),r.inheritColor!=null&&(n.edges.inheritColor=r.inheritColor));var i=t.edges,a=so(i).call(i,function(o){var l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l}),s=so(e=t.nodes).call(e,function(o){var l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l});return{nodes:s,edges:a}}var m0e={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},b0e={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},$0e={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},A0e={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},w0e={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},_0e={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},S0e={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},k0e={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},E0e={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},T0e={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},O0e={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"},C0e=Object.freeze({__proto__:null,cn:k0e,cs:O0e,de:b0e,en:m0e,es:$0e,fr:T0e,it:A0e,nl:w0e,pt:_0e,ru:S0e,uk:E0e});function I0e(t,r){try{var e=r.split(/[-_ /]/,2),n=$t(e,2),i=n[0],a=n[1],s=i!=null?i.toLowerCase():null,o=a!=null?a.toUpperCase():null;if(s&&o){var l=s+"-"+o;if(Object.prototype.hasOwnProperty.call(t,l))return l;var u;console.warn(Sb(u="Unknown variant ".concat(o," of language ")).call(u,s,"."))}if(s){var c=s;if(Object.prototype.hasOwnProperty.call(t,c))return c;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(r,", falling back to English.")),"en"}catch(d){return console.error(d),console.warn("Unexpected error while normalizing locale ".concat(r,", falling back to English.")),"en"}}var P0e=function(){function t(){re(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return ne(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,n=this.image.height;this.width=e,this.height=n;var i=Math.floor(n/2),a=Math.floor(n/4),s=Math.floor(n/8),o=Math.floor(n/16),l=Math.floor(e/2),u=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=i,this.coordinates=[[0,0,l,i],[l,0,u,a],[l,a,c,s],[5*c,a,d,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),n=this.coordinates[0];e.drawImage(this.image,n[0],n[1],n[2],n[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var a=this.coordinates[i-1],s=this.coordinates[i];e.drawImage(this.canvas,a[0],a[1],a[2],a[3],s[0],s[1],s[2],s[3])}}},{key:"drawImageAtPosition",value:function(e,n,i,a,s,o){if(this.initialized())if(n>2){n*=.5;for(var l=0;n>2&&l<this.NUM_ITERATIONS;)n*=.5,l+=1;l>=this.NUM_ITERATIONS&&(l=this.NUM_ITERATIONS-1);var u=this.coordinates[l];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],i,a,s,o)}else e.drawImage(this.image,i,a,s,o)}}]),t}(),x0e=function(){function t(r){re(this,t),this.images={},this.imageBroken={},this.callback=r}return ne(t,[{key:"_tryloadBrokenUrl",value:function(e,n,i){if(!(e===void 0||i===void 0)){if(n===void 0){console.warn("No broken url image defined");return}i.image.onerror=function(){console.error("Could not load brokenImage:",n)},i.image.src=n}}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,n){var i=this,a=this.images[e];if(a)return a;var s=new P0e;return this.images[e]=s,s.image.onload=function(){i._fixImageCoordinates(s.image),s.init(),i._redrawWithImage(s)},s.image.onerror=function(){console.error("Could not load image:",e),i._tryloadBrokenUrl(e,n,s)},s.image.src=e,s}},{key:"_fixImageCoordinates",value:function(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),t}(),Ux={exports:{}},R0e=We,M0e=R0e(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),D0e=We,F0e=qt,B0e=pi,bS=M0e,ud=Object.isExtensible,N0e=D0e(function(){ud(1)}),L0e=N0e||bS?function(r){return!F0e(r)||bS&&B0e(r)==="ArrayBuffer"?!1:ud?ud(r):!0}:ud,j0e=We,Gx=!j0e(function(){return Object.isExtensible(Object.preventExtensions({}))}),z0e=ke,H0e=Ue,W0e=Nu,V0e=qt,Fb=Yt,U0e=Vr.f,$S=Hu,G0e=lh,Bb=L0e,K0e=Zf,q0e=Gx,Kx=!1,di=K0e("meta"),Y0e=0,Nb=function(t){U0e(t,di,{value:{objectID:"O"+Y0e++,weakData:{}}})},X0e=function(t,r){if(!V0e(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Fb(t,di)){if(!Bb(t))return"F";if(!r)return"E";Nb(t)}return t[di].objectID},Z0e=function(t,r){if(!Fb(t,di)){if(!Bb(t))return!0;if(!r)return!1;Nb(t)}return t[di].weakData},Q0e=function(t){return q0e&&Kx&&Bb(t)&&!Fb(t,di)&&Nb(t),t},J0e=function(){eAe.enable=function(){},Kx=!0;var t=$S.f,r=H0e([].splice),e={};e[di]=1,t(e).length&&($S.f=function(n){for(var i=t(n),a=0,s=i.length;a<s;a++)if(i[a]===di){r(i,a,1);break}return i},z0e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:G0e.f}))},eAe=Ux.exports={enable:J0e,fastKey:X0e,getWeakData:Z0e,onFreeze:Q0e};W0e[di]=!0;var mh=Ux.exports,tAe=Fu,rAe=Wr,nAe=Ur,iAe=Co,aAe=KP,sAe=an,AS=Ct,oAe=QP,lAe=sh,wS=GP,uAe=TypeError,cd=function(t,r){this.stopped=t,this.result=r},_S=cd.prototype,Lb=function(t,r,e){var n=e&&e.that,i=!!(e&&e.AS_ENTRIES),a=!!(e&&e.IS_RECORD),s=!!(e&&e.IS_ITERATOR),o=!!(e&&e.INTERRUPTED),l=tAe(r,n),u,c,d,f,h,v,p,m=function(b){return u&&wS(u,"normal",b),new cd(!0,b)},y=function(b){return i?(nAe(b),o?l(b[0],b[1],m):l(b[0],b[1])):o?l(b,m):l(b)};if(a)u=t.iterator;else if(s)u=t;else{if(c=lAe(t),!c)throw new uAe(iAe(t)+" is not iterable");if(aAe(c)){for(d=0,f=sAe(t);f>d;d++)if(h=y(t[d]),h&&AS(_S,h))return h;return new cd(!1)}u=oAe(t,c)}for(v=a?t.next:u.next;!(p=rAe(v,u)).done;){try{h=y(p.value)}catch(b){wS(u,"throw",b)}if(typeof h=="object"&&h&&AS(_S,h))return h}return new cd(!1)},cAe=Ct,dAe=TypeError,jb=function(t,r){if(cAe(r,t))return t;throw new dAe("Incorrect invocation")},fAe=ke,hAe=kt,vAe=mh,pAe=We,gAe=Po,yAe=Lb,mAe=jb,bAe=Gt,$Ae=qt,AAe=To,wAe=Ro,_Ae=Vr.f,SAe=Qi.forEach,kAe=Kt,qx=Ja,EAe=qx.set,TAe=qx.getterFor,zb=function(t,r,e){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",s=hAe[t],o=s&&s.prototype,l={},u;if(!kAe||!bAe(s)||!(i||o.forEach&&!pAe(function(){new s().entries().next()})))u=e.getConstructor(r,t,n,a),vAe.enable();else{u=r(function(f,h){EAe(mAe(f,c),{type:t,collection:new s}),AAe(h)||yAe(h,f[a],{that:f,AS_ENTRIES:n})});var c=u.prototype,d=TAe(t);SAe(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(f){var h=f==="add"||f==="set";f in o&&!(i&&f==="clear")&&gAe(c,f,function(v,p){var m=d(this).collection;if(!h&&i&&!$Ae(v))return f==="get"?void 0:!1;var y=m[f](v===0?0:v,p);return h?this:y})}),i||_Ae(c,"size",{configurable:!0,get:function(){return d(this).collection.size}})}return wAe(u,t,!1,!0),l[t]=u,fAe({global:!0,forced:!0},l),i||e.setStrong(u,t,n),u},OAe=ju,Hb=function(t,r,e){for(var n in r)e&&e.unsafe&&t[n]?t[n]=r[n]:OAe(t,n,r[n],e);return t},CAe=nn,IAe=mb,PAe=Et,xAe=Kt,SS=PAe("species"),RAe=function(t){var r=CAe(t);xAe&&r&&!r[SS]&&IAe(r,SS,{configurable:!0,get:function(){return this}})},MAe=xo,DAe=mb,kS=Hb,FAe=Fu,BAe=jb,NAe=To,LAe=Lb,jAe=hb,Bc=vb,zAe=RAe,Xo=Kt,ES=mh.fastKey,Yx=Ja,TS=Yx.set,jp=Yx.getterFor,Xx={getConstructor:function(t,r,e,n){var i=t(function(u,c){BAe(u,a),TS(u,{type:r,index:MAe(null),first:void 0,last:void 0,size:0}),Xo||(u.size=0),NAe(c)||LAe(c,u[n],{that:u,AS_ENTRIES:e})}),a=i.prototype,s=jp(r),o=function(u,c,d){var f=s(u),h=l(u,c),v,p;return h?h.value=d:(f.last=h={index:p=ES(c,!0),key:c,value:d,previous:v=f.last,next:void 0,removed:!1},f.first||(f.first=h),v&&(v.next=h),Xo?f.size++:u.size++,p!=="F"&&(f.index[p]=h)),u},l=function(u,c){var d=s(u),f=ES(c),h;if(f!=="F")return d.index[f];for(h=d.first;h;h=h.next)if(h.key===c)return h};return kS(a,{clear:function(){for(var c=this,d=s(c),f=d.index,h=d.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete f[h.index],h=h.next;d.first=d.last=void 0,Xo?d.size=0:c.size=0},delete:function(u){var c=this,d=s(c),f=l(c,u);if(f){var h=f.next,v=f.previous;delete d.index[f.index],f.removed=!0,v&&(v.next=h),h&&(h.previous=v),d.first===f&&(d.first=h),d.last===f&&(d.last=v),Xo?d.size--:c.size--}return!!f},forEach:function(c){for(var d=s(this),f=FAe(c,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:d.first;)for(f(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(c){return!!l(this,c)}}),kS(a,e?{get:function(c){var d=l(this,c);return d&&d.value},set:function(c,d){return o(this,c===0?0:c,d)}}:{add:function(c){return o(this,c=c===0?0:c,c)}}),Xo&&DAe(a,"size",{configurable:!0,get:function(){return s(this).size}}),i},setStrong:function(t,r,e){var n=r+" Iterator",i=jp(r),a=jp(n);jAe(t,r,function(s,o){TS(this,{type:n,target:s,state:i(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=void 0,Bc(void 0,!0)):Bc(o==="keys"?l.key:o==="values"?l.value:[l.key,l.value],!1)},e?"entries":"values",!e,!0),zAe(r)}},HAe=zb,WAe=Xx;HAe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},WAe);var VAe=Ve,UAe=VAe.Map,GAe=UAe,KAe=GAe,qAe=KAe,Zx=ye(qAe),YAe=function(){function t(){re(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},xt(this.options,this.defaultOptions)}return ne(t,[{key:"setOptions",value:function(e){var n=["useDefaultGroups"];if(e!==void 0){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&He(n).call(n,i)===-1){var a=e[i];this.add(i,a)}}}},{key:"clear",value:function(){this._groups=new Zx,this._groupNames=[]}},{key:"get",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._groups.get(e);if(i===void 0&&n)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){var a=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[a]),this._groups.set(e,i)}else{var s=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[s],this._groups.set(e,i)}return i}},{key:"add",value:function(e,n){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,n),n}}]),t}(),XAe=ke;XAe({target:"Number",stat:!0},{isNaN:function(r){return r!==r}});var ZAe=Ve,QAe=ZAe.Number.isNaN,JAe=QAe,ewe=JAe,twe=ewe,Ey=ye(twe),rwe=kt,nwe=rwe.isFinite,iwe=Number.isFinite||function(r){return typeof r=="number"&&nwe(r)},awe=ke,swe=iwe;awe({target:"Number",stat:!0},{isFinite:swe});var owe=Ve,lwe=owe.Number.isFinite,uwe=lwe,cwe=uwe,dwe=cwe,ma=ye(dwe),fwe=ke,hwe=Qi.some,vwe=Fo,pwe=vwe("some");fwe({target:"Array",proto:!0,forced:!pwe},{some:function(r){return hwe(this,r,arguments.length>1?arguments[1]:void 0)}});var gwe=Xt,ywe=gwe("Array").some,mwe=Ct,bwe=ywe,zp=Array.prototype,$we=function(t){var r=t.some;return t===zp||mwe(zp,t)&&r===zp.some?bwe:r},Awe=$we,wwe=Awe,_we=wwe,Swe=ye(_we),kwe=Ve,Ewe=kwe.Object.getOwnPropertySymbols,Twe=Ewe,Owe=Twe,Cwe=Owe,Wi=ye(Cwe),Qx={exports:{}},Iwe=ke,Pwe=We,xwe=Hn,Jx=Eo.f,eR=Kt,Rwe=!eR||Pwe(function(){Jx(1)});Iwe({target:"Object",stat:!0,forced:Rwe,sham:!eR},{getOwnPropertyDescriptor:function(r,e){return Jx(xwe(r),e)}});var Mwe=Ve,tR=Mwe.Object,Dwe=Qx.exports=function(r,e){return tR.getOwnPropertyDescriptor(r,e)};tR.getOwnPropertyDescriptor.sham&&(Dwe.sham=!0);var Fwe=Qx.exports,Bwe=Fwe,rR=Bwe,Nwe=rR,ea=ye(Nwe),Lwe=ke,jwe=Kt,zwe=nye,Hwe=Hn,Wwe=Eo,Vwe=Do;Lwe({target:"Object",stat:!0,sham:!jwe},{getOwnPropertyDescriptors:function(r){for(var e=Hwe(r),n=Wwe.f,i=zwe(e),a={},s=0,o,l;i.length>s;)l=n(e,o=i[s++]),l!==void 0&&Vwe(a,o,l);return a}});var Uwe=Ve,Gwe=Uwe.Object.getOwnPropertyDescriptors,Kwe=Gwe,qwe=Kwe,Ywe=qwe,Vi=ye(Ywe),nR={exports:{}},Xwe=ke,Zwe=Kt,OS=nh.f;Xwe({target:"Object",stat:!0,forced:Object.defineProperties!==OS,sham:!Zwe},{defineProperties:OS});var Qwe=Ve,iR=Qwe.Object,Jwe=nR.exports=function(r,e){return iR.defineProperties(r,e)};iR.defineProperties.sham&&(Jwe.sham=!0);var e_e=nR.exports,t_e=e_e,r_e=t_e,n_e=r_e,bh=ye(n_e),i_e=l2,$h=ye(i_e);function Ah(t,r,e){return r=z2(r),r in t?oh(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var aR=kt,a_e=We,s_e=Ue,o_e=Wn,l_e=J2.trim,u_e=kb,c_e=s_e("".charAt),Zd=aR.parseFloat,CS=aR.Symbol,IS=CS&&CS.iterator,d_e=1/Zd(u_e+"-0")!==-1/0||IS&&!a_e(function(){Zd(Object(IS))}),f_e=d_e?function(r){var e=l_e(o_e(r)),n=Zd(e);return n===0&&c_e(e,0)==="-"?-0:n}:Zd,h_e=ke,PS=f_e;h_e({global:!0,forced:parseFloat!==PS},{parseFloat:PS});var v_e=Ve,p_e=v_e.parseFloat,g_e=p_e,y_e=g_e,m_e=y_e,sR=ye(m_e),b_e=ke,$_e=We,A_e=lh.f,w_e=$_e(function(){return!Object.getOwnPropertyNames(1)});b_e({target:"Object",stat:!0,forced:w_e},{getOwnPropertyNames:A_e});var __e=Ve,S_e=__e.Object,k_e=function(r){return S_e.getOwnPropertyNames(r)},E_e=k_e,T_e=E_e,O_e=T_e,C_e=ye(O_e);function Wb(t,r){var e=["node","edge","label"],n=!0,i=Oi(r,"chosen");if(typeof i=="boolean")n=i;else if(rt(i)==="object"){if(He(e).call(e,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+e.join("', '")+"'");var a=Oi(r,["chosen",t]);(typeof a=="boolean"||typeof a=="function")&&(n=a)}return n}function Ty(t,r,e){if(t.width<=0||t.height<=0)return!1;if(e!==void 0){var n={x:r.x-e.x,y:r.y-e.y};if(e.angle!==0){var i=-e.angle,a={x:Math.cos(i)*n.x-Math.sin(i)*n.y,y:Math.sin(i)*n.x+Math.cos(i)*n.y};r=a}else r=n}var s=t.x+t.width,o=t.y+t.width;return t.left<r.x&&s>r.x&&t.top<r.y&&o>r.y}function Qd(t){return typeof t=="string"&&t!==""}function oR(t,r,e,n){var i=n.x,a=n.y;if(typeof n.distanceToBorder=="function"){var s=n.distanceToBorder(t,r),o=Math.sin(r)*s,l=Math.cos(r)*s;l===s?(i+=s,a=n.y):o===s?(i=n.x,a-=s):(i+=l,a-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,a=n.y-e):(i=n.x+e,a=n.y-n.shape.height*.5);return{x:i,y:a}}var I_e=Xt,P_e=I_e("Array").values,x_e=P_e,R_e=x_e,M_e=Qa,D_e=Yt,F_e=Ct,B_e=R_e,Hp=Array.prototype,N_e={DOMTokenList:!0,NodeList:!0},L_e=function(t){var r=t.values;return t===Hp||F_e(Hp,t)&&r===Hp.values||D_e(N_e,M_e(t))?B_e:r},j_e=L_e,lR=ye(j_e),z_e=function(){function t(r){re(this,t),this.measureText=r,this.current=0,this.width=0,this.height=0,this.lines=[]}return ne(t,[{key:"_add",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});var a=n;(n===void 0||n==="")&&(a=" ");var s=this.measureText(a,i),o=xt({},lR(s));o.text=n,o.width=s.width,o.mod=i,(n===void 0||n==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return e===void 0?0:e.width}},{key:"append",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,n)}},{key:"newLine",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,n),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var n=this.lines[e],i=0;if(n.blocks!==void 0)for(var a=0;a<n.blocks.length;a++){var s=n.blocks[a];i<s.height&&(i=s.height)}n.height=i}}},{key:"determineLabelSize",value:function(){for(var e=0,n=0,i=0;i<this.lines.length;i++){var a=this.lines[i];a.width>e&&(e=a.width),n+=a.height}this.width=e,this.height=n}},{key:"removeEmptyBlocks",value:function(){for(var e=[],n=0;n<this.lines.length;n++){var i=this.lines[n];if(i.blocks.length!==0&&!(n===this.lines.length-1&&i.width===0)){var a={};xt(a,i),a.blocks=[];for(var s=void 0,o=[],l=0;l<i.blocks.length;l++){var u=i.blocks[l];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),a.blocks=o,e.push(a)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),t}(),H_e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},xS=function(){function t(r){re(this,t),this.text=r,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return ne(t,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,n){return!this.mono&&!this[e]&&this.match(n)?(this.setTag(e),!0):!1}},{key:"match",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this.prepareRegExp(e),a=$t(i,2),s=a[0],o=a[1],l=s.test(this.text.substr(this.position,o));return l&&n&&(this.position+=o-1),l}},{key:"parseEndTag",value:function(e,n,i){var a=this.mod()===e;return e==="mono"?a=a&&this.mono:a=a&&!this.mono,a&&this.match(n)?(i!==void 0?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}},{key:"replace",value:function(e,n){return this.match(e)?(this.add(n),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(e){var n,i;if(e instanceof RegExp)i=e,n=1;else{var a=H_e[e];a!==void 0?i=a:i=new RegExp(e),n=e.length}return[i,n]}}]),t}(),W_e=function(){function t(r,e,n,i){var a=this;re(this,t),this.ctx=r,this.parent=e,this.selected=n,this.hover=i;var s=function(l,u){if(l===void 0)return 0;var c=a.parent.getFormattingValues(r,n,i,u),d=0;if(l!==""){var f=a.ctx.measureText(l);d=f.width}return{width:d,values:c}};this.lines=new z_e(s)}return ne(t,[{key:"process",value:function(e){if(!Qd(e))return this.lines.finalize();var n=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);var i=String(e).split(`
`),a=i.length;if(n.multi)for(var s=0;s<a;s++){var o=this.splitBlocks(i[s],n.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(n.maxWdt>0)for(var l=0;l<o.length;l++){var u=o[l].mod,c=o[l].text;this.splitStringIntoLines(c,u,!0)}else for(var d=0;d<o.length;d++){var f=o[d].mod,h=o[d].text;this.lines.append(h,f)}this.lines.newLine()}}else if(n.maxWdt>0)for(var v=0;v<a;v++)this.splitStringIntoLines(i[v]);else for(var p=0;p<a;p++)this.lines.newLine(i[p]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var n="none";return e==="markdown"||e==="md"?n="markdown":(e===!0||e==="html")&&(n="html"),n}},{key:"splitHtmlBlocks",value:function(e){for(var n=new xS(e),i=function(l){if(/&/.test(l)){var u=n.replace(n.text,"&lt;","<")||n.replace(n.text,"&amp;","&");return u||n.add("&"),!0}return!1};n.position<n.text.length;){var a=n.text.charAt(n.position),s=n.parseWS(a)||/</.test(a)&&(n.parseStartTag("bold","<b>")||n.parseStartTag("ital","<i>")||n.parseStartTag("mono","<code>")||n.parseEndTag("bold","</b>")||n.parseEndTag("ital","</i>")||n.parseEndTag("mono","</code>"))||i(a);s||n.add(a),n.position++}return n.emitBlock(),n.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var n=this,i=new xS(e),a=!0,s=function(c){return/\\/.test(c)?(i.position<n.text.length+1&&(i.position++,c=n.text.charAt(i.position),/ \t/.test(c)?i.spacing=!0:(i.add(c),a=!1)),!0):!1};i.position<i.text.length;){var o=i.text.charAt(i.position),l=i.parseWS(o)||s(o)||(a||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono");l||(i.add(o),a=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(e,n){var i=this.decodeMarkupSystem(n);if(i==="none")return[{text:e,mod:"normal"}];if(i==="markdown")return this.splitMarkdownBlocks(e);if(i==="html")return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function(e){var n=this.ctx.measureText(e).width;return this.lines.curWidth()+n>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var n="",i=0;i<e.length;){var a=n===""?"":" ",s=n+a+e[i];if(this.overMaxWidth(s))break;n=s,i++}return i}},{key:"getLongestFitWord",value:function(e){for(var n=0;n<e.length&&!this.overMaxWidth(Jt(e).call(e,0,n));)n++;return n}},{key:"splitStringIntoLines",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,n),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var a=e.split("\r");a.length>0;){var s=this.getLongestFit(a);if(s===0){var o=a[0],l=this.getLongestFitWord(o);this.lines.newLine(Jt(o).call(o,0,l),n),a[0]=Jt(o).call(o,l)}else{var u=s;a[s-1]===" "?s--:a[u]===" "&&u++;var c=Jt(a).call(a,0,s).join("");s==a.length&&i?this.lines.append(c,n):this.lines.newLine(c,n),a=Jt(a).call(a,u)}}}}]),t}(),Zo=["bold","ital","boldital","mono"],uR=function(){function t(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;re(this,t),this.body=r,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return ne(t,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),Qd(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(rt(e.font)==="object"){var n=e.font.size;n!==void 0&&(this.baseSize=n)}}}},{key:"initFontOptions",value:function(e){var n=this;if(Be(Zo,function(i){n.fontOptions[i]={}}),t.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Be(e,function(i,a){i!=null&&rt(i)!=="object"&&(n.fontOptions[a]=i)})}},{key:"constrain",value:function(e){var n={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Oi(e,"widthConstraint");if(typeof i=="number")n.maxWdt=Number(i),n.minWdt=Number(i);else if(rt(i)==="object"){var a=Oi(e,["widthConstraint","maximum"]);typeof a=="number"&&(n.maxWdt=Number(a));var s=Oi(e,["widthConstraint","minimum"]);typeof s=="number"&&(n.minWdt=Number(s))}var o=Oi(e,"heightConstraint");if(typeof o=="number")n.minHgt=Number(o);else if(rt(o)==="object"){var l=Oi(e,["heightConstraint","minimum"]);typeof l=="number"&&(n.minHgt=Number(l));var u=Oi(e,["heightConstraint","valign"]);typeof u=="string"&&(u==="top"||u==="bottom")&&(n.valign=u)}return n}},{key:"update",value:function(e,n){this.setOptions(e,!0),this.propagateFonts(n),ft(this.fontOptions,this.constrain(n)),this.fontOptions.chooser=Wb("label",n)}},{key:"adjustSizes",value:function(e){var n=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=n,this.fontOptions.minWdt-=n);var i=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(e,n){for(var i=0;i<n.length;++i)this.addFontToPile(e,n[i])}},{key:"addFontToPile",value:function(e,n){if(n!==void 0&&!(n.font===void 0||n.font===null)){var i=n.font;e.push(i)}}},{key:"getBasicOptions",value:function(e){for(var n={},i=0;i<e.length;++i){var a=e[i],s={};t.parseFontString(s,a)&&(a=s),Be(a,function(o,l){o!==void 0&&(Object.prototype.hasOwnProperty.call(n,l)||(He(Zo).call(Zo,l)!==-1?n[l]={}:n[l]=o))})}return n}},{key:"getFontOption",value:function(e,n,i){for(var a,s=0;s<e.length;++s){var o=e[s];if(Object.prototype.hasOwnProperty.call(o,n)){if(a=o[n],a==null)continue;var l={};if(t.parseFontString(l,a)&&(a=l),Object.prototype.hasOwnProperty.call(a,i))return a[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,n){for(var i={},a=["color","size","face","mod","vadjust"],s=0;s<a.length;++s){var o=a[s];i[o]=this.getFontOption(e,n,o)}return i}},{key:"propagateFonts",value:function(e){var n=this,i=[];this.addFontOptionsToPile(i,e),this.fontOptions=this.getBasicOptions(i);for(var a=function(){var l=Zo[s],u=n.fontOptions[l],c=n.getFontOptions(i,l);Be(c,function(d,f){u[f]=d}),u.size=Number(u.size),u.vadjust=Number(u.vadjust)},s=0;s<Zo.length;++s)a()}},{key:"draw",value:function(e,n,i,a,s){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var l=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&l<this.elementOptions.scaling.label.drawThreshold-1||(l>=this.elementOptions.scaling.label.maxVisible&&(l=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,a,s,n,i,o),this._drawBackground(e),this._drawText(e,n,this.size.yLine,o,l))}}},{key:"_drawBackground",value:function(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;var n=this.getSize();e.fillRect(n.left,n.top,n.width,n.height)}}},{key:"_drawText",value:function(e,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0,o=this._setAlignment(e,n,i,a),l=$t(o,2);n=l[0],i=l[1],e.textAlign="left",n=n-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(i-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(i+=(this.size.height-this.size.labelHeight)/2));for(var u=0;u<this.lineCount;u++){var c=this.lines[u];if(c&&c.blocks){var d=0;this.isEdgeLabel||this.fontOptions.align==="center"?d+=(this.size.width-c.width)/2:this.fontOptions.align==="right"&&(d+=this.size.width-c.width);for(var f=0;f<c.blocks.length;f++){var h=c.blocks[f];e.font=h.font;var v=this._getColor(h.color,s,h.strokeColor),p=$t(v,2),m=p[0],y=p[1];h.strokeWidth>0&&(e.lineWidth=h.strokeWidth,e.strokeStyle=y,e.lineJoin="round"),e.fillStyle=m,h.strokeWidth>0&&e.strokeText(h.text,n+d,i+h.vadjust),e.fillText(h.text,n+d,i+h.vadjust),d+=h.width}i+=c.height}}}},{key:"_setAlignment",value:function(e,n,i,a){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){n=0,i=0;var s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",i-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",i+=2*s):e.textBaseline="middle"}else e.textBaseline=a;return[n,i]}},{key:"_getColor",value:function(e,n,i){var a=e||"#000000",s=i||"#ffffff";if(n<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-n)));a=Yr(a,o),s=Yr(s,o)}return[a,s]}},{key:"getTextSize",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,n,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=2,n=this.size.left,i=this.size.top-.5*e;if(this.isEdgeLabel){var a=-this.size.width*.5;switch(this.fontOptions.align){case"middle":n=a,i=-this.size.height*.5;break;case"top":n=a,i=-(this.size.height+e);break;case"bottom":n=a,i=e;break}}var s={left:n,top:i,width:this.size.width,height:this.size.height};return s}},{key:"calculateLabelSize",value:function(e,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,n,i),this.size.left=a-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,n,i,a){var s=function(c,d,f){return d==="normal"?f==="mod"?"":c[f]:c[d][f]!==void 0?c[d][f]:c[f]},o={color:s(this.fontOptions,a,"color"),size:s(this.fontOptions,a,"size"),face:s(this.fontOptions,a,"face"),mod:s(this.fontOptions,a,"mod"),vadjust:s(this.fontOptions,a,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(n||i)&&(a==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,n,i));var l="";return o.mod!==void 0&&o.mod!==""&&(l+=o.mod+" "),l+=o.size+"px "+o.face,e.font=l.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,n){return e!==this.selectedState||n!==this.hoverState}},{key:"_processLabelText",value:function(e,n,i,a){var s=new W_e(e,this,n,i);return s.process(a)}},{key:"_processLabel",value:function(e,n,i){if(!(this.labelDirty===!1&&!this.differentState(n,i))){var a=this._processLabelText(e,n,i,this.elementOptions.label);this.fontOptions.minWdt>0&&a.width<this.fontOptions.minWdt&&(a.width=this.fontOptions.minWdt),this.size.labelHeight=a.height,this.fontOptions.minHgt>0&&a.height<this.fontOptions.minHgt&&(a.height=this.fontOptions.minHgt),this.lines=a.lines,this.lineCount=a.lines.length,this.size.width=a.width,this.size.height=a.height,this.selectedState=n,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var e=this.fontOptions.size*this.body.view.scale;return!(e<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,n){if(!n||typeof n!="string")return!1;var i=n.split(" ");return e.size=+i[0].replace("px",""),e.face=i[1],e.color=i[2],!0}}]),t}(),V_e=ah,U_e=Co,G_e=TypeError,K_e=function(t){if(V_e(t))return t;throw new G_e(U_e(t)+" is not a constructor")},q_e=ke,Y_e=nn,Wp=Cu,X_e=OP,RS=K_e,Z_e=Ur,MS=qt,Q_e=xo,cR=We,Vb=Y_e("Reflect","construct"),J_e=Object.prototype,eSe=[].push,dR=cR(function(){function t(){}return!(Vb(function(){},[],t)instanceof t)}),fR=!cR(function(){Vb(function(){})}),DS=dR||fR;q_e({target:"Reflect",stat:!0,forced:DS,sham:DS},{construct:function(r,e){RS(r),Z_e(e);var n=arguments.length<3?r:RS(arguments[2]);if(fR&&!dR)return Vb(r,e,n);if(r===n){switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3])}var i=[null];return Wp(eSe,i,e),new(Wp(X_e,r,i))}var a=n.prototype,s=Q_e(MS(a)?a:J_e),o=Wp(r,s,e);return MS(o)?o:s}});var tSe=Ve,rSe=tSe.Reflect.construct,nSe=rSe,iSe=nSe,aSe=iSe,H=ye(aSe),sSe=nx,oSe=sSe,lSe=oSe,uSe=lSe,cSe=uSe,dSe=ye(cSe),fSe=ke,hSe=dce;fSe({target:"Object",stat:!0},{setPrototypeOf:hSe});var vSe=Ve,pSe=vSe.Object.setPrototypeOf,gSe=pSe,ySe=gSe,mSe=ySe,bSe=mSe,$Se=bSe,ASe=$Se,wSe=ASe,Oy=ye(wSe),_Se=CP,SSe=_Se,kSe=SSe,ESe=kSe,TSe=ESe,Ub=ye(TSe);function Cy(t,r){var e;return Cy=Oy?Ub(e=Oy).call(e):function(i,a){return i.__proto__=a,i},Cy(t,r)}function Ge(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=dSe(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),oh(t,"prototype",{writable:!1}),r&&Cy(t,r)}function OSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t,r){if(r&&(rt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OSe(t)}var CSe=Q2,ISe=CSe,PSe=ISe,xSe=PSe,RSe=xSe,FS=ye(RSe);function ve(t){var r;return ve=Oy?Ub(r=FS).call(r):function(n){return n.__proto__||FS(n)},ve(t)}var is=function(){function t(r,e,n){re(this,t),this.body=e,this.labelModule=n,this.setOptions(r),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return ne(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&(rt(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,n){var i=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(n)),Math.abs(this.height/2/Math.sin(n)))+i}},{key:"enableShadow",value:function(e,n){n.shadow&&(e.shadowColor=n.shadowColor,e.shadowBlur=n.shadowSize,e.shadowOffsetX=n.shadowX,e.shadowOffsetY=n.shadowY)}},{key:"disableShadow",value:function(e,n){n.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,n){if(n.borderDashes!==!1)if(e.setLineDash!==void 0){var i=n.borderDashes;i===!0&&(i=[5,15]),e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,n.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,n){n.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,n.borderDashes=!1))}},{key:"needsRefresh",value:function(e,n){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,n)}},{key:"initContextForDraw",value:function(e,n){var i=n.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,i),e.strokeStyle=n.borderColor,e.fillStyle=n.color}},{key:"performStroke",value:function(e,n){var i=n.borderWidth/this.body.view.scale;e.save(),i>0&&(this.enableBorderDashes(e,n),e.stroke(),this.disableBorderDashes(e,n)),e.restore()}},{key:"performFill",value:function(e,n){e.save(),e.fillStyle=n.color,this.enableShadow(e,n),Ku(e).call(e),this.disableShadow(e,n),e.restore(),this.performStroke(e,n)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,n,i,a,s){i!==void 0&&this.resize(i,a,s),this.left=e-this.width/2,this.top=n-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,n,i,a,s){this._updateBoundingBox(e,n,i,a,s)}},{key:"getDimensionsFromLabel",value:function(e,n,i){this.textSize=this.labelModule.getTextSize(e,n,i);var a=this.textSize.width,s=this.textSize.height,o=14;return a===0&&(a=o,s=o),{width:a,height:s}}}]),t}();function MSe(t){var r=DSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function DSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var FSe=function(t){Ge(e,t);var r=MSe(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s._setMargins(a),s}return ne(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(i,a,s);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(i,a,s,o,l,u){this.resize(i,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(i,u),IP(i,this.left,this.top,this.width,this.height,u.borderRadius),this.performFill(i,u),this.updateBoundingBox(a,s,i,o,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"updateBoundingBox",value:function(i,a,s,o,l){this._updateBoundingBox(i,a,s,o,l);var u=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(u)}},{key:"distanceToBorder",value:function(i,a){i&&this.resize(i);var s=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(a)),Math.abs(this.height/2/Math.sin(a)))+s}}]),e}(is);function BSe(t){var r=NSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function NSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var Gb=function(t){Ge(e,t);var r=BSe(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s.labelOffset=0,s.selected=!1,s}return ne(e,[{key:"setOptions",value:function(i,a,s){this.options=i,a===void 0&&s===void 0||this.setImages(a,s)}},{key:"setImages",value:function(i,a){a&&this.selected?(this.imageObj=a,this.imageObjAlt=i):(this.imageObj=i,this.imageObjAlt=a)}},{key:"switchImages",value:function(i){var a=i&&!this.selected||!i&&this.selected;if(this.selected=i,this.imageObjAlt!==void 0&&a){var s=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=s}}},{key:"_getImagePadding",value:function(){var i={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var a=this.options.imagePadding;rt(a)=="object"?(i.top=a.top,i.right=a.right,i.bottom=a.bottom,i.left=a.left):(i.top=a,i.right=a,i.bottom=a,i.left=a)}return i}},{key:"_resizeImage",value:function(){var i,a;if(this.options.shapeProperties.useImageSize===!1){var s=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?s=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),i=this.options.size*2*s,a=this.options.size*2*o}else{var l=this._getImagePadding();i=this.imageObj.width+l.left+l.right,a=this.imageObj.height+l.top+l.bottom}this.width=i,this.height=a,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(i,a,s,o){this.initContextForDraw(i,o),ub(i,a,s,o.size),this.performFill(i,o)}},{key:"_drawImageAtPosition",value:function(i,a){if(this.imageObj.width!=0){i.globalAlpha=a.opacity!==void 0?a.opacity:1,this.enableShadow(i,a);var s=1;this.options.shapeProperties.interpolation===!0&&(s=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),l=this.left+o.left,u=this.top+o.top,c=this.width-o.left-o.right,d=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(i,s,l,u,c,d),this.disableShadow(i,a)}}},{key:"_drawImageLabel",value:function(i,a,s,o,l){var u=0;if(this.height!==void 0){u=this.height*.5;var c=this.labelModule.getTextSize(i,o,l);c.lineCount>=1&&(u+=c.height/2)}var d=s+u;this.options.label&&(this.labelOffset=u),this.labelModule.draw(i,a,d,o,l,"hanging")}}]),e}(is);function LSe(t){var r=jSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function jSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var zSe=function(t){Ge(e,t);var r=LSe(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s._setMargins(a),s}return ne(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(i,a,s),l=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=l/2,this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(i,a,s,o,l,u){this.resize(i,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this._drawRawCircle(i,a,s,u),this.updateBoundingBox(a,s),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,s,o,l)}},{key:"updateBoundingBox",value:function(i,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=a+this.options.size}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.width*.5}}]),e}(Gb);function HSe(t){var r=WSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function WSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var VSe=function(t){Ge(e,t);var r=HSe(e);function e(n,i,a,s,o){var l;return re(this,e),l=r.call(this,n,i,a),l.setImages(s,o),l}return ne(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l,this.radius=.5*this.width;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(i,a,s,o,l,u){this.switchImages(o),this.resize();var c=a,d=s;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,c+=this.width/2,d+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this._drawRawCircle(i,c,d,u),i.save(),i.clip(),this._drawImageAtPosition(i,u),i.restore(),this._drawImageLabel(i,c,d,o,l),this.updateBoundingBox(a,s)}},{key:"updateBoundingBox",value:function(i,a){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=a,this.boundingBox.left=i,this.boundingBox.right=i+this.options.size*2,this.boundingBox.bottom=a+this.options.size*2):(this.boundingBox.top=a-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=a+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.width*.5}}]),e}(Gb);function USe(t){var r=GSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function GSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var ta=function(t){Ge(e,t);var r=USe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(a,s)){var l,u;this.labelModule.getTextSize(i,a,s);var c=2*o.size;this.width=(l=this.customSizeWidth)!==null&&l!==void 0?l:c,this.height=(u=this.customSizeHeight)!==null&&u!==void 0?u:c,this.radius=.5*this.width}}},{key:"_drawShape",value:function(i,a,s,o,l,u,c,d){var f=this;return this.resize(i,u,c,d),this.left=o-this.width/2,this.top=l-this.height/2,this.initContextForDraw(i,d),Tle(a)(i,o,l,d.size),this.performFill(i,d),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(i.font=(u?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",i.fillText(this.options.icon.code,o,l)),{drawExternalLabel:function(){if(f.options.label!==void 0){f.labelModule.calculateLabelSize(i,u,c,o,l,"hanging");var v=l+.5*f.height+.5*f.labelModule.size.height;f.labelModule.draw(i,o,v,u,c,"hanging")}f.updateBoundingBox(o,l)}}}},{key:"updateBoundingBox",value:function(i,a){this.boundingBox.top=a-this.options.size,this.boundingBox.left=i-this.options.size,this.boundingBox.right=i+this.options.size,this.boundingBox.bottom=a+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),e}(is);function BS(t,r){var e=bt(t);if(Wi){var n=Wi(t);r&&(n=Er(n).call(n,function(i){return ea(t,i).enumerable})),e.push.apply(e,n)}return e}function KSe(t){for(var r=1;r<arguments.length;r++){var e,n,i=arguments[r]!=null?arguments[r]:{};r%2?ot(e=BS(Object(i),!0)).call(e,function(a){Ah(t,a,i[a])}):Vi?bh(t,Vi(i)):ot(n=BS(Object(i))).call(n,function(a){$h(t,a,ea(i,a))})}return t}function qSe(t){var r=YSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function YSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var XSe=function(t){Ge(e,t);var r=qSe(e);function e(n,i,a,s){var o;return re(this,e),o=r.call(this,n,i,a,s),o.ctxRenderer=s,o}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){this.resize(i,o,l,u),this.left=a-this.width/2,this.top=s-this.height/2,i.save();var c=this.ctxRenderer({ctx:i,id:this.options.id,x:a,y:s,state:{selected:o,hover:l},style:KSe({},u),label:this.options.label});if(c.drawNode!=null&&c.drawNode(),i.restore(),c.drawExternalLabel){var d=c.drawExternalLabel;c.drawExternalLabel=function(){i.save(),d(),i.restore()}}return c.nodeDimensions&&(this.customSizeWidth=c.nodeDimensions.width,this.customSizeHeight=c.nodeDimensions.height),c}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function ZSe(t){var r=QSe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function QSe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var JSe=function(t){Ge(e,t);var r=ZSe(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s._setMargins(a),s}return ne(e,[{key:"resize",value:function(i,a,s){if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(i,a,s),l=o.width+this.margin.right+this.margin.left;this.width=l,this.height=l,this.radius=this.width/2}}},{key:"draw",value:function(i,a,s,o,l,u){this.resize(i,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.initContextForDraw(i,u),PP(i,a-this.width/2,s-this.height/2,this.width,this.height),this.performFill(i,u),this.updateBoundingBox(a,s,i,o,l),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(is);function eke(t){var r=tke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function tke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var rke=function(t){Ge(e,t);var r=eke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"diamond",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function nke(t){var r=ike();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function ike(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var ake=function(t){Ge(e,t);var r=nke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"circle",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i){return i&&this.resize(i),this.options.size}}]),e}(ta);function ske(t){var r=oke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function oke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var NS=function(t){Ge(e,t);var r=ske(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(a,s)){var o=this.getDimensionsFromLabel(i,a,s);this.height=o.height*2,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(i,a,s,o,l,u){this.resize(i,o,l),this.left=a-this.width*.5,this.top=s-this.height*.5,this.initContextForDraw(i,u),ry(i,this.left,this.top,this.width,this.height),this.performFill(i,u),this.updateBoundingBox(a,s,i,o,l),this.labelModule.draw(i,a,s,o,l)}},{key:"distanceToBorder",value:function(i,a){i&&this.resize(i);var s=this.width*.5,o=this.height*.5,l=Math.sin(a)*s,u=Math.cos(a)*o;return s*o/Math.sqrt(l*l+u*u)}}]),e}(is);function lke(t){var r=uke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function uke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var cke=function(t){Ge(e,t);var r=lke(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s._setMargins(a),s}return ne(e,[{key:"resize",value:function(i,a,s){this.needsRefresh(a,s)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,a,s,o,l,u){var c=this;return this.resize(i,o,l),this.options.icon.size=this.options.icon.size||50,this.left=a-this.width/2,this.top=s-this.height/2,this._icon(i,a,s,o,l,u),{drawExternalLabel:function(){if(c.options.label!==void 0){var f=5;c.labelModule.draw(i,c.left+c.iconSize.width/2+c.margin.left,s+c.height/2+f,o)}c.updateBoundingBox(a,s)}}}},{key:"updateBoundingBox",value:function(i,a){if(this.boundingBox.top=a-this.options.icon.size*.5,this.boundingBox.left=i-this.options.icon.size*.5,this.boundingBox.right=i+this.options.icon.size*.5,this.boundingBox.bottom=a+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var s=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+s)}}},{key:"_icon",value:function(i,a,s,o,l,u){var c=Number(this.options.icon.size);this.options.icon.code!==void 0?(i.font=[this.options.icon.weight!=null?this.options.icon.weight:o?"bold":"",(this.options.icon.weight!=null&&o?5:0)+c+"px",this.options.icon.face].join(" "),i.fillStyle=this.options.icon.color||"black",i.textAlign="center",i.textBaseline="middle",this.enableShadow(i,u),i.fillText(this.options.icon.code,a,s),this.disableShadow(i,u)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(is);function dke(t){var r=fke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function fke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var hke=function(t){Ge(e,t);var r=dke(e);function e(n,i,a,s,o){var l;return re(this,e),l=r.call(this,n,i,a),l.setImages(s,o),l}return ne(e,[{key:"resize",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,o=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(o){var l=this.options.size*2;this.width=l,this.height=l;return}this.needsRefresh(a,s)&&this._resizeImage()}},{key:"draw",value:function(i,a,s,o,l,u){i.save(),this.switchImages(o),this.resize();var c=a,d=s;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=a,this.top=s,c+=this.width/2,d+=this.height/2):(this.left=a-this.width/2,this.top=s-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){var f=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,v=(o?h:f)/this.body.view.scale;i.lineWidth=Math.min(this.width,v),i.beginPath();var p=o?this.options.color.highlight.border:l?this.options.color.hover.border:this.options.color.border,m=o?this.options.color.highlight.background:l?this.options.color.hover.background:this.options.color.background;u.opacity!==void 0&&(p=Yr(p,u.opacity),m=Yr(m,u.opacity)),i.strokeStyle=p,i.fillStyle=m,i.rect(this.left-.5*i.lineWidth,this.top-.5*i.lineWidth,this.width+i.lineWidth,this.height+i.lineWidth),Ku(i).call(i),this.performStroke(i,u),i.closePath()}this._drawImageAtPosition(i,u),this._drawImageLabel(i,c,d,o,l),this.updateBoundingBox(a,s),i.restore()}},{key:"updateBoundingBox",value:function(i,a){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=i,this.top=a):(this.left=i-this.width/2,this.top=a-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(Gb);function vke(t){var r=pke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function pke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var gke=function(t){Ge(e,t);var r=vke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"square",2,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function yke(t){var r=mke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function mke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var bke=function(t){Ge(e,t);var r=yke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"hexagon",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function $ke(t){var r=Ake();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function Ake(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var wke=function(t){Ge(e,t);var r=$ke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"star",4,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function _ke(t){var r=Ske();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function Ske(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var kke=function(t){Ge(e,t);var r=_ke(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s._setMargins(a),s}return ne(e,[{key:"resize",value:function(i,a,s){this.needsRefresh(a,s)&&(this.textSize=this.labelModule.getTextSize(i,a,s),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(i,a,s,o,l,u){this.resize(i,o,l),this.left=a-this.width/2,this.top=s-this.height/2,this.enableShadow(i,u),this.labelModule.draw(i,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,l),this.disableShadow(i,u),this.updateBoundingBox(a,s,i,o,l)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(is);function Eke(t){var r=Tke();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function Tke(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var Oke=function(t){Ge(e,t);var r=Eke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"triangle",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function Cke(t){var r=Ike();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function Ike(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var Pke=function(t){Ge(e,t);var r=Cke(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"draw",value:function(i,a,s,o,l,u){return this._drawShape(i,"triangleDown",3,a,s,o,l,u)}},{key:"distanceToBorder",value:function(i,a){return this._distanceToBorder(i,a)}}]),e}(ta);function LS(t,r){var e=bt(t);if(Wi){var n=Wi(t);r&&(n=Er(n).call(n,function(i){return ea(t,i).enumerable})),e.push.apply(e,n)}return e}function jS(t){for(var r=1;r<arguments.length;r++){var e,n,i=arguments[r]!=null?arguments[r]:{};r%2?ot(e=LS(Object(i),!0)).call(e,function(a){Ah(t,a,i[a])}):Vi?bh(t,Vi(i)):ot(n=LS(Object(i))).call(n,function(a){$h(t,a,ea(i,a))})}return t}var Fr=function(){function t(r,e,n,i,a,s){re(this,t),this.options=Li(a),this.globalOptions=a,this.defaultOptions=s,this.body=e,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new uR(this.body,this.options,!1),this.setOptions(r)}return ne(t,[{key:"attachEdge",value:function(e){var n;He(n=this.edges).call(n,e)===-1&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var n,i=He(n=this.edges).call(n,e);if(i!=-1){var a;ni(a=this.edges).call(a,i,1)}}},{key:"setOptions",value:function(e){var n=this.options.shape;if(e){if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");t.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=dn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=dn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=sR(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var i=[e,this.options,this.defaultOptions];return this.chooser=Wb("node",i),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(n),e.hidden!==void 0||e.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){var n=this.options.opacity;e.borderColor=Yr(e.borderColor,n),e.color=Yr(e.color,n),e.shadowColor=Yr(e.shadowColor,n)}return e}},{key:"updateLabelModule",value:function(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),t.updateGroupOptions(this.options,jS(jS({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[e,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new FSe(this.options,this.body,this.labelModule);break;case"circle":this.shape=new zSe(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new VSe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new XSe(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new JSe(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new rke(this.options,this.body,this.labelModule);break;case"dot":this.shape=new ake(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new NS(this.options,this.body,this.labelModule);break;case"icon":this.shape=new cke(this.options,this.body,this.labelModule);break;case"image":this.shape=new hke(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new gke(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new bke(this.options,this.body,this.labelModule);break;case"star":this.shape=new wke(this.options,this.body,this.labelModule);break;case"text":this.shape=new kke(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Oke(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Pke(this.options,this.body,this.labelModule);break;default:this.shape=new NS(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,n){return this.shape.distanceToBorder(e,n)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,n,i){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,n,i,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.size=this.options.scaling.min+a*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var n=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,n)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var n=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,n)}},{key:"getItemsOnPoint",value:function(e){var n=[];return this.labelModule.visible()&&Ty(this.labelModule.getSize(),e)&&n.push({nodeId:this.id,labelId:0}),Ty(this.shape.boundingBox,e)&&n.push({nodeId:this.id}),n}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return e===void 0||e==="center"||e==="top-left"}},{key:"updateGroupOptions",value:function(e,n,i){var a;if(i!==void 0){var s=e.group;if(n!==void 0&&n.group!==void 0&&s!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");var o=typeof s=="number"||typeof s=="string"&&s!="";if(o){var l=i.get(s);l.opacity!==void 0&&n.opacity===void 0&&(t.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));var u=Er(a=C_e(n)).call(a,function(c){return n[c]!=null});u.push("font"),Yd(u,e,l),e.color=wy(e.color)}}}},{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,o=["color","fixed","shadow"];if(Yd(o,e,n,i),t.checkMass(n),e.opacity!==void 0&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),n.opacity!==void 0&&(t.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!t.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),qr(e,n,"shadow",a),n.color!==void 0&&n.color!==null){var l=wy(n.color);Rx(e.color,l)}else i===!0&&n.color===null&&(e.color=Li(a.color));n.fixed!==void 0&&n.fixed!==null&&(typeof n.fixed=="boolean"?(e.fixed.x=n.fixed,e.fixed.y=n.fixed):(n.fixed.x!==void 0&&typeof n.fixed.x=="boolean"&&(e.fixed.x=n.fixed.x),n.fixed.y!==void 0&&typeof n.fixed.y=="boolean"&&(e.fixed.y=n.fixed.y))),i===!0&&n.font===null&&(e.font=Li(a.font)),t.updateGroupOptions(e,n,s),n.scaling!==void 0&&qr(e.scaling,n.scaling,"label",a.scaling)}},{key:"checkMass",value:function(e,n){if(e.mass!==void 0&&e.mass<=0){var i="";n!==void 0&&(i=" in node id: "+n),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",Bx),e.mass=1}}}]),t}();function xke(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=Rke(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function Rke(t,r){var e;if(t){if(typeof t=="string")return zS(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(t,r)}}function zS(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var Mke=function(){function t(r,e,n,i){var a,s=this;if(re(this,t),this.body=r,this.images=e,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=X(a=this.create).call(a,this),this.nodesListeners={add:function(l,u){s.add(u.items)},update:function(l,u){s.update(u.items,u.data,u.oldData)},remove:function(l,u){s.remove(u.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(l,u,c,d){if(u===l)return .5;var f=1/(u-l);return Math.max(0,(d-l)*f)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Li(this.defaultOptions),this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e,n,i=this;this.body.emitter.on("refreshNodes",X(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",X(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",function(){Be(i.nodesListeners,function(a,s){i.body.data.nodes&&i.body.data.nodes.off(s,a)}),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){if(Fr.parseOptions(this.options,e),e.opacity!==void 0&&(Ey(e.opacity)||!ma(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(var n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&this.body.nodes[n].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(var i=0,a=bt(this.body.nodes);i<a.length;i++){var s=a[i];this.body.nodes[s].updateLabelModule(),this.body.nodes[s].needsRefresh()}if(e.size!==void 0)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.body.data.nodes;if(uP("id",e))this.body.data.nodes=e;else if(et(e))this.body.data.nodes=new jd,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new jd;else throw new TypeError("Array or DataSet expected");if(i&&Be(this.nodesListeners,function(o,l){i.off(l,o)}),this.body.nodes={},this.body.data.nodes){var a=this;Be(this.nodesListeners,function(o,l){a.body.data.nodes.on(l,o)});var s=this.body.data.nodes.getIds();this.add(s,!0)}n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i,a=[],s=0;s<e.length;s++){i=e[s];var o=this.body.data.nodes.get(i),l=this.create(o);a.push(l),this.body.nodes[i]=l}this.layoutEngine.positionInitially(a),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,n,i){for(var a=this.body.nodes,s=!1,o=0;o<e.length;o++){var l=e[o],u=a[l],c=n[o];u!==void 0?u.setOptions(c)&&(s=!0):(s=!0,u=this.create(c),a[l]=u)}!s&&i!==void 0&&(s=Swe(n).call(n,function(d,f){var h=i[f];return h&&h.level!==d.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var n=this.body.nodes,i=0;i<e.length;i++){var a=e[i];delete n[a]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fr;return new n(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Be(this.body.nodes,function(i,a){var s=e.body.data.nodes.get(a);s!==void 0&&(n===!0&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(s))})}},{key:"getPositions",value:function(e){var n={};if(e!==void 0){if(et(e)===!0){for(var i=0;i<e.length;i++)if(this.body.nodes[e[i]]!==void 0){var a=this.body.nodes[e[i]];n[e[i]]={x:Math.round(a.x),y:Math.round(a.y)}}}else if(this.body.nodes[e]!==void 0){var s=this.body.nodes[e];n[e]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var l=this.body.nodes[this.body.nodeIndices[o]];n[this.body.nodeIndices[o]]={x:Math.round(l.x),y:Math.round(l.y)}}return n}},{key:"getPosition",value:function(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e=[],n=this.body.data.nodes.getDataSet(),i=xke(n.get()),a;try{for(i.s();!(a=i.n()).done;){var s=a.value,o=s.id,l=this.body.nodes[o],u=Math.round(l.x),c=Math.round(l.y);(s.x!==u||s.y!==c)&&e.push({id:o,x:u,y:c})}}catch(d){i.e(d)}finally{i.f()}n.update(e)}},{key:"getBoundingBox",value:function(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,n){var i=[];if(this.body.nodes[e]!==void 0)for(var a=this.body.nodes[e],s={},o=0;o<a.edges.length;o++){var l=a.edges[o];n!=="to"&&l.toId==a.id?s[l.fromId]===void 0&&(i.push(l.fromId),s[l.fromId]=!0):n!=="from"&&l.fromId==a.id&&s[l.toId]===void 0&&(i.push(l.toId),s[l.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(e){var n=[];if(this.body.nodes[e]!==void 0)for(var i=this.body.nodes[e],a=0;a<i.edges.length;a++)n.push(i.edges[a].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return n}},{key:"moveNode",value:function(e,n,i){var a=this;this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(n),this.body.nodes[e].y=Number(i),Bn(function(){a.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),t}(),HS=Yt,Dke=function(t){return t!==void 0&&(HS(t,"value")||HS(t,"writable"))},Fke=ke,Bke=Wr,Nke=qt,Lke=Ur,jke=Dke,zke=Eo,Hke=ih;function hR(t,r){var e=arguments.length<3?t:arguments[2],n,i;if(Lke(t)===e)return t[r];if(n=zke.f(t,r),n)return jke(n)?n.value:n.get===void 0?void 0:Bke(n.get,e);if(Nke(i=Hke(t)))return hR(i,r,e)}Fke({target:"Reflect",stat:!0},{get:hR});var Wke=Ve,Vke=Wke.Reflect.get,Uke=Vke,Gke=Uke,Kke=Gke,qke=Kke,Yke=qke,Xke=Yke,Zke=Xke,WS=ye(Zke),Qke=rR,Jke=Qke,eEe=Jke,tEe=eEe,rEe=tEe,nEe=ye(rEe);function iEe(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&(t=ve(t),t!==null););return t}function dd(){if(typeof Reflect<"u"&&WS){var t;dd=Ub(t=WS).call(t)}else dd=function(e,n,i){var a=iEe(e,n);if(a){var s=nEe(a,n);return s.get?s.get.call(arguments.length<3?e:i):s.value}};return dd.apply(this,arguments)}var aEe=ke,VS=Math.hypot,sEe=Math.abs,oEe=Math.sqrt,lEe=!!VS&&VS(1/0,NaN)!==1/0;aEe({target:"Math",stat:!0,arity:2,forced:lEe},{hypot:function(r,e){for(var n=0,i=0,a=arguments.length,s=0,o,l;i<a;)o=sEe(arguments[i++]),s<o?(l=s/o,n=n*l*l+1,s=o):o>0?(l=o/s,n+=l*l):n+=o;return s===1/0?1/0:s*oEe(n)}});var uEe=Ve,cEe=uEe.Math.hypot,dEe=cEe,fEe=dEe,hEe=fEe,vEe=ye(hEe);function vR(t){var r=pEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function pEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var Ot=function(){function t(){re(this,t)}return ne(t,null,[{key:"transform",value:function(e,n){et(e)||(e=[e]);for(var i=n.point.x,a=n.point.y,s=n.angle,o=n.length,l=0;l<e.length;++l){var u=e[l],c=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=i+o*c,u.y=a+o*d}}},{key:"drawPath",value:function(e,n){e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var i=1;i<n.length;++i)e.lineTo(n[i].x,n[i].y);e.closePath()}}]),t}(),gEe=function(t){Ge(e,t);var r=vR(e);function e(){return re(this,e),r.apply(this,arguments)}return ne(e,null,[{key:"draw",value:function(i,a){if(a.image){i.save(),i.translate(a.point.x,a.point.y),i.rotate(Math.PI/2+a.angle);var s=a.imageWidth!=null?a.imageWidth:a.image.width,o=a.imageHeight!=null?a.imageHeight:a.image.height;a.image.drawImageAtPosition(i,1,-s/2,0,s,o),i.restore()}return!1}}]),e}(Ot),yEe=function(t){Ge(e,t);var r=vR(e);function e(){return re(this,e),r.apply(this,arguments)}return ne(e,null,[{key:"draw",value:function(i,a){var s=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ot.transform(s,a),Ot.drawPath(i,s),!0}}]),e}(Ot),mEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),bEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i={x:-.4,y:0};Ot.transform(i,n),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=n.angle-a/2,o=n.angle+a/2;return e.beginPath(),e.arc(i.x,i.y,n.length*.4,s,o,!1),e.stroke(),!0}}]),t}(),$Ee=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i={x:-.3,y:0};Ot.transform(i,n),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var a=Math.PI,s=n.angle+a/2,o=n.angle+3*a/2;return e.beginPath(),e.arc(i.x,i.y,n.length*.4,s,o,!1),e.stroke(),!0}}]),t}(),AEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),wEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),_Ee=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i={x:-.4,y:0};return Ot.transform(i,n),ub(e,i.x,i.y,n.length*.4),!0}}]),t}(),SEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),kEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),EEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),TEe=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ot.transform(i,n),Ot.drawPath(e,i),!0}}]),t}(),pR=function(){function t(){re(this,t)}return ne(t,null,[{key:"draw",value:function(e,n){var i;switch(n.type&&(i=n.type.toLowerCase()),i){case"image":return gEe.draw(e,n);case"circle":return _Ee.draw(e,n);case"box":return kEe.draw(e,n);case"crow":return mEe.draw(e,n);case"curve":return bEe.draw(e,n);case"diamond":return EEe.draw(e,n);case"inv_curve":return $Ee.draw(e,n);case"triangle":return AEe.draw(e,n);case"inv_triangle":return wEe.draw(e,n);case"bar":return SEe.draw(e,n);case"vee":return TEe.draw(e,n);case"arrow":default:return yEe.draw(e,n)}}}]),t}();function US(t,r){var e=bt(t);if(Wi){var n=Wi(t);r&&(n=Er(n).call(n,function(i){return ea(t,i).enumerable})),e.push.apply(e,n)}return e}function GS(t){for(var r=1;r<arguments.length;r++){var e,n,i=arguments[r]!=null?arguments[r]:{};r%2?ot(e=US(Object(i),!0)).call(e,function(a){Ah(t,a,i[a])}):Vi?bh(t,Vi(i)):ot(n=US(Object(i))).call(n,function(a){$h(t,a,ea(i,a))})}return t}var gR=function(){function t(r,e,n){re(this,t),this._body=e,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(r),this.fromPoint=this.from,this.toPoint=this.to}return ne(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,n),e.lineWidth=n.width,n.dashes!==!1?this._drawDashedLine(e,n,s):this._drawLine(e,n,s)}},{key:"_drawLine",value:function(e,n,i,a,s){if(this.from!=this.to)this._line(e,n,i,a,s);else{var o=this._getCircleData(e),l=$t(o,3),u=l[0],c=l[1],d=l[2];this._circle(e,n,u,c,d)}}},{key:"_drawDashedLine",value:function(e,n,i,a,s){e.lineCap="round";var o=et(n.dashes)?n.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,n,i);else{var l=this._getCircleData(e),u=$t(l,3),c=u[0],d=u[1],f=u[2];this._circle(e,n,c,d,f)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)xP(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var h=this._getCircleData(e),v=$t(h,3),p=v[0],m=v[1],y=v[2];this._circle(e,n,p,m,y)}this.enableShadow(e,n),e.stroke(),this.disableShadow(e,n)}}},{key:"findBorderPosition",value:function(e,n,i){return this.from!=this.to?this._findBorderPosition(e,n,i):this._findBorderPositionCircle(e,n,i)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var n,i=Jt(n=this._getCircleData(e)).call(n,0,2),a=$t(i,2),s=a[0],o=a[1];return{from:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:s,y:o,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var n=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);var i=oR(e,this.options.selfReference.angle,n,this.from);return[i.x,i.y,n]}},{key:"_pointOnCircle",value:function(e,n,i,a){var s=a*2*Math.PI;return{x:e+i*Math.cos(s),y:n-i*Math.sin(s)}}},{key:"_findBorderPositionCircle",value:function(e,n,i){var a=i.x,s=i.y,o=i.low,l=i.high,u=i.direction,c=10,d=this.options.selfReference.size,f=.05,h,v=(o+l)*.5,p=0;this.options.arrowStrikethrough===!0&&(u===-1?p=this.options.endPointOffset.from:u===1&&(p=this.options.endPointOffset.to));var m=0;do{v=(o+l)*.5,h=this._pointOnCircle(a,s,d,v);var y=Math.atan2(e.y-h.y,e.x-h.x),b=e.distanceToBorder(n,y)+p,A=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),$=b-A;if(Math.abs($)<f)break;$>0?u>0?o=v:l=v:u>0?l=v:o=v,++m}while(o<=l&&m<c);return GS(GS({},h),{},{t:v})}},{key:"getLineWidth",value:function(e,n){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):n===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,n){if(n.inheritsColor!==!1){if(n.inheritsColor==="both"&&this.from.id!==this.to.id){var i=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),a=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(a=Yr(this.from.options.color.border,n.opacity),s=Yr(this.to.options.color.border,n.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(a=this.from.options.color.border),i.addColorStop(0,a),i.addColorStop(1,s),i}return n.inheritsColor==="to"?Yr(this.to.options.color.border,n.opacity):Yr(this.from.options.color.border,n.opacity)}else return Yr(n.color,n.opacity)}},{key:"_circle",value:function(e,n,i,a,s){this.enableShadow(e,n);var o=0,l=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){var u=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:i,y:a,low:u,high:c,direction:-1}),f=this._findBorderPositionCircle(this.from,e,{x:i,y:a,low:u,high:c,direction:1});o=Math.atan2(d.y-a,d.x-i),l=Math.atan2(f.y-a,f.x-i)}e.beginPath(),e.arc(i,a,s,o,l,!1),e.stroke(),this.disableShadow(e,n)}},{key:"getDistanceToEdge",value:function(e,n,i,a,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,n,i,a,s,o);var l=this._getCircleData(void 0),u=$t(l,3),c=u[0],d=u[1],f=u[2],h=c-s,v=d-o;return Math.abs(Math.sqrt(h*h+v*v)-f)}},{key:"_getDistanceToLine",value:function(e,n,i,a,s,o){var l=i-e,u=a-n,c=l*l+u*u,d=((s-e)*l+(o-n)*u)/c;d>1?d=1:d<0&&(d=0);var f=e+d*l,h=n+d*u,v=f-s,p=h-o;return Math.sqrt(v*v+p*p)}},{key:"getArrowData",value:function(e,n,i,a,s,o){var l,u,c,d,f,h,v,p=o.width;n==="from"?(c=this.from,d=this.to,f=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),v=o.fromArrowType):n==="to"?(c=this.to,d=this.from,f=o.toArrowScale<0,h=Math.abs(o.toArrowScale),v=o.toArrowType):(c=this.to,d=this.from,f=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),v=o.middleArrowType);var m=15*h+3*p;if(c!=d){var y=vEe(c.x-d.x,c.y-d.y),b=m/y;if(n!=="middle")if(this.options.smooth.enabled===!0){var A=this._findBorderPosition(c,e,{via:i}),$=this.getPoint(A.t+b*(n==="from"?1:-1),i);l=Math.atan2(A.y-$.y,A.x-$.x),u=A}else l=Math.atan2(c.y-d.y,c.x-d.x),u=this._findBorderPosition(c,e);else{var k=(f?-b:b)/2,C=this.getPoint(.5+k,i),T=this.getPoint(.5-k,i);l=Math.atan2(C.y-T.y,C.x-T.x),u=this.getPoint(.5,i)}}else{var E=this._getCircleData(e),S=$t(E,3),O=S[0],P=S[1],j=S[2];if(n==="from"){var K=this.options.selfReference.angle,me=this.options.selfReference.angle+Math.PI,Ee=this._findBorderPositionCircle(this.from,e,{x:O,y:P,low:K,high:me,direction:-1});l=Ee.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=Ee}else if(n==="to"){var z=this.options.selfReference.angle,B=this.options.selfReference.angle+Math.PI,oe=this._findBorderPositionCircle(this.from,e,{x:O,y:P,low:z,high:B,direction:1});l=oe.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=oe}else{var de=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(O,P,j,de),l=de*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}var Ae=u.x-m*.9*Math.cos(l),_e=u.y-m*.9*Math.sin(l),te={x:Ae,y:_e};return{point:u,core:te,angle:l,length:m,type:v}}},{key:"drawArrowHead",value:function(e,n,i,a,s){e.strokeStyle=this.getColor(e,n),e.fillStyle=e.strokeStyle,e.lineWidth=n.width;var o=pR.draw(e,s);o&&(this.enableShadow(e,n),Ku(e).call(e),this.disableShadow(e,n))}},{key:"enableShadow",value:function(e,n){n.shadow===!0&&(e.shadowColor=n.shadowColor,e.shadowBlur=n.shadowSize,e.shadowOffsetX=n.shadowX,e.shadowOffsetY=n.shadowY)}},{key:"disableShadow",value:function(e,n){n.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,n){if(n.background!==!1){var i={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=n.backgroundColor,e.lineWidth=n.backgroundSize,this.setStrokeDashed(e,n.backgroundDashes),e.stroke(),e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth,e.dashes=i.dashes,this.setStrokeDashed(e,n.dashes)}}},{key:"setStrokeDashed",value:function(e,n){if(n!==!1)if(e.setLineDash!==void 0){var i=et(n)?n:[5,5];e.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function KS(t,r){var e=bt(t);if(Wi){var n=Wi(t);r&&(n=Er(n).call(n,function(i){return ea(t,i).enumerable})),e.push.apply(e,n)}return e}function qS(t){for(var r=1;r<arguments.length;r++){var e,n,i=arguments[r]!=null?arguments[r]:{};r%2?ot(e=KS(Object(i),!0)).call(e,function(a){Ah(t,a,i[a])}):Vi?bh(t,Vi(i)):ot(n=KS(Object(i))).call(n,function(a){$h(t,a,ea(i,a))})}return t}function OEe(t){var r=CEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function CEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var Kb=function(t){Ge(e,t);var r=OEe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"_findBorderPositionBezier",value:function(i,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),o=10,l=.2,u=!1,c=1,d=0,f=this.to,h,v,p=this.options.endPointOffset?this.options.endPointOffset.to:0;i.id===this.from.id&&(f=this.from,u=!0,p=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(p=0);var m=0;do{v=(d+c)*.5,h=this.getPoint(v,s);var y=Math.atan2(f.y-h.y,f.x-h.x),b=f.distanceToBorder(a,y)+p,A=Math.sqrt(Math.pow(h.x-f.x,2)+Math.pow(h.y-f.y,2)),$=b-A;if(Math.abs($)<l)break;$<0?u===!1?d=v:c=v:u===!1?c=v:d=v,++m}while(d<=c&&m<o);return qS(qS({},h),{},{t:v})}},{key:"_getDistanceToBezierEdge",value:function(i,a,s,o,l,u,c){var d=1e9,f,h,v,p,m,y=i,b=a;for(h=1;h<10;h++)v=.1*h,p=Math.pow(1-v,2)*i+2*v*(1-v)*c.x+Math.pow(v,2)*s,m=Math.pow(1-v,2)*a+2*v*(1-v)*c.y+Math.pow(v,2)*o,h>0&&(f=this._getDistanceToLine(y,b,p,m,l,u),d=f<d?f:d),y=p,b=m;return d}},{key:"_bezierCurve",value:function(i,a,s,o){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),s!=null&&s.x!=null?o!=null&&o.x!=null?i.bezierCurveTo(s.x,s.y,o.x,o.y,this.toPoint.x,this.toPoint.y):i.quadraticCurveTo(s.x,s.y,this.toPoint.x,this.toPoint.y):i.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(i,a),this.enableShadow(i,a),i.stroke(),this.disableShadow(i,a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),e}(gR);function IEe(t){var r=PEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function PEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var YS=function(t){Ge(e,t);var r=IEe(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s.via=s.via,s._boundFunction=function(){s.positionBezierNode()},s._body.emitter.on("_repositionBezierNodes",s._boundFunction),s}return ne(e,[{key:"setOptions",value:function(i){dd(ve(e.prototype),"setOptions",this).call(this,i);var a=!1;this.options.physics!==i.physics&&(a=!0),this.options=i,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),a===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var i="edgeId:"+this.id,a=this._body.functions.createNode({id:i,shape:"circle",physics:!0,hidden:!0});this._body.nodes[i]=a,this.via=a,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(i,a,s){this._bezierCurve(i,a,s)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){var s=this._getCircleData(),o=$t(s,3),l=o[0],u=o[1],c=o[2],d=2*Math.PI*(1-i);return{x:l+c*Math.sin(d),y:u+c-c*(1-Math.cos(d))}}else return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*a.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*a.y+Math.pow(i,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,a){return this._findBorderPositionBezier(i,a,this.via)}},{key:"_getDistanceToEdge",value:function(i,a,s,o,l,u){return this._getDistanceToBezierEdge(i,a,s,o,l,u,this.via)}}]),e}(Kb);function xEe(t){var r=REe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function REe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var XS=function(t){Ge(e,t);var r=xEe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"_line",value:function(i,a,s){this._bezierCurve(i,a,s)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var i=this.options.smooth.roundness,a=this.options.smooth.type,s=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if(a==="discrete"||a==="diagonalCross"){var l,u;s<=o?l=u=i*o:l=u=i*s,this.from.x>this.to.x&&(l=-l),this.from.y>=this.to.y&&(u=-u);var c=this.from.x+l,d=this.from.y+u;return a==="discrete"&&(s<=o?c=s<i*o?this.from.x:c:d=o<i*s?this.from.y:d),{x:c,y:d}}else if(a==="straightCross"){var f=(1-i)*s,h=(1-i)*o;return s<=o?(f=0,this.from.y<this.to.y&&(h=-h)):(this.from.x<this.to.x&&(f=-f),h=0),{x:this.to.x+f,y:this.to.y+h}}else if(a==="horizontal"){var v=(1-i)*s;return this.from.x<this.to.x&&(v=-v),{x:this.to.x+v,y:this.from.y}}else if(a==="vertical"){var p=(1-i)*o;return this.from.y<this.to.y&&(p=-p),{x:this.from.x,y:this.to.y+p}}else if(a==="curvedCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var m=Math.sqrt(s*s+o*o),y=Math.PI,b=Math.atan2(o,s),A=(b+(i*.5+.5)*y)%(2*y);return{x:this.from.x+(i*.5+.5)*m*Math.sin(A),y:this.from.y+(i*.5+.5)*m*Math.cos(A)}}else if(a==="curvedCCW"){s=this.to.x-this.from.x,o=this.from.y-this.to.y;var $=Math.sqrt(s*s+o*o),k=Math.PI,C=Math.atan2(o,s),T=(C+(-i*.5+.5)*k)%(2*k);return{x:this.from.x+(i*.5+.5)*$*Math.sin(T),y:this.from.y+(i*.5+.5)*$*Math.cos(T)}}else{var E,S;s<=o?E=S=i*o:E=S=i*s,this.from.x>this.to.x&&(E=-E),this.from.y>=this.to.y&&(S=-S);var O=this.from.x+E,P=this.from.y+S;return s<=o?this.from.x<=this.to.x?O=this.to.x<O?this.to.x:O:O=this.to.x>O?this.to.x:O:this.from.y>=this.to.y?P=this.to.y>P?this.to.y:P:P=this.to.y<P?this.to.y:P,{x:O,y:P}}}},{key:"_findBorderPosition",value:function(i,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(i,a,s.via)}},{key:"_getDistanceToEdge",value:function(i,a,s,o,l,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(i,a,s,o,l,u,c)}},{key:"getPoint",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=i,o=Math.pow(1-s,2)*this.fromPoint.x+2*s*(1-s)*a.x+Math.pow(s,2)*this.toPoint.x,l=Math.pow(1-s,2)*this.fromPoint.y+2*s*(1-s)*a.y+Math.pow(s,2)*this.toPoint.y;return{x:o,y:l}}}]),e}(Kb);function MEe(t){var r=DEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function DEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var FEe=function(t){Ge(e,t);var r=MEe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"_getDistanceToBezierEdge2",value:function(i,a,s,o,l,u,c,d){for(var f=1e9,h=i,v=a,p=[0,0,0,0],m=1;m<10;m++){var y=.1*m;p[0]=Math.pow(1-y,3),p[1]=3*y*Math.pow(1-y,2),p[2]=3*Math.pow(y,2)*(1-y),p[3]=Math.pow(y,3);var b=p[0]*i+p[1]*c.x+p[2]*d.x+p[3]*s,A=p[0]*a+p[1]*c.y+p[2]*d.y+p[3]*o;if(m>0){var $=this._getDistanceToLine(h,v,b,A,l,u);f=$<f?$:f}h=b,v=A}return f}}]),e}(Kb);function BEe(t){var r=NEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function NEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var ZS=function(t){Ge(e,t);var r=BEe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"_line",value:function(i,a,s){var o=s[0],l=s[1];this._bezierCurve(i,a,o,l)}},{key:"_getViaCoordinates",value:function(){var i=this.from.x-this.to.x,a=this.from.y-this.to.y,s,o,l,u,c=this.options.smooth.roundness;return(Math.abs(i)>Math.abs(a)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(o=this.from.y,u=this.to.y,s=this.from.x-c*i,l=this.to.x+c*i):(o=this.from.y-c*a,u=this.to.y+c*a,s=this.from.x,l=this.to.x),[{x:s,y:o},{x:l,y:u}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(i,a){return this._findBorderPositionBezier(i,a)}},{key:"_getDistanceToEdge",value:function(i,a,s,o,l,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),d=$t(c,2),f=d[0],h=d[1];return this._getDistanceToBezierEdge2(i,a,s,o,l,u,f,h)}},{key:"getPoint",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),s=$t(a,2),o=s[0],l=s[1],u=i,c=[Math.pow(1-u,3),3*u*Math.pow(1-u,2),3*Math.pow(u,2)*(1-u),Math.pow(u,3)],d=c[0]*this.fromPoint.x+c[1]*o.x+c[2]*l.x+c[3]*this.toPoint.x,f=c[0]*this.fromPoint.y+c[1]*o.y+c[2]*l.y+c[3]*this.toPoint.y;return{x:d,y:f}}}]),e}(FEe);function LEe(t){var r=jEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function jEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var QS=function(t){Ge(e,t);var r=LEe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"_line",value:function(i,a){i.beginPath(),i.moveTo(this.fromPoint.x,this.fromPoint.y),i.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(i,a),i.stroke(),this.disableShadow(i,a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(i){return{x:(1-i)*this.fromPoint.x+i*this.toPoint.x,y:(1-i)*this.fromPoint.y+i*this.toPoint.y}}},{key:"_findBorderPosition",value:function(i,a){var s=this.to,o=this.from;i.id===this.from.id&&(s=this.from,o=this.to);var l=Math.atan2(s.y-o.y,s.x-o.x),u=s.x-o.x,c=s.y-o.y,d=Math.sqrt(u*u+c*c),f=i.distanceToBorder(a,l),h=(d-f)/d;return{x:(1-h)*o.x+h*s.x,y:(1-h)*o.y+h*s.y,t:0}}},{key:"_getDistanceToEdge",value:function(i,a,s,o,l,u){return this._getDistanceToLine(i,a,s,o,l,u)}}]),e}(gR),Ks=function(){function t(r,e,n,i,a){if(re(this,t),e===void 0)throw new Error("No body provided");this.options=Li(i),this.globalOptions=i,this.defaultOptions=a,this.body=e,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new uR(this.body,this.options,!0),this.setOptions(r)}return ne(t,[{key:"setOptions",value:function(e){if(e){var n=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=sR(e.value));var i=[e,this.options,this.defaultOptions];return this.chooser=Wb("edge",i),this.updateLabelModule(e),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,n=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,i=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,a=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:n,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:a?void 0:this.options.color.color,inheritsColor:a,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){var l=this.options.hoverWidth;typeof l=="function"?s.width=l(s.width):typeof l=="number"&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}},{key:"updateLabelModule",value:function(e){var n=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,n=!1,i=!0;return this.edgeType!==void 0&&((this.edgeType instanceof YS&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof ZS&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof XS&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof QS&&e.type.enabled===!1)&&(i=!1),i===!0&&(n=this.cleanup())),i===!0?e.enabled===!0?e.type==="dynamic"?(n=!0,this.edgeType=new YS(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new ZS(this.options,this.body,this.labelModule):this.edgeType=new XS(this.options,this.body,this.labelModule):this.edgeType=new QS(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),n}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,n,i){if(this.options.value!==void 0){var a=this.options.scaling.customScalingFunction(e,n,i,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+a*o}this.options.width=this.options.scaling.min+a*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var n=this.getFormattingValues();if(!n.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(e,n,this.selected,this.hover,i),this.drawLabel(e,i)}}},{key:"drawArrows",value:function(e){var n=this.getFormattingValues();if(!n.hidden){var i=this.edgeType.getViaNode(),a={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,n.fromArrow&&(a.from=this.edgeType.getArrowData(e,"from",i,this.selected,this.hover,n),n.arrowStrikethrough===!1&&(this.edgeType.fromPoint=a.from.core),n.fromArrowSrc&&(a.from.image=this.imagelist.load(n.fromArrowSrc)),n.fromArrowImageWidth&&(a.from.imageWidth=n.fromArrowImageWidth),n.fromArrowImageHeight&&(a.from.imageHeight=n.fromArrowImageHeight)),n.toArrow&&(a.to=this.edgeType.getArrowData(e,"to",i,this.selected,this.hover,n),n.arrowStrikethrough===!1&&(this.edgeType.toPoint=a.to.core),n.toArrowSrc&&(a.to.image=this.imagelist.load(n.toArrowSrc)),n.toArrowImageWidth&&(a.to.imageWidth=n.toArrowImageWidth),n.toArrowImageHeight&&(a.to.imageHeight=n.toArrowImageHeight)),n.middleArrow&&(a.middle=this.edgeType.getArrowData(e,"middle",i,this.selected,this.hover,n),n.middleArrowSrc&&(a.middle.image=this.imagelist.load(n.middleArrowSrc)),n.middleArrowImageWidth&&(a.middle.imageWidth=n.middleArrowImageWidth),n.middleArrowImageHeight&&(a.middle.imageHeight=n.middleArrowImageHeight)),n.fromArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,a.from),n.middleArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,a.middle),n.toArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,a.to)}}},{key:"drawLabel",value:function(e,n){if(this.options.label!==void 0){var i=this.from,a=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);var s;if(i.id!=a.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,n),e.save();var o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var l=oR(e,this.options.selfReference.angle,this.options.selfReference.size,i);s=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var n=[];if(this.labelModule.visible()){var i=this._getRotation();Ty(this.labelModule.getSize(),e,i)&&n.push({edgeId:this.id,labelId:0})}var a={left:e.x,top:e.y};return this.isOverlappingWith(a)&&n.push({edgeId:this.id}),n}},{key:"isOverlappingWith",value:function(e){if(this.connected){var n=10,i=this.from.x,a=this.from.y,s=this.to.x,o=this.to.y,l=e.left,u=e.top,c=this.edgeType.getDistanceToEdge(i,a,s,o,l,u);return c<n}else return!1}},{key:"_getRotation",value:function(e){var n=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,n);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,i.x,i.y);var a={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return a;var s=this.from.y-this.to.y,o=this.from.x-this.to.x,l=Math.atan2(s,o);return(l<-1&&o<0||l>0&&o<0)&&(l+=Math.PI),a.angle=l,a}},{key:"_pointOnCircle",value:function(e,n,i,a){return{x:e+i*Math.cos(a),y:n-i*Math.sin(a)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"];if(No(o,e,n,i),n.endPointOffset!==void 0&&n.endPointOffset.from!==void 0&&(ma(n.endPointOffset.from)?e.endPointOffset.from=n.endPointOffset.from:(e.endPointOffset.from=a.endPointOffset.from!==void 0?a.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),n.endPointOffset!==void 0&&n.endPointOffset.to!==void 0&&(ma(n.endPointOffset.to)?e.endPointOffset.to=n.endPointOffset.to:(e.endPointOffset.to=a.endPointOffset.to!==void 0?a.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Qd(n.label)?e.label=n.label:Qd(e.label)||(e.label=void 0),qr(e,n,"smooth",a),qr(e,n,"shadow",a),qr(e,n,"background",a),n.dashes!==void 0&&n.dashes!==null?e.dashes=n.dashes:i===!0&&n.dashes===null&&(e.dashes=Oa(a.dashes)),n.scaling!==void 0&&n.scaling!==null?(n.scaling.min!==void 0&&(e.scaling.min=n.scaling.min),n.scaling.max!==void 0&&(e.scaling.max=n.scaling.max),qr(e.scaling,n.scaling,"label",a.scaling)):i===!0&&n.scaling===null&&(e.scaling=Oa(a.scaling)),n.arrows!==void 0&&n.arrows!==null)if(typeof n.arrows=="string"){var l=n.arrows.toLowerCase();e.arrows.to.enabled=He(l).call(l,"to")!=-1,e.arrows.middle.enabled=He(l).call(l,"middle")!=-1,e.arrows.from.enabled=He(l).call(l,"from")!=-1}else if(rt(n.arrows)==="object")qr(e.arrows,n.arrows,"to",a.arrows),qr(e.arrows,n.arrows,"middle",a.arrows),qr(e.arrows,n.arrows,"from",a.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Gu(n.arrows));else i===!0&&n.arrows===null&&(e.arrows=Oa(a.arrows));if(n.color!==void 0&&n.color!==null){var u=Us(n.color)?{color:n.color,highlight:n.color,hover:n.color,inherit:!1,opacity:1}:n.color,c=e.color;if(s)ft(c,a.color,!1,i);else for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&delete c[d];if(Us(c))c.color=c,c.highlight=c,c.hover=c,c.inherit=!1,u.opacity===void 0&&(c.opacity=1);else{var f=!1;u.color!==void 0&&(c.color=u.color,f=!0),u.highlight!==void 0&&(c.highlight=u.highlight,f=!0),u.hover!==void 0&&(c.hover=u.hover,f=!0),u.inherit!==void 0&&(c.inherit=u.inherit),u.opacity!==void 0&&(c.opacity=Math.min(1,Math.max(0,u.opacity))),f===!0?c.inherit=!1:c.inherit===void 0&&(c.inherit="from")}}else i===!0&&n.color===null&&(e.color=Li(a.color));i===!0&&n.font===null&&(e.font=Li(a.font)),Object.prototype.hasOwnProperty.call(n,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=n.selfReferenceSize)}}]),t}(),zEe=function(){function t(r,e,n){var i,a=this;re(this,t),this.body=r,this.images=e,this.groups=n,this.body.functions.createEdge=X(i=this.create).call(i,this),this.edgesListeners={add:function(o,l){a.add(l.items)},update:function(o,l){a.update(l.items)},remove:function(o,l){a.remove(l.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,l,u,c){if(l===o)return .5;var d=1/(l-o);return Math.max(0,(c-o)*d)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ft(this.options,this.defaultOptions),this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e=this,n,i;this.body.emitter.on("_forceDisableDynamicCurves",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a==="dynamic"&&(a="continuous");var o=!1;for(var l in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,l)){var u=e.body.edges[l],c=e.body.data.edges.get(l);if(c!=null){var d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(a===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:a}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()}),this.body.emitter.on("refreshEdges",X(n=this.refresh).call(n,this)),this.body.emitter.on("refresh",X(i=this.refresh).call(i,this)),this.body.emitter.on("destroy",function(){Be(e.edgesListeners,function(a,s){e.body.data.edges&&e.body.data.edges.off(s,a)}),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners})}},{key:"setOptions",value:function(e){if(e!==void 0){Ks.parseOptions(this.options,e,!0,this.defaultOptions,!0);var n=!1;if(e.smooth!==void 0)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(n=this.body.edges[i].updateEdgeType()||n);if(e.font!==void 0)for(var a in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,a)&&this.body.edges[a].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||n===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.body.data.edges;if(uP("id",e))this.body.data.edges=e;else if(et(e))this.body.data.edges=new jd,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new jd;else throw new TypeError("Array or DataSet expected");if(a&&Be(this.edgesListeners,function(o,l){a.off(l,o)}),this.body.edges={},this.body.data.edges){Be(this.edgesListeners,function(o,l){n.body.data.edges.on(l,o)});var s=this.body.data.edges.getIds();this.add(s,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.body.edges,a=this.body.data.edges,s=0;s<e.length;s++){var o=e[s],l=i[o];l&&l.disconnect();var u=a.get(o,{showInternalIds:!0});i[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),n===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var n=this.body.edges,i=this.body.data.edges,a=!1,s=0;s<e.length;s++){var o=e[s],l=i.get(o),u=n[o];u!==void 0?(u.disconnect(),a=u.setOptions(l)||a,u.connect()):(this.body.edges[o]=this.create(l),a=!0)}a===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length!==0){var i=this.body.edges;Be(e,function(a){var s=i[a];s!==void 0&&s.remove()}),n&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;Be(this.body.edges,function(n,i){var a=e.body.data.edges.get(i);a!==void 0&&n.setOptions(a)})}},{key:"create",value:function(e){return new Ks(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,n=this.body.nodes,i=this.body.edges;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e].edges=[]);for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var a=i[e];a.from=null,a.to=null,a.connect()}}},{key:"getConnectedNodes",value:function(e){var n=[];if(this.body.edges[e]!==void 0){var i=this.body.edges[e];i.fromId!==void 0&&n.push(i.fromId),i.toId!==void 0&&n.push(i.toId)}return n}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,n=[];Be(this.body.edges,function(i,a){var s=e.body.nodes[i.toId],o=e.body.nodes[i.fromId];s!==void 0&&s.isCluster===!0||o!==void 0&&o.isCluster===!0||(s===void 0||o===void 0)&&n.push(a)}),this.remove(n,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(e!=null){var n=this.body.edges,i=[];ot(e).call(e,function(a,s){var o=n[s];o===void 0&&i.push(s)}),this.add(i,!0)}}}]),t}(),yR=function(){function t(r,e,n){re(this,t),this.body=r,this.physicsBody=e,this.barnesHutTree,this.setOptions(n),this._rng=yh("BARNES HUT SOLVER")}return ne(t,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var e,n=this.body.nodes,i=this.physicsBody.physicsNodeIndices,a=i.length,s=this._formBarnesHutTree(n,i);this.barnesHutTree=s;for(var o=0;o<a;o++)e=n[i[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}},{key:"_getForceContributions",value:function(e,n){this._getForceContribution(e.children.NW,n),this._getForceContribution(e.children.NE,n),this._getForceContribution(e.children.SW,n),this._getForceContribution(e.children.SE,n)}},{key:"_getForceContribution",value:function(e,n){if(e.childrenCount>0){var i=e.centerOfMass.x-n.x,a=e.centerOfMass.y-n.y,s=Math.sqrt(i*i+a*a);s*e.calcSize>this.thetaInversed?this._calculateForces(s,i,a,n,e):e.childrenCount===4?this._getForceContributions(e,n):e.children.data.id!=n.id&&this._calculateForces(s,i,a,n,e)}}},{key:"_calculateForces",value:function(e,n,i,a,s){e===0&&(e=.1,n=e),this.overlapAvoidanceFactor<1&&a.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*a.shape.radius,e-a.shape.radius));var o=this.options.gravitationalConstant*s.mass*a.options.mass/Math.pow(e,3),l=n*o,u=i*o;this.physicsBody.forces[a.id].x+=l,this.physicsBody.forces[a.id].y+=u}},{key:"_formBarnesHutTree",value:function(e,n){for(var i,a=n.length,s=e[n[0]].x,o=e[n[0]].y,l=e[n[0]].x,u=e[n[0]].y,c=1;c<a;c++){var d=e[n[c]],f=d.x,h=d.y;d.options.mass>0&&(f<s&&(s=f),f>l&&(l=f),h<o&&(o=h),h>u&&(u=h))}var v=Math.abs(l-s)-Math.abs(u-o);v>0?(o-=.5*v,u+=.5*v):(s+=.5*v,l-=.5*v);var p=1e-5,m=Math.max(p,Math.abs(l-s)),y=.5*m,b=.5*(s+l),A=.5*(o+u),$={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:b-y,maxX:b+y,minY:A-y,maxY:A+y},size:m,calcSize:1/m,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch($.root);for(var k=0;k<a;k++)i=e[n[k]],i.options.mass>0&&this._placeInTree($.root,i);return $}},{key:"_updateBranchMass",value:function(e,n){var i=e.centerOfMass,a=e.mass+n.options.mass,s=1/a;i.x=i.x*e.mass+n.x*n.options.mass,i.x*=s,i.y=i.y*e.mass+n.y*n.options.mass,i.y*=s,e.mass=a;var o=Math.max(Math.max(n.height,n.radius),n.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,n,i){(i!=!0||i===void 0)&&this._updateBranchMass(e,n);var a=e.children.NW.range,s;a.maxX>n.x?a.maxY>n.y?s="NW":s="SW":a.maxY>n.y?s="NE":s="SE",this._placeInRegion(e,n,s)}},{key:"_placeInRegion",value:function(e,n,i){var a=e.children[i];switch(a.childrenCount){case 0:a.children.data=n,a.childrenCount=1,this._updateBranchMass(a,n);break;case 1:a.children.data.x===n.x&&a.children.data.y===n.y?(n.x+=this._rng(),n.y+=this._rng()):(this._splitBranch(a),this._placeInTree(a,n));break;case 4:this._placeInTree(a,n);break}}},{key:"_splitBranch",value:function(e){var n=null;e.childrenCount===1&&(n=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),n!=null&&this._placeInTree(e,n)}},{key:"_insertRegion",value:function(e,n){var i,a,s,o,l=.5*e.size;switch(n){case"NW":i=e.range.minX,a=e.range.minX+l,s=e.range.minY,o=e.range.minY+l;break;case"NE":i=e.range.minX+l,a=e.range.maxX,s=e.range.minY,o=e.range.minY+l;break;case"SW":i=e.range.minX,a=e.range.minX+l,s=e.range.minY+l,o=e.range.maxY;break;case"SE":i=e.range.minX+l,a=e.range.maxX,s=e.range.minY+l,o=e.range.maxY;break}e.children[n]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:a,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,n){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,n))}},{key:"_drawBranch",value:function(e,n,i){i===void 0&&(i="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,n),this._drawBranch(e.children.NE,n),this._drawBranch(e.children.SE,n),this._drawBranch(e.children.SW,n)),n.strokeStyle=i,n.beginPath(),n.moveTo(e.range.minX,e.range.minY),n.lineTo(e.range.maxX,e.range.minY),n.stroke(),n.beginPath(),n.moveTo(e.range.maxX,e.range.minY),n.lineTo(e.range.maxX,e.range.maxY),n.stroke(),n.beginPath(),n.moveTo(e.range.maxX,e.range.maxY),n.lineTo(e.range.minX,e.range.maxY),n.stroke(),n.beginPath(),n.moveTo(e.range.minX,e.range.maxY),n.lineTo(e.range.minX,e.range.minY),n.stroke()}}]),t}(),HEe=function(){function t(r,e,n){re(this,t),this._rng=yh("REPULSION SOLVER"),this.body=r,this.physicsBody=e,this.setOptions(n)}return ne(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,n,i,a,s,o,l,u,c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,h=this.options.nodeDistance,v=-2/3/h,p=4/3,m=0;m<d.length-1;m++){l=c[d[m]];for(var y=m+1;y<d.length;y++)u=c[d[y]],e=u.x-l.x,n=u.y-l.y,i=Math.sqrt(e*e+n*n),i===0&&(i=.1*this._rng(),e=i),i<2*h&&(i<.5*h?o=1:o=v*i+p,o=o/i,a=e*o,s=n*o,f[l.id].x-=a,f[l.id].y-=s,f[u.id].x+=a,f[u.id].y+=s)}}}]),t}(),WEe=function(){function t(r,e,n){re(this,t),this.body=r,this.physicsBody=e,this.setOptions(n)}return ne(t,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,a=this.options.nodeDistance,s=0;s<n.length-1;s++)for(var o=e[n[s]],l=s+1;l<n.length;l++){var u=e[n[l]];if(o.level===u.level){var c=a+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-o.x,f=u.y-o.y,h=Math.sqrt(d*d+f*f),v=.05,p=void 0;h<c?p=-Math.pow(v*h,2)+Math.pow(v*c,2):p=0,h!==0&&(p=p/h);var m=d*p,y=f*p;i[o.id].x-=m,i[o.id].y-=y,i[u.id].x+=m,i[u.id].y+=y}}}}]),t}(),Vp=function(){function t(r,e,n){re(this,t),this.body=r,this.physicsBody=e,this.setOptions(n)}return ne(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,n,i=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s,o,l,u=0;u<i.length;u++)n=a[i[u]],n.connected===!0&&n.toId!==n.fromId&&this.body.nodes[n.toId]!==void 0&&this.body.nodes[n.fromId]!==void 0&&(n.edgeType.via!==void 0?(e=n.options.length===void 0?this.options.springLength:n.options.length,s=n.to,o=n.edgeType.via,l=n.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,l,.5*e)):(e=n.options.length===void 0?this.options.springLength*1.5:n.options.length,this._calculateSpringForce(n.from,n.to,e)))}},{key:"_calculateSpringForce",value:function(e,n,i){var a=e.x-n.x,s=e.y-n.y,o=Math.max(Math.sqrt(a*a+s*s),.01),l=this.options.springConstant*(i-o)/o,u=a*l,c=s*l;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[n.id]!==void 0&&(this.physicsBody.forces[n.id].x-=u,this.physicsBody.forces[n.id].y-=c)}}]),t}(),VEe=function(){function t(r,e,n){re(this,t),this.body=r,this.physicsBody=e,this.setOptions(n)}return ne(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,n,i,a,s,o,l,u,c=this.body.edges,d=.5,f=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,p=0;p<h.length;p++){var m=h[p];v[m].springFx=0,v[m].springFy=0}for(var y=0;y<f.length;y++)n=c[f[y]],n.connected===!0&&(e=n.options.length===void 0?this.options.springLength:n.options.length,i=n.from.x-n.to.x,a=n.from.y-n.to.y,u=Math.sqrt(i*i+a*a),u=u===0?.01:u,l=this.options.springConstant*(e-u)/u,s=i*l,o=a*l,n.to.level!=n.from.level?(v[n.toId]!==void 0&&(v[n.toId].springFx-=s,v[n.toId].springFy-=o),v[n.fromId]!==void 0&&(v[n.fromId].springFx+=s,v[n.fromId].springFy+=o)):(v[n.toId]!==void 0&&(v[n.toId].x-=d*s,v[n.toId].y-=d*o),v[n.fromId]!==void 0&&(v[n.fromId].x+=d*s,v[n.fromId].y+=d*o)));l=1;for(var b,A,$=0;$<h.length;$++){var k=h[$];b=Math.min(l,Math.max(-l,v[k].springFx)),A=Math.min(l,Math.max(-l,v[k].springFy)),v[k].x+=b,v[k].y+=A}for(var C=0,T=0,E=0;E<h.length;E++){var S=h[E];C+=v[S].x,T+=v[S].y}for(var O=C/h.length,P=T/h.length,j=0;j<h.length;j++){var K=h[j];v[K].x-=O,v[K].y-=P}}}]),t}(),fd=function(){function t(r,e,n){re(this,t),this.body=r,this.physicsBody=e,this.setOptions(n)}return ne(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,n,i,a,s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,u=0;u<o.length;u++){var c=o[u];a=s[c],e=-a.x,n=-a.y,i=Math.sqrt(e*e+n*n),this._calculateForces(i,e,n,l,a)}}},{key:"_calculateForces",value:function(e,n,i,a,s){var o=e===0?0:this.options.centralGravity/e;a[s.id].x=n*o,a[s.id].y=i*o}}]),t}();function UEe(t){var r=GEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function GEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var KEe=function(t){Ge(e,t);var r=UEe(e);function e(n,i,a){var s;return re(this,e),s=r.call(this,n,i,a),s._rng=yh("FORCE ATLAS 2 BASED REPULSION SOLVER"),s}return ne(e,[{key:"_calculateForces",value:function(i,a,s,o,l){i===0&&(i=.1*this._rng(),a=i),this.overlapAvoidanceFactor<1&&o.shape.radius&&(i=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,i-o.shape.radius));var u=o.edges.length+1,c=this.options.gravitationalConstant*l.mass*o.options.mass*u/Math.pow(i,2),d=a*c,f=s*c;this.physicsBody.forces[o.id].x+=d,this.physicsBody.forces[o.id].y+=f}}]),e}(yR);function qEe(t){var r=YEe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function YEe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var XEe=function(t){Ge(e,t);var r=qEe(e);function e(n,i,a){return re(this,e),r.call(this,n,i,a)}return ne(e,[{key:"_calculateForces",value:function(i,a,s,o,l){if(i>0){var u=l.edges.length+1,c=this.options.centralGravity*u*l.options.mass;o[l.id].x=a*c,o[l.id].y=s*c}}}]),e}(fd),ZEe=function(){function t(r){re(this,t),this.body=r,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},xt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){e.stopSimulation(),e.ready=!1}),this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1,e.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options),e.ready===!0&&e.startSimulation()}),this.body.emitter.on("startSimulation",function(){e.ready===!0&&e.startSimulation()}),this.body.emitter.on("stopSimulation",function(){e.stopSimulation()}),this.body.emitter.on("destroy",function(){e.stopSimulation(!1),e.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Yd(["stabilization"],this.options,e),qr(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());var n=this.options.wind;n&&((typeof n.x!="number"||Ey(n.x))&&(n.x=0),(typeof n.y!="number"||Ey(n.y))&&(n.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new KEe(this.body,this.physicsBody,e),this.edgesSolver=new Vp(this.body,this.physicsBody,e),this.gravitySolver=new XEe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new HEe(this.body,this.physicsBody,e),this.edgesSolver=new Vp(this.body,this.physicsBody,e),this.gravitySolver=new fd(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new WEe(this.body,this.physicsBody,e),this.edgesSolver=new VEe(this.body,this.physicsBody,e),this.gravitySolver=new fd(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new yR(this.body,this.physicsBody,e),this.edgesSolver=new Vp(this.body,this.physicsBody,e),this.gravitySolver=new fd(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=X(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Ud();this.physicsTick();var n=Ud()-e;(n<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Bn(function(){e.body.emitter.emit("stabilized",{iterations:n}),e.startedStabilization=!1,e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var e=1.2;this._evaluateStepQuality()===!0?this.timestep=e*this.timestep:this.timestep/e<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/e))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var e=this.adaptiveCounter%this.adaptiveInterval===0;e?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,n=this.body.edges;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&e[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[i].id);for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&n[a].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(n[a].id);for(var s=0;s<this.physicsBody.physicsNodeIndices.length;s++){var o=this.physicsBody.physicsNodeIndices[s];this.physicsBody.forces[o]={x:0,y:0},this.physicsBody.velocities[o]===void 0&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var l in this.physicsBody.velocities)e[l]===void 0&&delete this.physicsBody.velocities[l]}},{key:"revert",value:function(){var e=bt(this.previousStates),n=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var a=0;a<e.length;a++){var s=e[a];n[s]!==void 0?n[s].options.physics===!0&&(this.referenceState[s]={positions:{x:n[s].x,y:n[s].y}},i[s].x=this.previousStates[s].vx,i[s].y=this.previousStates[s].vy,n[s].x=this.previousStates[s].x,n[s].y=this.previousStates[s].y):delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function(){var e,n,i,a=this.body.nodes,s=this.referenceState,o=.3;for(var l in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,l)&&a[l]!==void 0&&(e=a[l].x-s[l].positions.x,n=a[l].y-s[l].positions.y,i=Math.sqrt(Math.pow(e,2)+Math.pow(n,2)),i>o))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,n=0,i=0,a=5,s=0;s<e.length;s++){var o=e[s],l=this._performStep(o);n=Math.max(n,l),i+=l}this.adaptiveTimestepEnabled=i/e.length<a,this.stabilized=n<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,n,i){var a=this.modelOptions.damping*e,s=(n-a)/i;e+=s*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}},{key:"_performStep",value:function(e){var n=this.body.nodes[e],i=this.physicsBody.forces[e];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var a=this.physicsBody.velocities[e];this.previousStates[e]={x:n.x,y:n.y,vx:a.x,vy:a.y},n.options.fixed.x===!1?(a.x=this.calculateComponentVelocity(a.x,i.x,n.options.mass),n.x+=a.x*this.timestep):(i.x=0,a.x=0),n.options.fixed.y===!1?(a.y=this.calculateComponentVelocity(a.y,i.y,n.options.mass),n.y+=a.y*this.timestep):(i.y=0,a.y=0);var s=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2));return s}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n].x&&e[n].y){var i=e[n].options.fixed;this.freezeCache[n]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.freezeCache[n]!==void 0&&(e[n].options.fixed.x=this.freezeCache[n].x,e[n].options.fixed.y=this.freezeCache[n].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof n!="number"&&(n=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",n)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=n,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Bn(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,n=function(){return e.stabilized===!1&&e.stabilizationIterations<e.targetIterations},i=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&i();for(var a=0;n()&&a<this.options.stabilization.updateInterval;)this.physicsTick(),a++;if(i(),n()){var s;Bn(X(s=this._stabilizationBatch).call(s,this),0)}else this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var i=this.physicsBody.physicsNodeIndices[n],a=this.body.nodes[i],s=this.physicsBody.forces[i],o=20,l=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,u),15),d=3*c,f=_y((180-Math.min(1,Math.max(0,l*u))*180)/360,1,1),h={x:a.x+o*s.x,y:a.y+o*s.y};e.lineWidth=c,e.strokeStyle=f,e.beginPath(),e.moveTo(a.x,a.y),e.lineTo(h.x,h.y),e.stroke();var v=Math.atan2(s.y,s.x);e.fillStyle=f,pR.draw(e,{type:"arrow",point:h,angle:v,length:d}),Ku(e).call(e)}}}]),t}();let Nc;const QEe=new Uint8Array(16);function JEe(){if(!Nc&&(Nc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nc(QEe)}const Qt=[];for(let t=0;t<256;++t)Qt.push((t+256).toString(16).slice(1));function eTe(t,r=0){return Qt[t[r+0]]+Qt[t[r+1]]+Qt[t[r+2]]+Qt[t[r+3]]+"-"+Qt[t[r+4]]+Qt[t[r+5]]+"-"+Qt[t[r+6]]+Qt[t[r+7]]+"-"+Qt[t[r+8]]+Qt[t[r+9]]+"-"+Qt[t[r+10]]+Qt[t[r+11]]+Qt[t[r+12]]+Qt[t[r+13]]+Qt[t[r+14]]+Qt[t[r+15]]}const tTe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var JS={randomUUID:tTe};function Sl(t,r,e){if(JS.randomUUID&&!r&&!t)return JS.randomUUID();t=t||{};const n=t.random||(t.rng||JEe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,eTe(n)}var fr=function(){function t(){re(this,t)}return ne(t,null,[{key:"getRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,a=-1e9,s=1e9,o=-1e9,l;if(n.length>0)for(var u=0;u<n.length;u++)l=e[n[u]],s>l.shape.boundingBox.left&&(s=l.shape.boundingBox.left),o<l.shape.boundingBox.right&&(o=l.shape.boundingBox.right),i>l.shape.boundingBox.top&&(i=l.shape.boundingBox.top),a<l.shape.boundingBox.bottom&&(a=l.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&i===1e9&&a===-1e9&&(i=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:i,maxY:a}}},{key:"getRangeCore",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=1e9,a=-1e9,s=1e9,o=-1e9,l;if(n.length>0)for(var u=0;u<n.length;u++)l=e[n[u]],s>l.x&&(s=l.x),o<l.x&&(o=l.x),i>l.y&&(i=l.y),a<l.y&&(a=l.y);return s===1e9&&o===-1e9&&i===1e9&&a===-1e9&&(i=0,a=0,s=0,o=0),{minX:s,maxX:o,minY:i,maxY:a}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,n){var i={};return n===void 0||n==="node"?(ft(i,e.options,!0),i.x=e.x,i.y=e.y,i.amountOfConnections=e.edges.length):ft(i,e.options,!0),i}}]),t}();function rTe(t){var r=nTe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function nTe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var iTe=function(t){Ge(e,t);var r=rTe(e);function e(n,i,a,s,o,l){var u;return re(this,e),u=r.call(this,n,i,a,s,o,l),u.isCluster=!0,u.containedNodes={},u.containedEdges={},u}return ne(e,[{key:"_openChildCluster",value:function(i){var a=this,s=this.body.nodes[i];if(this.containedNodes[i]===void 0)throw new Error("node with id: "+i+" not in current cluster");if(!s.isCluster)throw new Error("node with id: "+i+" is not a cluster");delete this.containedNodes[i],Be(s.edges,function(o){delete a.containedEdges[o.id]}),Be(s.containedNodes,function(o,l){a.containedNodes[l]=o}),s.containedNodes={},Be(s.containedEdges,function(o,l){a.containedEdges[l]=o}),s.containedEdges={},Be(s.edges,function(o){Be(a.edges,function(l){var u,c,d=He(u=l.clusteringEdgeReplacingIds).call(u,o.id);d!==-1&&(Be(o.clusteringEdgeReplacingIds,function(f){l.clusteringEdgeReplacingIds.push(f),a.body.edges[f].edgeReplacedById=l.id}),ni(c=l.clusteringEdgeReplacingIds).call(c,d,1))})}),s.edges=[]}}]),e}(Fr),aTe=function(){function t(r){var e=this;re(this,t),this.body=r,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},xt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){e.clusteredNodes={},e.clusteredEdges={}})}return ne(t,[{key:"clusterByHubsize",value:function(e,n){e===void 0?e=this._getHubSize():rt(e)==="object"&&(n=this._checkOptions(e),e=this._getHubSize());for(var i=[],a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodes[this.body.nodeIndices[a]];s.edges.length>=e&&i.push(s.id)}for(var o=0;o<i.length;o++)this.clusterByConnection(i[o],n,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(n.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");n=this._checkOptions(n);var a={},s={};Be(this.body.nodes,function(o,l){o.options&&n.joinCondition(o.options)===!0&&(a[l]=o,Be(o.edges,function(u){e.clusteredEdges[u.id]===void 0&&(s[u.id]=u)}))}),this._cluster(a,s,n,i)}},{key:"clusterByEdgeCount",value:function(e,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;n=this._checkOptions(n);for(var s=[],o={},l,u,c,d=function(){var p={},m={},y=i.body.nodeIndices[f],b=i.body.nodes[y];if(o[y]===void 0){c=0,u=[];for(var A=0;A<b.edges.length;A++)l=b.edges[A],i.clusteredEdges[l.id]===void 0&&(l.toId!==l.fromId&&c++,u.push(l));if(c===e){for(var $=function(K){if(n.joinCondition===void 0||n.joinCondition===null)return!0;var me=fr.cloneOptions(K);return n.joinCondition(me)},k=!0,C=0;C<u.length;C++){l=u[C];var T=i._getConnectedId(l,y);if($(b))m[l.id]=l,p[y]=b,p[T]=i.body.nodes[T],o[y]=!0;else{k=!1;break}}if(bt(p).length>0&&bt(m).length>0&&k===!0){var E=function(){for(var K=0;K<s.length;++K)for(var me in p)if(s[K].nodes[me]!==void 0)return s[K]},S=E();if(S!==void 0){for(var O in p)S.nodes[O]===void 0&&(S.nodes[O]=p[O]);for(var P in m)S.edges[P]===void 0&&(S.edges[P]=m[P])}else s.push({nodes:p,edges:m})}}}},f=0;f<this.body.nodeIndices.length;f++)d();for(var h=0;h<s.length;h++)this._cluster(s[h].nodes,s[h].edges,n,!1);a===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,n)}},{key:"clusterBridges",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,n)}},{key:"clusterByConnection",value:function(e,n){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var s=this.body.nodes[e];n=this._checkOptions(n,s),n.clusterNodeProperties.x===void 0&&(n.clusterNodeProperties.x=s.x),n.clusterNodeProperties.y===void 0&&(n.clusterNodeProperties.y=s.y),n.clusterNodeProperties.fixed===void 0&&(n.clusterNodeProperties.fixed={},n.clusterNodeProperties.fixed.x=s.options.fixed.x,n.clusterNodeProperties.fixed.y=s.options.fixed.y);var o={},l={},u=s.id,c=fr.cloneOptions(s);o[u]=s;for(var d=0;d<s.edges.length;d++){var f=s.edges[d];if(this.clusteredEdges[f.id]===void 0){var h=this._getConnectedId(f,u);if(this.clusteredNodes[h]===void 0)if(h!==u)if(n.joinCondition===void 0)l[f.id]=f,o[h]=this.body.nodes[h];else{var v=fr.cloneOptions(this.body.nodes[h]);n.joinCondition(c,v)===!0&&(l[f.id]=f,o[h]=this.body.nodes[h])}else l[f.id]=f}}var p=so(i=bt(o)).call(i,function($){return o[$].id});for(var m in o)if(Object.prototype.hasOwnProperty.call(o,m))for(var y=o[m],b=0;b<y.edges.length;b++){var A=y.edges[b];He(p).call(p,this._getConnectedId(A,y.id))>-1&&(l[A.id]=A)}this._cluster(o,l,n,a)}},{key:"_createClusterEdges",value:function(e,n,i,a){for(var s,o,l,u,c,d,f=bt(e),h=[],v=0;v<f.length;v++){o=f[v],l=e[o];for(var p=0;p<l.edges.length;p++)s=l.edges[p],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?n[s.id]=s:s.toId==o?(u=i.id,c=s.fromId,d=c):(u=s.toId,c=i.id,d=u),e[d]===void 0&&h.push({edge:s,fromId:c,toId:u}))}for(var m=[],y=function(T){for(var E=0;E<m.length;E++){var S=m[E],O=T.fromId===S.fromId&&T.toId===S.toId,P=T.fromId===S.toId&&T.toId===S.fromId;if(O||P)return S}return null},b=0;b<h.length;b++){var A=h[b],$=A.edge,k=y(A);k===null?(k=this._createClusteredEdge(A.fromId,A.toId,$,a),m.push(k)):k.clusteringEdgeReplacingIds.push($.id),this.body.edges[$.id].edgeReplacedById=k.id,this._backupEdgeOptions($),$.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&this.clusteredNodes[o]!==void 0&&s.push(o);for(var l=0;l<s.length;++l)delete e[s[l]];if(bt(e).length!=0&&!(bt(e).length==1&&i.clusterNodeProperties.allowSingleNodeCluster!=!0)){var u=ft({},i.clusterNodeProperties);if(i.processProperties!==void 0){var c=[];for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var f=fr.cloneOptions(e[d]);c.push(f)}var h=[];for(var v in n)if(Object.prototype.hasOwnProperty.call(n,v)&&v.substr(0,12)!=="clusterEdge:"){var p=fr.cloneOptions(n[v],"edge");h.push(p)}if(u=i.processProperties(u,c,h),!u)throw new Error("The processProperties function does not return properties!")}u.id===void 0&&(u.id="cluster:"+Sl());var m=u.id;u.label===void 0&&(u.label="cluster");var y=void 0;u.x===void 0&&(y=this._getClusterPosition(e),u.x=y.x),u.y===void 0&&(y===void 0&&(y=this._getClusterPosition(e)),u.y=y.y),u.id=m;var b=this.body.functions.createNode(u,iTe);b.containedNodes=e,b.containedEdges=n,b.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[u.id]=b,this._clusterEdges(e,n,u,i.clusterEdgeProperties),u.id=void 0,a===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var n=this.clusteredEdges[e.id];n!==void 0&&(e.setOptions({physics:n.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var n=bt(e),i=e[n[0]].x,a=e[n[0]].x,s=e[n[0]].y,o=e[n[0]].y,l,u=1;u<n.length;u++)l=e[n[u]],i=l.x<i?l.x:i,a=l.x>a?l.x:a,s=l.y<s?l.y:s,o=l.y>o?l.y:o;return{x:.5*(i+a),y:.5*(s+o)}}},{key:"openCluster",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var a=this.body.nodes[e];if(a===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(a.isCluster!==!0||a.containedNodes===void 0||a.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");var s=this.findNode(e),o=He(s).call(s,e)-1;if(o>=0){var l=s[o],u=this.body.nodes[l];u._openChildCluster(e),delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged");return}var c=a.containedNodes,d=a.containedEdges;if(n!==void 0&&n.releaseFunction!==void 0&&typeof n.releaseFunction=="function"){var f={},h={x:a.x,y:a.y};for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)){var p=this.body.nodes[v];f[v]={x:p.x,y:p.y}}var m=n.releaseFunction(h,f);for(var y in c)if(Object.prototype.hasOwnProperty.call(c,y)){var b=this.body.nodes[y];m[y]!==void 0&&(b.x=m[y].x===void 0?a.x:m[y].x,b.y=m[y].y===void 0?a.y:m[y].y)}}else Be(c,function(oe){oe.options.fixed.x===!1&&(oe.x=a.x),oe.options.fixed.y===!1&&(oe.y=a.y)});for(var A in c)if(Object.prototype.hasOwnProperty.call(c,A)){var $=this.body.nodes[A];$.vx=a.vx,$.vy=a.vy,$.setOptions({physics:!0}),delete this.clusteredNodes[A]}for(var k=[],C=0;C<a.edges.length;C++)k.push(a.edges[C]);for(var T=0;T<k.length;T++){for(var E=k[T],S=this._getConnectedId(E,e),O=this.clusteredNodes[S],P=0;P<E.clusteringEdgeReplacingIds.length;P++){var j=E.clusteringEdgeReplacingIds[P],K=this.body.edges[j];if(K!==void 0)if(O!==void 0){var me=this.body.nodes[O.clusterId];me.containedEdges[K.id]=K,delete d[K.id];var Ee=K.fromId,z=K.toId;K.toId==S?z=O.clusterId:Ee=O.clusterId,this._createClusteredEdge(Ee,z,K,me.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(K)}E.remove()}for(var B in d)Object.prototype.hasOwnProperty.call(d,B)&&this._restoreEdge(d[B]);delete this.body.nodes[e],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var n=[];if(this.isCluster(e)===!0){var i=this.body.nodes[e].containedNodes;for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&n.push(this.body.nodes[a].id)}return n}},{key:"findNode",value:function(e){for(var n=[],i=100,a=0,s;this.clusteredNodes[e]!==void 0&&a<i;){if(s=this.body.nodes[e],s===void 0)return[];n.push(s.id),e=this.clusteredNodes[e].clusterId,a++}return s=this.body.nodes[e],s===void 0?[]:(n.push(s.id),Ta(n).call(n),n)}},{key:"updateClusteredNode",value:function(e,n){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(n===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(n),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,n){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(n===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(e),a=0;a<i.length;a++){var s=this.body.edges[i[a]];s.setOptions(n)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var n=[],i=100,a=0;e!==void 0&&this.body.edges[e]!==void 0&&a<i;)n.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,a++;return Ta(n).call(n),n}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var n=[e],i=[],a=[],s=100,o=0;n.length>0&&o<s;){var l=n.pop();if(l!==void 0){var u=this.body.edges[l];if(u!==void 0){o++;var c=u.clusteringEdgeReplacingIds;if(c===void 0)a.push(l);else for(var d=0;d<c.length;++d){var f=c[d];He(n).call(n,c)!==-1||He(i).call(i,c)!==-1||n.push(f)}i.push(l)}}}return a}},{key:"_getConnectedId",value:function(e,n){return e.toId!=n?e.toId:(e.fromId!=n,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,n=0,i=0,a=0,s=0;s<this.body.nodeIndices.length;s++){var o=this.body.nodes[this.body.nodeIndices[s]];o.edges.length>a&&(a=o.edges.length),e+=o.edges.length,n+=Math.pow(o.edges.length,2),i+=1}e=e/i,n=n/i;var l=n-Math.pow(e,2),u=Math.sqrt(l),c=Math.floor(e+2*u);return c>a&&(c=a),c}},{key:"_createClusteredEdge",value:function(e,n,i,a,s){var o=fr.cloneOptions(i,"edge");ft(o,a),o.from=e,o.to=n,o.id="clusterEdge:"+Sl(),s!==void 0&&ft(o,s);var l=this.body.functions.createEdge(o);return l.clusteringEdgeReplacingIds=[i.id],l.connect(),this.body.edges[l.id]=l,l}},{key:"_clusterEdges",value:function(e,n,i,a){if(n instanceof Ks){var s=n,o={};o[s.id]=s,n=o}if(e instanceof Fr){var l=e,u={};u[l.id]=l,e=u}if(i==null)throw new Error("_clusterEdges: parameter clusterNode required");a===void 0&&(a=i.clusterEdgeProperties),this._createClusterEdges(e,n,i,a);for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)&&this.body.edges[c]!==void 0){var d=this.body.edges[c];this._backupEdgeOptions(d),d.setOptions({physics:!1})}for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(this.clusteredNodes[f]={clusterId:i.id,node:this.body.nodes[f]},this.body.nodes[f].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(e!==void 0){var n=this.clusteredNodes[e];if(n!==void 0){var i=n.clusterId;if(i!==void 0)return this.body.nodes[i]}}}},{key:"_filter",value:function(e,n){var i=[];return Be(e,function(a){n(a)&&i.push(a)}),i}},{key:"_updateState",value:function(){var e=this,n,i=[],a={},s=function(v){Be(e.body.nodes,function(p){p.isCluster===!0&&v(p)})};for(n in this.clusteredNodes)if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,n)){var o=this.body.nodes[n];o===void 0&&i.push(n)}s(function(h){for(var v=0;v<i.length;v++)delete h.containedNodes[i[v]]});for(var l=0;l<i.length;l++)delete this.clusteredNodes[i[l]];Be(this.clusteredEdges,function(h){var v=e.body.edges[h];(v===void 0||!v.endPointsValid())&&(a[h]=h)}),s(function(h){Be(h.containedEdges,function(v,p){!v.endPointsValid()&&!a[p]&&(a[p]=p)})}),Be(this.body.edges,function(h,v){var p=!0,m=h.clusteringEdgeReplacingIds;if(m!==void 0){var y=0;Be(m,function(b){var A=e.body.edges[b];A!==void 0&&A.endPointsValid()&&(y+=1)}),p=y>0}(!h.endPointsValid()||!p)&&(a[v]=v)}),s(function(h){Be(a,function(v){delete h.containedEdges[v],Be(h.edges,function(p,m){if(p.id===v){h.edges[m]=null;return}p.clusteringEdgeReplacingIds=e._filter(p.clusteringEdgeReplacingIds,function(y){return!a[y]})}),h.edges=e._filter(h.edges,function(p){return p!==null})})}),Be(a,function(h){delete e.clusteredEdges[h]}),Be(a,function(h){delete e.body.edges[h]});var u=bt(this.body.edges);Be(u,function(h){var v=e.body.edges[h],p=e._isClusteredNode(v.fromId)||e._isClusteredNode(v.toId);if(p!==e._isClusteredEdge(v.id))if(p){var m=e._getClusterNodeForNode(v.fromId);m!==void 0&&e._clusterEdges(e.body.nodes[v.fromId],v,m);var y=e._getClusterNodeForNode(v.toId);y!==void 0&&e._clusterEdges(e.body.nodes[v.toId],v,y)}else delete e._clusterEdges[h],e._restoreEdge(v)});for(var c=!1,d=!0,f=function(){var v=[];s(function(m){var y=bt(m.containedNodes).length,b=m.options.allowSingleNodeCluster===!0;(b&&y<1||!b&&y<2)&&v.push(m.id)});for(var p=0;p<v.length;++p)e.openCluster(v[p],{},!1);d=v.length>0,c=c||d};d;)f();c&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return this.clusteredNodes[e]!==void 0}},{key:"_isClusteredEdge",value:function(e){return this.clusteredEdges[e]!==void 0}}]),t}();function sTe(){var t;window!==void 0&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),t===void 0?window.requestAnimationFrame=function(r){r()}:window.requestAnimationFrame=t}var oTe=function(){function t(r,e){re(this,t),sTe(),this.body=r,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},xt(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e=this,n;this.body.emitter.on("dragStart",function(){e.dragging=!0}),this.body.emitter.on("dragEnd",function(){e.dragging=!1}),this.body.emitter.on("zoom",function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=Bn(function(){var i;e.zooming=!1,X(i=e._requestRedraw).call(i,e)()},250)}),this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()}),this.body.emitter.on("_redraw",function(){e.renderingActive===!1&&e._redraw()}),this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0,e.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",X(n=this._requestRedraw).call(n,this)),this.body.emitter.on("_startRendering",function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()}),this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0}),this.body.emitter.on("destroy",function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,e.requiresTimeout===!0?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()})}},{key:"setOptions",value:function(e){if(e!==void 0){var n=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];No(n,this.options,e)}}},{key:"_requestNextFrame",value:function(e,n){if(!(typeof window>"u")){var i,a=window;return this.requiresTimeout===!0?i=Bn(e,n):a.requestAnimationFrame&&(i=a.requestAnimationFrame(e)),i}}},{key:"_startRendering",value:function(){if(this.renderingActive===!0&&this.renderTimer===void 0){var e;this.renderTimer=this._requestNextFrame(X(e=this._renderStep).call(e,this),this.simulationInterval)}}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){e._redraw(!1)},0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var n={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),a=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,a,s),this.canvas.frame.clientWidth===0)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(i),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){var o=this._drawNodes(i,e),l=o.drawExternalLabels;n.drawExternalLabels=l}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(i),n.drawExternalLabels!=null&&n.drawExternalLabels(),e===!1&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),e===!0&&i.clearRect(0,0,a,s)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var n=this.body.nodes,i;for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i=n[a],i.resize(e),i.updateBoundingBox(e,i.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.body.nodes,a=this.body.nodeIndices,s,o=[],l=[],u=20,c=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),f={top:c.y,left:c.x,bottom:d.y,right:d.x},h=[],v=0;v<a.length;v++)if(s=i[a[v]],s.hover)l.push(a[v]);else if(s.isSelected())o.push(a[v]);else if(n===!0){var p=s.draw(e);p.drawExternalLabel!=null&&h.push(p.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(f)===!0){var m=s.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);var y,b=o.length,A=l.length;for(y=0;y<b;y++){s=i[o[y]];var $=s.draw(e);$.drawExternalLabel!=null&&h.push($.drawExternalLabel)}for(y=0;y<A;y++){s=i[l[y]];var k=s.draw(e);k.drawExternalLabel!=null&&h.push(k.drawExternalLabel)}return{drawExternalLabels:function(){for(var T=0,E=h;T<E.length;T++){var S=E[T];S()}}}}},{key:"_drawEdges",value:function(e){for(var n=this.body.edges,i=this.body.edgeIndices,a=0;a<i.length;a++){var s=n[i[a]];s.connected===!0&&s.draw(e)}}},{key:"_drawArrows",value:function(e){for(var n=this.body.edges,i=this.body.edgeIndices,a=0;a<i.length;a++){var s=n[i[a]];s.connected===!0&&s.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,He(e).call(e,"msie 9.0")!=-1?this.requiresTimeout=!0:He(e).call(e,"safari")!=-1&&He(e).call(e,"chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var n=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,n,i),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,n,i),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),t}(),lTe=Ve,uTe=lTe.setInterval,cTe=uTe,dTe=ye(cTe);function Jd(t,r){r.inputHandler=function(e){e.isFirst&&r(e)},t.on("hammer.input",r.inputHandler)}function mR(t,r){return r.inputHandler=function(e){e.isFinal&&r(e)},t.on("hammer.input",r.inputHandler)}var fTe=function(){function t(r){re(this,t),this.body=r,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},xt(this.options,this.defaultOptions),this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e=this,n;this.body.emitter.once("resize",function(i){i.width!==0&&(e.body.view.translation.x=i.width*.5),i.height!==0&&(e.body.view.translation.y=i.height*.5)}),this.body.emitter.on("setSize",X(n=this.setSize).call(n,this)),this.body.emitter.on("destroy",function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()})}},{key:"setOptions",value:function(e){var n=this;if(e!==void 0){var i=["width","height","autoResize"];No(i,this.options,e)}if(this._cleanUp(),this.options.autoResize===!0){var a;if(window.ResizeObserver){var s=new ResizeObserver(function(){var c=n.setSize();c===!0&&n.body.emitter.emit("_requestRedraw")}),o=this.frame;s.observe(o),this._cleanupCallbacks.push(function(){s.unobserve(o)})}else{var l=dTe(function(){var c=n.setSize();c===!0&&n.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(function(){clearInterval(l)})}var u=X(a=this._onResize).call(a,this);window.addEventListener("resize",u),this._cleanupCallbacks.push(function(){window.removeEventListener("resize",u)})}}},{key:"_cleanUp",value:function(){var e,n,i;ot(e=Ta(n=ni(i=this._cleanupCallbacks).call(i,0)).call(n)).call(e,function(a){try{a()}catch(s){console.error(s)}})}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,n=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;e!=1&&n!=1?i=this.cameraState.scale*.5*(e+n):e!=1?i=this.cameraState.scale*e:n!=1&&(i=this.cameraState.scale*n),this.body.view.scale=i;var a=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:a.x-this.cameraState.position.x,y:a.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(He(e).call(e,"%")!==-1||He(e).call(e,"px")!==-1)return e;if(He(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Gs(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Gs.DIRECTION_ALL}),Jd(this.hammer,function(n){e.body.eventListeners.onTouch(n)}),this.hammer.on("tap",function(n){e.body.eventListeners.onTap(n)}),this.hammer.on("doubletap",function(n){e.body.eventListeners.onDoubleTap(n)}),this.hammer.on("press",function(n){e.body.eventListeners.onHold(n)}),this.hammer.on("panstart",function(n){e.body.eventListeners.onDragStart(n)}),this.hammer.on("panmove",function(n){e.body.eventListeners.onDrag(n)}),this.hammer.on("panend",function(n){e.body.eventListeners.onDragEnd(n)}),this.hammer.on("pinch",function(n){e.body.eventListeners.onPinch(n)}),this.frame.canvas.addEventListener("wheel",function(n){e.body.eventListeners.onMouseWheel(n)}),this.frame.canvas.addEventListener("mousemove",function(n){e.body.eventListeners.onMouseMove(n)}),this.frame.canvas.addEventListener("contextmenu",function(n){e.body.eventListeners.onContext(n)}),this.hammerFrame=new Gs(this.frame),mR(this.hammerFrame,function(n){e.body.eventListeners.onRelease(n)})}},{key:"setSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),n=this._prepareValue(n);var i=!1,a=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||n!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=n)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var l=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==l||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==l&&(this.frame.canvas.width=l,i=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,i=!0)}return i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(a/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");var n=1;typeof window<"u"&&(n=window.devicePixelRatio||1);var i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/i}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),t}();function hTe(t,r){var e=xt({nodes:r,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!et(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(e.nodes.length===0&&(e.nodes=r),!(typeof e.minZoomLevel=="number"&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof e.maxZoomLevel=="number"&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}var vTe=function(){function t(r,e){var n,i=this,a;re(this,t),this.body=r,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",X(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",function(){i.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",X(a=this.releaseNode).call(a,this))}return ne(t,[{key:"setOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=hTe(e,this.body.nodeIndices);var i=this.canvas.frame.canvas.clientWidth,a=this.canvas.frame.canvas.clientHeight,s,o;if(i===0||a===0)o=1,s=fr.getRange(this.body.nodes,e.nodes);else if(n===!0){var l=0;for(var u in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,u)){var c=this.body.nodes[u];c.predefinedPosition===!0&&(l+=1)}if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=fr.getRange(this.body.nodes,e.nodes);var d=this.body.nodeIndices.length;o=12.662/(d+7.4147)+.0964822;var f=Math.min(i/600,a/600);o*=f}else{this.body.emitter.emit("_resizeNodes"),s=fr.getRange(this.body.nodes,e.nodes);var h=Math.abs(s.maxX-s.minX)*1.1,v=Math.abs(s.maxY-s.minY)*1.1,p=i/h,m=a/v;o=p<=m?p:m}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);var y=fr.findCenter(s),b={position:y,scale:o,animation:e.animation};this.moveTo(b)}},{key:"focus",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){var i={x:this.body.nodes[e].x,y:this.body.nodes[e].y};n.position=i,n.lockedOnNode=e,this.moveTo(n)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!ma(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!ma(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!ma(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!ma(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}},{key:"animateView",value:function(e){if(e!==void 0){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:n.x-e.position.x,y:n.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var a;this.viewFunction=X(a=this._lockedRedraw).call(a,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=X(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}}},{key:"_lockedRedraw",value:function(){var e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:n.x-e.x,y:n.y-e.y},a=this.body.view.translation,s={x:a.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:a.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;var n=Z$e[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*n,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*n,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*n},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var i;this.viewFunction=X(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function ek(t){var r=t&&t.preventDefault||!1,e=t&&t.container||window,n={},i={keydown:{},keyup:{}},a={},s;for(s=97;s<=122;s++)a[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)a[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)a[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)a["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)a["num"+s]={code:96+s,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var o=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,d){if(i[d][c.keyCode]!==void 0){for(var f=i[d][c.keyCode],h=0;h<f.length;h++)(f[h].shift===void 0||f[h].shift==!0&&c.shiftKey==!0||f[h].shift==!1&&c.shiftKey==!1)&&f[h].fn(c);r==!0&&c.preventDefault()}};return n.bind=function(c,d,f){if(f===void 0&&(f="keydown"),a[c]===void 0)throw new Error("unsupported key: "+c);i[f][a[c].code]===void 0&&(i[f][a[c].code]=[]),i[f][a[c].code].push({fn:d,shift:a[c].shift})},n.bindAll=function(c,d){d===void 0&&(d="keydown");for(var f in a)a.hasOwnProperty(f)&&n.bind(f,c,d)},n.getKey=function(c){for(var d in a)if(a.hasOwnProperty(d)){if(c.shiftKey==!0&&a[d].shift==!0&&c.keyCode==a[d].code)return d;if(c.shiftKey==!1&&a[d].shift==!1&&c.keyCode==a[d].code)return d;if(c.keyCode==a[d].code&&d=="shift")return d}return"unknown key, currently not supported"},n.unbind=function(c,d,f){if(f===void 0&&(f="keydown"),a[c]===void 0)throw new Error("unsupported key: "+c);if(d!==void 0){var h=[],v=i[f][a[c].code];if(v!==void 0)for(var p=0;p<v.length;p++)v[p].fn==d&&v[p].shift==a[c].shift||h.push(i[f][a[c].code][p]);i[f][a[c].code]=h}else i[f][a[c].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},e.removeEventListener("keydown",o,!0),e.removeEventListener("keyup",l,!0)},e.addEventListener("keydown",o,!0),e.addEventListener("keyup",l,!0),n}var pTe=function(){function t(r,e){var n=this;re(this,t),this.body=r,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){n.keycharm!==void 0&&n.keycharm.destroy()}),this.options={}}return ne(t,[{key:"setOptions",value:function(e){e!==void 0&&(this.options=e,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var n=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var a=0;a<n.length;a++){this.navigationDOM[n[a]]=document.createElement("div"),this.navigationDOM[n[a]].className="vis-button vis-"+n[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[n[a]]);var s=new Gs(this.navigationDOM[n[a]]);if(i[a]==="_fit"){var o;Jd(s,X(o=this._fit).call(o,this))}else{var l;Jd(s,X(l=this.bindToRedraw).call(l,this,i[a]))}this.navigationHammers.push(s)}var u=new Gs(this.canvas.frame);mR(u,function(){e._stopMovement()}),this.navigationHammers.push(u),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){if(this.boundFunctions[e]===void 0){var n;this.boundFunctions[e]=X(n=this[e]).call(n,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,n=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,a=n/e,s=(1-a)*this.canvas.canvasViewCenter.x+i.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+i.y*a;this.body.view.scale=n,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,n=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,a=n/e,s=(1-a)*this.canvas.canvasViewCenter.x+i.x*a,o=(1-a)*this.canvas.canvasViewCenter.y+i.y*a;this.body.view.scale=n,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=ek({container:window,preventDefault:!0}):this.keycharm=ek({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var n,i,a,s,o,l,u,c,d,f,h,v,p,m,y,b,A,$,k,C,T,E,S,O;X(n=this.keycharm).call(n,"up",function(){e.bindToRedraw("_moveUp")},"keydown"),X(i=this.keycharm).call(i,"down",function(){e.bindToRedraw("_moveDown")},"keydown"),X(a=this.keycharm).call(a,"left",function(){e.bindToRedraw("_moveLeft")},"keydown"),X(s=this.keycharm).call(s,"right",function(){e.bindToRedraw("_moveRight")},"keydown"),X(o=this.keycharm).call(o,"=",function(){e.bindToRedraw("_zoomIn")},"keydown"),X(l=this.keycharm).call(l,"num+",function(){e.bindToRedraw("_zoomIn")},"keydown"),X(u=this.keycharm).call(u,"num-",function(){e.bindToRedraw("_zoomOut")},"keydown"),X(c=this.keycharm).call(c,"-",function(){e.bindToRedraw("_zoomOut")},"keydown"),X(d=this.keycharm).call(d,"[",function(){e.bindToRedraw("_zoomOut")},"keydown"),X(f=this.keycharm).call(f,"]",function(){e.bindToRedraw("_zoomIn")},"keydown"),X(h=this.keycharm).call(h,"pageup",function(){e.bindToRedraw("_zoomIn")},"keydown"),X(v=this.keycharm).call(v,"pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown"),X(p=this.keycharm).call(p,"up",function(){e.unbindFromRedraw("_moveUp")},"keyup"),X(m=this.keycharm).call(m,"down",function(){e.unbindFromRedraw("_moveDown")},"keyup"),X(y=this.keycharm).call(y,"left",function(){e.unbindFromRedraw("_moveLeft")},"keyup"),X(b=this.keycharm).call(b,"right",function(){e.unbindFromRedraw("_moveRight")},"keyup"),X(A=this.keycharm).call(A,"=",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),X($=this.keycharm).call($,"num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),X(k=this.keycharm).call(k,"num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),X(C=this.keycharm).call(C,"-",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),X(T=this.keycharm).call(T,"[",function(){e.unbindFromRedraw("_zoomOut")},"keyup"),X(E=this.keycharm).call(E,"]",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),X(S=this.keycharm).call(S,"pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup"),X(O=this.keycharm).call(O,"pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}]),t}();function gTe(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=yTe(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function yTe(t,r){var e;if(t){if(typeof t=="string")return tk(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,r)}}function tk(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var mTe=function(){function t(r,e,n){var i,a,s,o,l,u,c,d,f,h,v,p,m;re(this,t),this.body=r,this.canvas=e,this.selectionHandler=n,this.navigationHandler=new pTe(r,e),this.body.eventListeners.onTap=X(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=X(a=this.onTouch).call(a,this),this.body.eventListeners.onDoubleTap=X(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=X(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=X(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=X(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=X(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=X(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=X(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=X(h=this.onMouseMove).call(h,this),this.body.eventListeners.onRelease=X(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=X(p=this.onContext).call(p,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=X(m=this.getPointer).call(m,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},xt(this.options,this.defaultOptions),this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer})}},{key:"setOptions",value:function(e){if(e!==void 0){var n=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];Yd(n,this.options,e),qr(this.options,e,"keyboard"),e.tooltip&&(xt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=wy(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-K$e(this.canvas.frame.canvas),y:e.y-q$e(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(e){var n=this.getPointer(e.center),i=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(n,i),this.selectionHandler.commitAndEmit(n,e),this.selectionHandler.generateClickEvent("click",e,n)}},{key:"onDoubleTap",value:function(e){var n=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,n)}},{key:"onHold",value:function(e){var n=this.getPointer(e.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(n,i),this.selectionHandler.commitAndEmit(n,e),this.selectionHandler.generateClickEvent("click",e,n),this.selectionHandler.generateClickEvent("hold",e,n)}},{key:"onRelease",value:function(e){if(new Date().valueOf()-this.touchTime>10){var n=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,n),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(e){var n=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,n)}},{key:"checkSelectionChanges",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,n){var i=function(s,o){for(var l=[],u=0;u<s.length;u++){var c=s[u];He(o).call(o,c)===-1&&l.push(c)}return l};return{nodes:i(e.nodes,n.nodes),edges:i(e.edges,n.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){this.drag.pointer===void 0&&this.onTouch(e);var n=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=xt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(n!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=n.id,n.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[n.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var a=gTe(this.selectionHandler.getSelectedNodes()),s;try{for(a.s();!(s=a.n()).done;){var o=s.value,l={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(l)}}catch(u){a.e(u)}finally{a.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var n=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(e.center),a=this.drag.selection;if(a&&a.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,i);var s=i.x-this.drag.pointer.x,o=i.y-this.drag.pointer.y;ot(a).call(a,function(c){var d=c.node;c.xFixed===!1&&(d.x=n.canvas._XconvertDOMtoCanvas(n.canvas._XconvertCanvasToDOM(c.x)+s)),c.yFixed===!1&&(d.y=n.canvas._YconvertDOMtoCanvas(n.canvas._YconvertCanvasToDOM(c.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,i,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}var l=i.x-this.drag.pointer.x,u=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+l,y:this.drag.translation.y+u},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var n=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var a=this.body.selectionBox.position,s={minX:Math.min(a.start.x,a.end.x),minY:Math.min(a.start.y,a.end.y),maxX:Math.max(a.start.x,a.end.x),maxY:Math.max(a.start.y,a.end.y)},o=Er(i=this.body.nodeIndices).call(i,function(c){var d=n.body.nodes[c];return d.x>=s.minX&&d.x<=s.maxX&&d.y>=s.minY&&d.y<=s.maxY});ot(o).call(o,function(c){return n.selectionHandler.selectObject(n.body.nodes[c])});var l=this.getPointer(e.center);this.selectionHandler.commitAndEmit(l,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var u=this.drag.selection;u&&u.length?(ot(u).call(u,function(c){c.node.options.fixed.x=c.xFixed,c.node.options.fixed.y=c.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var n=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var i=this.pinch.scale*e.scale;this.zoom(i,n)}},{key:"zoom",value:function(e,n){if(this.options.zoomView===!0){var i=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var a=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(a=this.canvas.DOMtoCanvas(this.drag.pointer));var s=this.body.view.translation,o=e/i,l=(1-o)*n.x+s.x*o,u=(1-o)*n.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:l,y:u},a!=null){var c=this.canvas.canvasToDOM(a);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),i<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:n}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:n})}}},{key:"onMouseWheel",value:function(e){if(this.options.zoomView===!0){if(e.deltaY!==0){var n=this.body.view.scale;n*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(n,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var n=this,i=this.getPointer({x:e.clientX,y:e.clientY}),a=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(a=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),a===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Bn(function(){return n._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,i)}},{key:"_checkShowPopup",value:function(e){var n=this.canvas._XconvertDOMtoCanvas(e.x),i=this.canvas._YconvertDOMtoCanvas(e.y),a={left:n,top:i,right:n,bottom:i},s=this.popupObj===void 0?void 0:this.popupObj.id,o=!1,l="node";if(this.popupObj===void 0){for(var u=this.body.nodeIndices,c=this.body.nodes,d,f=[],h=0;h<u.length;h++)d=c[u[h]],d.isOverlappingWith(a)===!0&&(o=!0,d.getTitle()!==void 0&&f.push(u[h]));f.length>0&&(this.popupObj=c[f[f.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){for(var v=this.body.edgeIndices,p=this.body.edges,m,y=[],b=0;b<v.length;b++)m=p[v[b]],m.isOverlappingWith(a)===!0&&m.connected===!0&&m.getTitle()!==void 0&&y.push(v[b]);y.length>0&&(this.popupObj=p[y[y.length-1]],l="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new a0e(this.canvas.frame)),this.popup.popupTargetType=l,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var n=this.selectionHandler._pointerToPositionObject(e),i=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(n),i===!0)){var a=this.selectionHandler.getNodeAt(e);i=a===void 0?!1:a.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(n));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}(),bTe=zb,$Te=Xx;bTe("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},$Te);var ATe=Ve,wTe=ATe.Set,_Te=wTe,STe=_Te,kTe=STe,da=ye(kTe),ETe=Ue,rk=Hb,Lc=mh.getWeakData,TTe=jb,OTe=Ur,CTe=To,Up=qt,ITe=Lb,bR=Qi,nk=Yt,$R=Ja,PTe=$R.set,xTe=$R.getterFor,RTe=bR.find,MTe=bR.findIndex,DTe=ETe([].splice),FTe=0,jc=function(t){return t.frozen||(t.frozen=new AR)},AR=function(){this.entries=[]},Gp=function(t,r){return RTe(t.entries,function(e){return e[0]===r})};AR.prototype={get:function(t){var r=Gp(this,t);if(r)return r[1]},has:function(t){return!!Gp(this,t)},set:function(t,r){var e=Gp(this,t);e?e[1]=r:this.entries.push([t,r])},delete:function(t){var r=MTe(this.entries,function(e){return e[0]===t});return~r&&DTe(this.entries,r,1),!!~r}};var BTe={getConstructor:function(t,r,e,n){var i=t(function(l,u){TTe(l,a),PTe(l,{type:r,id:FTe++,frozen:void 0}),CTe(u)||ITe(u,l[n],{that:l,AS_ENTRIES:e})}),a=i.prototype,s=xTe(r),o=function(l,u,c){var d=s(l),f=Lc(OTe(u),!0);return f===!0?jc(d).set(u,c):f[d.id]=c,l};return rk(a,{delete:function(l){var u=s(this);if(!Up(l))return!1;var c=Lc(l);return c===!0?jc(u).delete(l):c&&nk(c,u.id)&&delete c[u.id]},has:function(u){var c=s(this);if(!Up(u))return!1;var d=Lc(u);return d===!0?jc(c).has(u):d&&nk(d,c.id)}}),rk(a,e?{get:function(u){var c=s(this);if(Up(u)){var d=Lc(u);return d===!0?jc(c).get(u):d?d[c.id]:void 0}},set:function(u,c){return o(this,u,c)}}:{add:function(u){return o(this,u,!0)}}),i}},NTe=Gx,ik=kt,hd=Ue,ak=Hb,LTe=mh,jTe=zb,wR=BTe,zc=qt,Hc=Ja.enforce,zTe=We,HTe=FP,Ju=Object,WTe=Array.isArray,Wc=Ju.isExtensible,_R=Ju.isFrozen,VTe=Ju.isSealed,SR=Ju.freeze,UTe=Ju.seal,sk={},ok={},GTe=!ik.ActiveXObject&&"ActiveXObject"in ik,Qo,kR=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},ER=jTe("WeakMap",kR,wR),_s=ER.prototype,vd=hd(_s.set),KTe=function(){return NTe&&zTe(function(){var t=SR([]);return vd(new ER,t,1),!_R(t)})};if(HTe)if(GTe){Qo=wR.getConstructor(kR,"WeakMap",!0),LTe.enable();var lk=hd(_s.delete),Vc=hd(_s.has),uk=hd(_s.get);ak(_s,{delete:function(t){if(zc(t)&&!Wc(t)){var r=Hc(this);return r.frozen||(r.frozen=new Qo),lk(this,t)||r.frozen.delete(t)}return lk(this,t)},has:function(r){if(zc(r)&&!Wc(r)){var e=Hc(this);return e.frozen||(e.frozen=new Qo),Vc(this,r)||e.frozen.has(r)}return Vc(this,r)},get:function(r){if(zc(r)&&!Wc(r)){var e=Hc(this);return e.frozen||(e.frozen=new Qo),Vc(this,r)?uk(this,r):e.frozen.get(r)}return uk(this,r)},set:function(r,e){if(zc(r)&&!Wc(r)){var n=Hc(this);n.frozen||(n.frozen=new Qo),Vc(this,r)?vd(this,r,e):n.frozen.set(r,e)}else vd(this,r,e);return this}})}else KTe()&&ak(_s,{set:function(r,e){var n;return WTe(r)&&(_R(r)?n=sk:VTe(r)&&(n=ok)),vd(this,r,e),n===sk&&SR(r),n===ok&&UTe(r),this}});var qTe=Ve,YTe=qTe.WeakMap,XTe=YTe,ZTe=XTe,QTe=ZTe,kl=ye(QTe);function dt(t,r,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?t!==r||!n:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(t):n?n.value:r.get(t)}function Iy(t,r,e,n,i){if(typeof r=="function"?t!==r||!i:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r.set(t,e),e}function Py(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=JTe(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function JTe(t,r){var e;if(t){if(typeof t=="string")return ck(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ck(t,r)}}function ck(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var la,Kr,Ai,wi,pd;function dk(t,r){var e=new da,n=Py(r),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;t.has(a)||e.add(a)}}catch(s){n.e(s)}finally{n.f()}return e}var fk=function(){function t(){re(this,t),la.set(this,new da),Kr.set(this,new da)}return ne(t,[{key:"size",get:function(){return dt(this,Kr,"f").size}},{key:"add",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var a=0,s=n;a<s.length;a++){var o=s[a];dt(this,Kr,"f").add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var a=0,s=n;a<s.length;a++){var o=s[a];dt(this,Kr,"f").delete(o)}}},{key:"clear",value:function(){dt(this,Kr,"f").clear()}},{key:"getSelection",value:function(){return In(dt(this,Kr,"f"))}},{key:"getChanges",value:function(){return{added:In(dk(dt(this,la,"f"),dt(this,Kr,"f"))),deleted:In(dk(dt(this,Kr,"f"),dt(this,la,"f"))),previous:In(new da(dt(this,la,"f"))),current:In(new da(dt(this,Kr,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();Iy(this,la,dt(this,Kr,"f")),Iy(this,Kr,new da(dt(this,la,"f")));var n=Py(e.added),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;a.select()}}catch(u){n.e(u)}finally{n.f()}var s=Py(e.deleted),o;try{for(s.s();!(o=s.n()).done;){var l=o.value;l.unselect()}}catch(u){s.e(u)}finally{s.f()}return e}}]),t}();la=new kl,Kr=new kl;var eOe=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};re(this,t),Ai.set(this,new fk),wi.set(this,new fk),pd.set(this,void 0),Iy(this,pd,r)}return ne(t,[{key:"sizeNodes",get:function(){return dt(this,Ai,"f").size}},{key:"sizeEdges",get:function(){return dt(this,wi,"f").size}},{key:"getNodes",value:function(){return dt(this,Ai,"f").getSelection()}},{key:"getEdges",value:function(){return dt(this,wi,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=dt(this,Ai,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=dt(this,wi,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){dt(this,Ai,"f").delete(e)}},{key:"deleteEdges",value:function(e){dt(this,wi,"f").delete(e)}},{key:"clear",value:function(){dt(this,Ai,"f").clear(),dt(this,wi,"f").clear()}},{key:"commit",value:function(){for(var e,n,i={nodes:dt(this,Ai,"f").commit(),edges:dt(this,wi,"f").commit()},a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=dt(this,pd,"f")).call.apply(e,Sb(n=[this,i]).call(n,s)),i}}]),t}();Ai=new kl,wi=new kl,pd=new kl;function hk(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=tOe(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function tOe(t,r){var e;if(t){if(typeof t=="string")return vk(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vk(t,r)}}function vk(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var rOe=function(){function t(r,e){var n=this;re(this,t),this.body=r,this.canvas=e,this._selectionAccumulator=new eOe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},xt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){n.updateSelection()})}return ne(t,[{key:"setOptions",value:function(e){if(e!==void 0){var n=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];No(n,this.options,e)}}},{key:"selectOnPoint",value:function(e){var n=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),i!==void 0&&(n=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return n}},{key:"selectAdditionalOnPoint",value:function(e){var n=!1;if(this.options.selectable===!0){var i=this.getNodeAt(e)||this.getEdgeAt(e);i!==void 0&&(n=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return n}},{key:"_initBaseEvent",value:function(e,n){var i={};return i.pointer={DOM:{x:n.x,y:n.y},canvas:this.canvas.DOMtoCanvas(n)},i.event=e,i}},{key:"generateClickEvent",value:function(e,n,i,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=this._initBaseEvent(n,i);if(s===!0)o.nodes=[],o.edges=[];else{var l=this.getSelection();o.nodes=l.nodes,o.edges=l.edges}a!==void 0&&(o.previousSelection=a),e=="click"&&(o.items=this.getClickedItems(i)),n.controlEdge!==void 0&&(o.controlEdge=n.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;if(e!==void 0){if(e instanceof Fr){if(n===!0){var i;(i=this._selectionAccumulator).addEdges.apply(i,In(e.edges))}this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var n=[],i=this.body.nodes,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];i[s].isOverlappingWith(e)&&n.push(s)}return n}},{key:"_pointerToPositionObject",value:function(e){var n=this.canvas.DOMtoCanvas(e);return{left:n.x-1,top:n.y+1,right:n.x+1,bottom:n.y-1}}},{key:"getNodeAt",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this._pointerToPositionObject(e),a=this._getAllNodesOverlappingWith(i);if(a.length>0)return n===!0?this.body.nodes[a[a.length-1]]:a[a.length-1]}},{key:"_getEdgesOverlappingWith",value:function(e,n){for(var i=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a];i[s].isOverlappingWith(e)&&n.push(s)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var n=[];return this._getEdgesOverlappingWith(e,n),n}},{key:"getEdgeAt",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this.canvas.DOMtoCanvas(e),a=10,s=null,o=this.body.edges,l=0;l<this.body.edgeIndices.length;l++){var u=this.body.edgeIndices[l],c=o[u];if(c.connected){var d=c.from.x,f=c.from.y,h=c.to.x,v=c.to.y,p=c.edgeType.getDistanceToEdge(d,f,h,v,i.x,i.y);p<a&&(s=u,a=p)}}if(s!==null)return n===!0?this.body.edges[s]:s}},{key:"_addToHover",value:function(e){e instanceof Fr?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){if(e instanceof Fr){var n;this._selectionAccumulator.deleteNodes(e),(n=this._selectionAccumulator).deleteEdges.apply(n,In(e.edges))}else this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var n=0;n<e.edges.length;n++){var i=e.edges[n];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(e,n,i){var a=this._initBaseEvent(e,n);i.hover===!0&&(i.hover=!1,i instanceof Fr?(a.node=i.id,this.body.emitter.emit("blurNode",a)):(a.edge=i.id,this.body.emitter.emit("blurEdge",a)))}},{key:"emitHoverEvent",value:function(e,n,i){var a=this._initBaseEvent(e,n),s=!1;return i.hover===!1&&(i.hover=!0,this._addToHover(i),s=!0,i instanceof Fr?(a.node=i.id,this.body.emitter.emit("hoverNode",a)):(a.edge=i.id,this.body.emitter.emit("hoverEdge",a))),s}},{key:"hoverObject",value:function(e,n){var i=this.getNodeAt(n);i===void 0&&(i=this.getEdgeAt(n));var a=!1;for(var s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(i===void 0||i instanceof Fr&&i.id!=s||i instanceof Ks)&&(this.emitBlurEvent(e,n,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],a=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(a===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(i===void 0||i instanceof Ks&&i.id!=o||i instanceof Fr&&!i.hover)&&(this.emitBlurEvent(e,n,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],a=!0));if(i!==void 0){var l=bt(this.hoverObj.edges).length,u=bt(this.hoverObj.nodes).length,c=i instanceof Ks&&l===0&&u===0,d=i instanceof Fr&&l===0&&u===0;(a||c||d)&&(a=this.emitHoverEvent(e,n,i)),i instanceof Fr&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(i)}a===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,n){var i=!1,a=this._selectionAccumulator.commit(),s={nodes:a.nodes.previous,edges:a.edges.previous};a.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",n,e,s),i=!0),a.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",n,e,s),i=!0),a.nodes.added.length>0&&(this.generateClickEvent("selectNode",n,e),i=!0),a.edges.added.length>0&&(this.generateClickEvent("selectEdge",n,e),i=!0),i===!0&&this.generateClickEvent("select",n,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return so(e=this._selectionAccumulator.getNodes()).call(e,function(n){return n.id})}},{key:"getSelectedEdgeIds",value:function(){var e;return so(e=this._selectionAccumulator.getEdges()).call(e,function(n){return n.id})}},{key:"setSelection",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((n.unselectAll||n.unselectAll===void 0)&&this.unselectAll(),e.nodes){var i=hk(e.nodes),a;try{for(i.s();!(a=i.n()).done;){var s=a.value,o=this.body.nodes[s];if(!o)throw new RangeError('Node with id "'+s+'" not found');this.selectObject(o,n.highlightEdges)}}catch(f){i.e(f)}finally{i.f()}}if(e.edges){var l=hk(e.edges),u;try{for(l.s();!(u=l.n()).done;){var c=u.value,d=this.body.edges[c];if(!d)throw new RangeError('Edge with id "'+c+'" not found');this.selectObject(d)}}catch(f){l.e(f)}finally{l.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:n})}},{key:"selectEdges",value:function(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var n in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,n.id)||this._selectionAccumulator.deleteEdges(n)}},{key:"getClickedItems",value:function(e){for(var n=this.canvas.DOMtoCanvas(e),i=[],a=this.body.nodeIndices,s=this.body.nodes,o=a.length-1;o>=0;o--){var l=s[a[o]],u=l.getItemsOnPoint(n);i.push.apply(i,u)}for(var c=this.body.edgeIndices,d=this.body.edges,f=c.length-1;f>=0;f--){var h=d[c[f]],v=h.getItemsOnPoint(n);i.push.apply(i,v)}return i}}]),t}(),pk=c2,nOe=Math.floor,xy=function(t,r){var e=t.length,n=nOe(e/2);return e<8?iOe(t,r):aOe(t,xy(pk(t,0,n),r),xy(pk(t,n),r),r)},iOe=function(t,r){for(var e=t.length,n=1,i,a;n<e;){for(a=n,i=t[n];a&&r(t[a-1],i)>0;)t[a]=t[--a];a!==n++&&(t[a]=i)}return t},aOe=function(t,r,e,n){for(var i=r.length,a=e.length,s=0,o=0;s<i||o<a;)t[s+o]=s<i&&o<a?n(r[s],e[o])<=0?r[s++]:e[o++]:s<i?r[s++]:e[o++];return t},sOe=xy,oOe=xu,gk=oOe.match(/firefox\/(\d+)/i),lOe=!!gk&&+gk[1],uOe=xu,cOe=/MSIE|Trident/.test(uOe),dOe=xu,yk=dOe.match(/AppleWebKit\/(\d+)\./),fOe=!!yk&&+yk[1],hOe=ke,TR=Ue,vOe=Za,pOe=xr,mk=an,gOe=X2,bk=Wn,qb=We,yOe=sOe,mOe=Fo,$k=lOe,bOe=cOe,Ak=Ru,wk=fOe,Pi=[],_k=TR(Pi.sort),$Oe=TR(Pi.push),AOe=qb(function(){Pi.sort(void 0)}),wOe=qb(function(){Pi.sort(null)}),_Oe=mOe("sort"),OR=!qb(function(){if(Ak)return Ak<70;if(!($k&&$k>3)){if(bOe)return!0;if(wk)return wk<603;var t="",r,e,n,i;for(r=65;r<76;r++){switch(e=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Pi.push({k:e+i,v:n})}for(Pi.sort(function(a,s){return s.v-a.v}),i=0;i<Pi.length;i++)e=Pi[i].k.charAt(0),t.charAt(t.length-1)!==e&&(t+=e);return t!=="DGBEFHACIJK"}}),SOe=AOe||!wOe||!_Oe||!OR,kOe=function(t){return function(r,e){return e===void 0?-1:r===void 0?1:t!==void 0?+t(r,e)||0:bk(r)>bk(e)?1:-1}};hOe({target:"Array",proto:!0,forced:SOe},{sort:function(r){r!==void 0&&vOe(r);var e=pOe(this);if(OR)return r===void 0?_k(e):_k(e,r);var n=[],i=mk(e),a,s;for(s=0;s<i;s++)s in e&&$Oe(n,e[s]);for(yOe(n,kOe(r)),a=mk(n),s=0;s<a;)e[s]=n[s++];for(;s<i;)gOe(e,s++);return e}});var EOe=Xt,TOe=EOe("Array").sort,OOe=Ct,COe=TOe,Kp=Array.prototype,IOe=function(t){var r=t.sort;return t===Kp||OOe(Kp,t)&&r===Kp.sort?COe:r},POe=IOe,xOe=POe,ROe=xOe,El=ye(ROe),MOe=Za,DOe=xr,FOe=Xf,BOe=an,NOe=TypeError,Sk=function(t){return function(r,e,n,i){MOe(e);var a=DOe(r),s=FOe(a),o=BOe(a),l=t?o-1:0,u=t?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=u;break}if(l+=u,t?l<0:o<=l)throw new NOe("Reduce of empty array with no initial value")}for(;t?l>=0:o>l;l+=u)l in s&&(i=e(i,s[l],l,a));return i}},LOe={left:Sk(!1),right:Sk(!0)},jOe=kt,zOe=pi,HOe=zOe(jOe.process)==="process",WOe=ke,VOe=LOe.left,UOe=Fo,kk=Ru,GOe=HOe,KOe=!GOe&&kk>79&&kk<83,qOe=KOe||!UOe("reduce");WOe({target:"Array",proto:!0,forced:qOe},{reduce:function(r){var e=arguments.length;return VOe(this,r,e,e>1?arguments[1]:void 0)}});var YOe=Xt,XOe=YOe("Array").reduce,ZOe=Ct,QOe=XOe,qp=Array.prototype,JOe=function(t){var r=t.reduce;return t===qp||ZOe(qp,t)&&r===qp.reduce?QOe:r},eCe=JOe,tCe=eCe,rCe=tCe,CR=ye(rCe);function IR(t){var r=nCe();return function(){var n=ve(t),i;if(r){var a=ve(this).constructor;i=H(n,arguments,a)}else i=n.apply(this,arguments);return tt(this,i)}}function nCe(){if(typeof Reflect>"u"||!H||H.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(H(Boolean,[],function(){})),!0}catch{return!1}}var PR=function(){function t(){re(this,t)}return ne(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,n,i),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,n){this.fake_use(e,n),this.abstract()}},{key:"shift",value:function(e,n){this.fake_use(e,n),this.abstract()}}]),t}(),iCe=function(t){Ge(e,t);var r=IR(e);function e(n){var i;return re(this,e),i=r.call(this),i.layout=n,i}return ne(e,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(i){return i.x}},{key:"setPosition",value:function(i,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(i,s),i.x=a}},{key:"getTreeSize",value:function(i){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:a.min_x,max:a.max_x}}},{key:"sort",value:function(i){El(i).call(i,function(a,s){return a.x-s.x})}},{key:"fix",value:function(i,a){i.y=this.layout.options.hierarchical.levelSeparation*a,i.options.fixed.y=!0}},{key:"shift",value:function(i,a){this.layout.body.nodes[i].x+=a}}]),e}(PR),aCe=function(t){Ge(e,t);var r=IR(e);function e(n){var i;return re(this,e),i=r.call(this),i.layout=n,i}return ne(e,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(i){return i.y}},{key:"setPosition",value:function(i,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;s!==void 0&&this.layout.hierarchical.addToOrdering(i,s),i.y=a}},{key:"getTreeSize",value:function(i){var a=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,i);return{min:a.min_y,max:a.max_y}}},{key:"sort",value:function(i){El(i).call(i,function(a,s){return a.y-s.y})}},{key:"fix",value:function(i,a){i.x=this.layout.options.hierarchical.levelSeparation*a,i.options.fixed.x=!0}},{key:"shift",value:function(i,a){this.layout.body.nodes[i].y+=a}}]),e}(PR),sCe=ke,oCe=Qi.every,lCe=Fo,uCe=lCe("every");sCe({target:"Array",proto:!0,forced:!uCe},{every:function(r){return oCe(this,r,arguments.length>1?arguments[1]:void 0)}});var cCe=Xt,dCe=cCe("Array").every,fCe=Ct,hCe=dCe,Yp=Array.prototype,vCe=function(t){var r=t.every;return t===Yp||fCe(Yp,t)&&r===Yp.every?hCe:r},pCe=vCe,gCe=pCe,yCe=gCe,xR=ye(yCe);function mCe(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=bCe(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function bCe(t,r){var e;if(t){if(typeof t=="string")return Ek(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ek(t,r)}}function Ek(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function $Ce(t,r){var e=new da;return ot(t).call(t,function(n){var i;ot(i=n.edges).call(i,function(a){a.connected&&e.add(a)})}),ot(e).call(e,function(n){var i=n.from.id,a=n.to.id;r[i]==null&&(r[i]=0),(r[a]==null||r[i]>=r[a])&&(r[a]=r[i]+1)}),r}function ACe(t){return RR(function(r){var e,n;return xR(e=Er(n=r.edges).call(n,function(i){return t.has(i.toId)})).call(e,function(i){return i.to===r})},function(r,e){return e>r},"from",t)}function wCe(t){return RR(function(r){var e,n;return xR(e=Er(n=r.edges).call(n,function(i){return t.has(i.toId)})).call(e,function(i){return i.from===r})},function(r,e){return e<r},"to",t)}function RR(t,r,e,n){var i,a=Oa(null),s=CR(i=In(lR(n).call(n))).call(i,function(h,v){return h+1+v.edges.length},0),o=e+"Id",l=e==="to"?1:-1,u=mCe(n),c;try{var d=function(){var v=$t(c.value,2),p=v[0],m=v[1];if(!n.has(p)||!t(m))return 0;a[p]=0;for(var y=[m],b=0,A,$=function(){var T,E;if(!n.has(p))return 0;var S=a[A.id]+l;if(ot(T=Er(E=A.edges).call(E,function(O){return O.connected&&O.to!==O.from&&O[e]!==A&&n.has(O.toId)&&n.has(O.fromId)})).call(T,function(O){var P=O[o],j=a[P];(j==null||r(S,j))&&(a[P]=S,y.push(O[e]))}),b>s)return{v:{v:$Ce(n,a)}};++b},k;A=y.pop();)if(k=$(),k!==0&&k)return k.v},f;for(u.s();!(c=u.n()).done;)if(f=d(),f!==0&&f)return f.v}catch(h){u.e(h)}finally{u.f()}return a}var _Ce=function(){function t(){re(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return ne(t,[{key:"addRelation",value:function(e,n){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(n),this.parentReference[n]===void 0&&(this.parentReference[n]=[]),this.parentReference[n].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,n){n!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=n,this.treeIndex=Math.max(n,this.treeIndex))}},{key:"ensureLevel",value:function(e){this.levels[e]===void 0&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var n=this,i={},a=function s(o){if(i[o]!==void 0)return i[o];var l=n.levels[o];if(n.childrenReference[o]){var u=n.childrenReference[o];if(u.length>0)for(var c=0;c<u.length;c++)l=Math.max(l,s(u[c]))}return i[o]=l,l};return a(e)}},{key:"levelDownstream",value:function(e,n){this.levels[n.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[n.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var n=1e9;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&this.levels[i]!==void 0&&(n=Math.min(this.levels[i],n));for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&this.levels[a]!==void 0&&(this.levels[a]-=n)}},{key:"getTreeSize",value:function(e,n){var i=1e9,a=-1e9,s=1e9,o=-1e9;for(var l in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,l)&&this.trees[l]===n){var u=e[l];i=Math.min(u.x,i),a=Math.max(u.x,a),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:i,max_x:a,min_y:s,max_y:o}}},{key:"hasSameParent",value:function(e,n){var i=this.parentReference[e.id],a=this.parentReference[n.id];if(i===void 0||a===void 0)return!1;for(var s=0;s<i.length;s++)for(var o=0;o<a.length;o++)if(i[s]==a[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,n){return this.trees[e.id]===this.trees[n.id]}},{key:"getLevels",value:function(){return bt(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,n){this.distributionOrdering[n]===void 0&&(this.distributionOrdering[n]=[]);var i=!1,a=this.distributionOrdering[n];for(var s in a)if(a[s]===e){i=!0;break}i||(this.distributionOrdering[n].push(e),this.distributionIndex[e.id]=this.distributionOrdering[n].length-1)}}]),t}(),SCe=function(){function t(r){re(this,t),this.body=r,this._resetRNG(Math.random()+":"+Ud()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},xt(this.options,this.defaultOptions),this.bindEventListeners()}return ne(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(e.options.hierarchical.enabled===!0){var n=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",n,!1)}})}},{key:"setOptions",value:function(e,n){if(e!==void 0){var i=this.options.hierarchical,a=i.enabled;if(No(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),qr(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),i.enabled===!0)return a===!0&&this.body.emitter.emit("refresh",!0),i.direction==="RL"||i.direction==="DU"?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(n);if(a===!0)return this.body.emitter.emit("refresh"),ft(n,this.optionsBackup)}return n}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=yh(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(this.options.hierarchical.enabled===!0){var n=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:n.enabled===void 0?!0:n.enabled,solver:"hierarchicalRepulsion"},n.enabled=n.enabled===void 0?!0:n.enabled,n.solver=n.solver||"barnesHut"):rt(e.physics)==="object"?(n.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,n.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(n.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:i};else{var a=e.edges.smooth;a.type!==void 0&&a.type!=="dynamic"&&(i=a.type),this.optionsBackup.edges={smooth:{enabled:a.enabled===void 0?!0:a.enabled,type:a.type===void 0?"dynamic":a.type,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}},e.edges.smooth={enabled:a.enabled===void 0?!0:a.enabled,type:i,roundness:a.roundness===void 0?.5:a.roundness,forceDirection:a.forceDirection===void 0?!1:a.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return e}},{key:"positionInitially",value:function(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);for(var n=e.length+50,i=0;i<e.length;i++){var a=e[i],s=2*Math.PI*this._rng();a.x===void 0&&(a.x=n*Math.cos(s)),a.y===void 0&&(a.y=n*Math.sin(s))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var e=this.body.nodeIndices,n=0,i=0;i<e.length;i++){var a=this.body.nodes[e[i]];a.predefinedPosition===!0&&(n+=1)}if(n<.5*e.length){var s=10,o=0,l=this.options.clusterThreshold,u={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>l){for(var c=e.length;e.length>l&&o<=s;){o+=1;var d=e.length;o%3===0?this.body.modules.clustering.clusterBridges(u):this.body.modules.clustering.clusterOutliers(u);var f=e.length;if(d==f&&o%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*c)})}o>s&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var h=70,v=0;v<e.length;v++){var p=this.body.nodes[e[v]];p.predefinedPosition===!1&&(p.x+=(.5-this._rng())*h,p.y+=(.5-this._rng())*h)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=fr.getRangeCore(this.body.nodes,this.body.nodeIndices),n=fr.findCenter(e),i=0;i<this.body.nodeIndices.length;i++){var a=this.body.nodes[this.body.nodeIndices[i]];a.x-=n.x,a.y-=n.y}}},{key:"_declusterAll",value:function(){for(var e=!0;e===!0;){e=!1;for(var n=0;n<this.body.nodeIndices.length;n++)this.body.nodes[this.body.nodeIndices[n]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[n],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var e,n,i=!1,a=!1;this.lastNodeOnLevel={},this.hierarchical=new _Ce;for(n in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,n)&&(e=this.body.nodes[n],e.options.level!==void 0?(i=!0,this.hierarchical.levels[n]=e.options.level):a=!0);if(a===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(a===!0){var s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var l=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(l),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,n=!1,i={},a=function(){for(var A=o(),$=0,k=0;k<A.length-1;k++){var C=A[k].max-A[k+1].min;$+=C+e.options.hierarchical.treeSpacing,s(k+1,$)}},s=function(A,$){var k=e.hierarchical.trees;for(var C in k)Object.prototype.hasOwnProperty.call(k,C)&&k[C]===A&&e.direction.shift(C,$)},o=function(){for(var A=[],$=0;$<e.hierarchical.numTrees();$++)A.push(e.direction.getTreeSize($));return A},l=function b(A,$){if(!$[A.id]&&($[A.id]=!0,e.hierarchical.childrenReference[A.id])){var k=e.hierarchical.childrenReference[A.id];if(k.length>0)for(var C=0;C<k.length;C++)b(e.body.nodes[k[C]],$)}},u=function(A){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,k=1e9,C=1e9,T=1e9,E=-1e9;for(var S in A)if(Object.prototype.hasOwnProperty.call(A,S)){var O=e.body.nodes[S],P=e.hierarchical.levels[O.id],j=e.direction.getPosition(O),K=e._getSpaceAroundNode(O,A),me=$t(K,2),Ee=me[0],z=me[1];k=Math.min(Ee,k),C=Math.min(z,C),P<=$&&(T=Math.min(j,T),E=Math.max(j,E))}return[T,E,k,C]},c=function(A,$){var k=e.hierarchical.getMaxLevel(A.id),C=e.hierarchical.getMaxLevel($.id);return Math.min(k,C)},d=function(A,$,k){for(var C=e.hierarchical,T=0;T<$.length;T++){var E=$[T],S=C.distributionOrdering[E];if(S.length>1)for(var O=0;O<S.length-1;O++){var P=S[O],j=S[O+1];C.hasSameParent(P,j)&&C.inSameSubNetwork(P,j)&&A(P,j,k)}}},f=function(A,$){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,C=e.direction.getPosition(A),T=e.direction.getPosition($),E=Math.abs(T-C),S=e.options.hierarchical.nodeSpacing;if(E>S){var O={},P={};l(A,O),l($,P);var j=c(A,$),K=u(O,j),me=u(P,j),Ee=K[1],z=me[0],B=me[2],oe=Math.abs(Ee-z);if(oe>S){var de=Ee-z+S;de<-B+S&&(de=-B+S),de<0&&(e._shiftBlock($.id,de),n=!0,k===!0&&e._centerParent($))}}},h=function(A,$){for(var k=$.id,C=$.edges,T=e.hierarchical.levels[$.id],E=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,S={},O=[],P=0;P<C.length;P++){var j=C[P];if(j.toId!=j.fromId){var K=j.toId==k?j.from:j.to;S[C[P].id]=K,e.hierarchical.levels[K.id]<T&&O.push(j)}}var me=function(_e,te){for(var Ie=0,Ne=0;Ne<te.length;Ne++)if(S[te[Ne].id]!==void 0){var Ze=e.direction.getPosition(S[te[Ne].id])-_e;Ie+=Ze/Math.sqrt(Ze*Ze+E)}return Ie},Ee=function(_e,te){for(var Ie=0,Ne=0;Ne<te.length;Ne++)if(S[te[Ne].id]!==void 0){var Ze=e.direction.getPosition(S[te[Ne].id])-_e;Ie-=E*Math.pow(Ze*Ze+E,-1.5)}return Ie},z=function(_e,te){for(var Ie=e.direction.getPosition($),Ne={},Ze=0;Ze<_e;Ze++){var it=me(Ie,te),N=Ee(Ie,te),J=40,D=Math.max(-J,Math.min(J,Math.round(it/N)));if(Ie=Ie-D,Ne[Ie]!==void 0)break;Ne[Ie]=Ze}return Ie},B=function(_e){var te=e.direction.getPosition($);if(i[$.id]===void 0){var Ie={};l($,Ie),i[$.id]=Ie}var Ne=u(i[$.id]),Ze=Ne[2],it=Ne[3],N=_e-te,J=0;N>0?J=Math.min(N,it-e.options.hierarchical.nodeSpacing):N<0&&(J=-Math.min(-N,Ze-e.options.hierarchical.nodeSpacing)),J!=0&&(e._shiftBlock($.id,J),n=!0)},oe=function(_e){var te=e.direction.getPosition($),Ie=e._getSpaceAroundNode($),Ne=$t(Ie,2),Ze=Ne[0],it=Ne[1],N=_e-te,J=te;N>0?J=Math.min(te+(it-e.options.hierarchical.nodeSpacing),_e):N<0&&(J=Math.max(te-(Ze-e.options.hierarchical.nodeSpacing),_e)),J!==te&&(e.direction.setPosition($,J),n=!0)},de=z(A,O);B(de),de=z(A,C),oe(de)},v=function(A){var $=e.hierarchical.getLevels();$=Ta($).call($);for(var k=0;k<A;k++){n=!1;for(var C=0;C<$.length;C++)for(var T=$[C],E=e.hierarchical.distributionOrdering[T],S=0;S<E.length;S++)h(1e3,E[S]);if(n!==!0)break}},p=function(A){var $=e.hierarchical.getLevels();$=Ta($).call($);for(var k=0;k<A&&(n=!1,d(f,$,!0),n===!0);k++);},m=function(){for(var A in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,A)&&e._centerParent(e.body.nodes[A])},y=function(){var A=e.hierarchical.getLevels();A=Ta(A).call(A);for(var $=0;$<A.length;$++)for(var k=A[$],C=e.hierarchical.distributionOrdering[k],T=0;T<C.length;T++)e._centerParent(C[T])};this.options.hierarchical.blockShifting===!0&&(p(5),m()),this.options.hierarchical.edgeMinimization===!0&&v(20),this.options.hierarchical.parentCentralization===!0&&y(),a()}},{key:"_getSpaceAroundNode",value:function(e,n){var i=!0;n===void 0&&(i=!1);var a=this.hierarchical.levels[e.id];if(a!==void 0){var s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),l=this.hierarchical.distributionOrdering[a],u=1e9,c=1e9;if(s!==0){var d=l[s-1];if(i===!0&&n[d.id]===void 0||i===!1){var f=this.direction.getPosition(d);u=o-f}}if(s!=l.length-1){var h=l[s+1];if(i===!0&&n[h.id]===void 0||i===!1){var v=this.direction.getPosition(h);c=Math.min(c,v-o)}}return[u,c]}else return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var n=this.hierarchical.parentReference[e.id],i=0;i<n.length;i++){var a=n[i],s=this.body.nodes[a],o=this.hierarchical.childrenReference[a];if(o!==void 0){var l=this._getCenterPosition(o),u=this.direction.getPosition(s),c=this._getSpaceAroundNode(s),d=$t(c,2),f=d[0],h=d[1],v=u-l;(v<0&&Math.abs(v)<h-this.options.hierarchical.nodeSpacing||v>0&&Math.abs(v)<f-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,l)}}}},{key:"_placeNodesByHierarchy",value:function(e){this.positionedNodes={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i,a=bt(e[n]);a=this._indexArrayToNodes(a),El(i=this.direction).call(i,a);for(var s=0,o=0;o<a.length;o++){var l=a[o];if(this.positionedNodes[l.id]===void 0){var u=this.options.hierarchical.nodeSpacing,c=u*s;s>0&&(c=this.direction.getPosition(a[o-1])+u),this.direction.setPosition(l,c,n),this._validatePositionAndContinue(l,n,c),s++}}}}},{key:"_placeBranchNodes",value:function(e,n){var i,a=this.hierarchical.childrenReference[e];if(a!==void 0){for(var s=[],o=0;o<a.length;o++)s.push(this.body.nodes[a[o]]);El(i=this.direction).call(i,s);for(var l=0;l<s.length;l++){var u=s[l],c=this.hierarchical.levels[u.id];if(c>n&&this.positionedNodes[u.id]===void 0){var d=this.options.hierarchical.nodeSpacing,f=void 0;l===0?f=this.direction.getPosition(this.body.nodes[e]):f=this.direction.getPosition(s[l-1])+d,this.direction.setPosition(u,f,c),this._validatePositionAndContinue(u,c,f)}else return}var h=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],h,n)}}},{key:"_validatePositionAndContinue",value:function(e,n,i){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[n]!==void 0){var a=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[n]]);if(i-a<this.options.hierarchical.nodeSpacing){var s=a+this.options.hierarchical.nodeSpacing-i,o=this._findCommonParent(this.lastNodeOnLevel[n],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[n]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,n)}}},{key:"_indexArrayToNodes",value:function(e){for(var n=[],i=0;i<e.length;i++)n.push(this.body.nodes[e[i]]);return n}},{key:"_getDistribution",value:function(){var e={},n,i;for(n in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,n)){i=this.body.nodes[n];var a=this.hierarchical.levels[n]===void 0?0:this.hierarchical.levels[n];this.direction.fix(i,a),e[a]===void 0&&(e[a]={}),e[a][n]=i}return e}},{key:"_getActiveEdges",value:function(e){var n=this,i=[];return Be(e.edges,function(a){var s;He(s=n.body.edgeIndices).call(s,a.id)!==-1&&i.push(a)}),i}},{key:"_getHubSizes",value:function(){var e=this,n={},i=this.body.nodeIndices;Be(i,function(s){var o=e.body.nodes[s],l=e._getActiveEdges(o).length;n[l]=!0});var a=[];return Be(n,function(s){a.push(Number(s))}),El(a).call(a,function(s,o){return o-s}),a}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,n=function(l,u){e.hierarchical.levelDownstream(l,u)},i=this._getHubSizes(),a=function(){var l=i[s];if(l===0)return 1;Be(e.body.nodeIndices,function(u){var c=e.body.nodes[u];l===e._getActiveEdges(c).length&&e._crawlNetwork(n,u)})},s=0;s<i.length&&!a();++s);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this,n=1e5,i=function(o,l,u){},a=function(o,l,u){var c=e.hierarchical.levels[o.id];c===void 0&&(c=e.hierarchical.levels[o.id]=n);var d=i(fr.cloneOptions(o,"node"),fr.cloneOptions(l,"node"),fr.cloneOptions(u,"edge"));e.hierarchical.levels[l.id]=c+d};this._crawlNetwork(a),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,n=this,i=CR(e=this.body.nodeIndices).call(e,function(a,s){return a.set(s,n.body.nodes[s]),a},new Zx);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=wCe(i):this.hierarchical.levels=ACe(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this,n=function(a,s){e.hierarchical.levels[s.id]>e.hierarchical.levels[a.id]&&e.hierarchical.addRelation(a.id,s.id)};this._crawlNetwork(n),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,a={},s=function f(h,v){if(a[h.id]===void 0){e.hierarchical.setTreeIndex(h,v),a[h.id]=!0;for(var p,m=e._getActiveEdges(h),y=0;y<m.length;y++){var b=m[y];b.connected===!0&&(b.toId==h.id?p=b.from:p=b.to,h.id!=p.id&&(n(h,p,b),f(p,v)))}}};if(i===void 0)for(var o=0,l=0;l<this.body.nodeIndices.length;l++){var u=this.body.nodeIndices[l];if(a[u]===void 0){var c=this.body.nodes[u];s(c,o),o+=1}}else{var d=this.body.nodes[i];if(d===void 0){console.error("Node not found:",i);return}s(d)}}},{key:"_shiftBlock",value:function(e,n){var i=this,a={},s=function o(l){if(!a[l]){a[l]=!0,i.direction.shift(l,n);var u=i.hierarchical.childrenReference[l];if(u!==void 0)for(var c=0;c<u.length;c++)o(u[c])}};s(e)}},{key:"_findCommonParent",value:function(e,n){var i=this,a={},s=function l(u,c){var d=i.hierarchical.parentReference[c];if(d!==void 0)for(var f=0;f<d.length;f++){var h=d[f];u[h]=!0,l(u,h)}},o=function l(u,c){var d=i.hierarchical.parentReference[c];if(d!==void 0)for(var f=0;f<d.length;f++){var h=d[f];if(u[h]!==void 0)return{foundParent:h,withChild:c};var v=l(u,h);if(v.foundParent!==null)return v}return{foundParent:null,withChild:c}};return s(a,e),o(a,n)}},{key:"setDirectionStrategy",value:function(){var e=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";e?this.direction=new iCe(this):this.direction=new aCe(this)}},{key:"_getCenterPosition",value:function(e){for(var n=1e9,i=-1e9,a=0;a<e.length;a++){var s=void 0;if(e[a].id!==void 0)s=e[a];else{var o=e[a];s=this.body.nodes[o]}var l=this.direction.getPosition(s);n=Math.min(n,l),i=Math.max(i,l)}return .5*(n+i)}}]),t}();function kCe(t,r){var e=typeof Ji<"u"&&ts(t)||t["@@iterator"];if(!e){if(et(t)||(e=ECe(t))||r){e&&(t=e);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,o;return{s:function(){e=e.call(t)},n:function(){var u=e.next();return a=u.done,u},e:function(u){s=!0,o=u},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw o}}}}function ECe(t,r){var e;if(t){if(typeof t=="string")return Tk(t,r);var n=Jt(e=Object.prototype.toString.call(t)).call(e,8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return es(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(t,r)}}function Tk(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var TCe=function(){function t(r,e,n,i){var a=this,s,o;re(this,t),this.body=r,this.canvas=e,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},xt(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){a._clean()}),this.body.emitter.on("_dataChanged",X(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",X(o=this._restore).call(o,this))}return ne(t,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,n,i){n!==void 0&&(n.locale!==void 0?this.options.locale=n.locale:this.options.locale=i.locale,n.locales!==void 0?this.options.locales=n.locales:this.options.locales=i.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,ft(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,n;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),a=this.selectionHandler.getSelectedEdgeCount(),s=i+a,o=this.options.locales[this.options.locale],l=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),l=!0),this.options.addEdge!==!1&&(l===!0?this._createSeperator(1):l=!0,this._createAddEdgeButton(o)),i===1&&typeof this.options.editNode=="function"?(l===!0?this._createSeperator(2):l=!0,this._createEditNodeButton(o)):a===1&&i===0&&this.options.editEdge!==!1&&(l===!0?this._createSeperator(3):l=!0,this._createEditEdgeButton(o)),s!==0&&(i>0&&this.options.deleteNode!==!1?(l===!0&&this._createSeperator(4),this._createDeleteButton(o)):i===0&&this.options.deleteEdge!==!1&&(l===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,X(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",X(n=this.showManipulatorToolbar).call(n,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var n,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,X(n=this.toggleEditMode).call(n,this))}this._temporaryBindEvent("click",X(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var n=this.selectionHandler.getSelectedNodes()[0];if(n!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(n.isCluster!==!0){var i=ft({},n.options,!1);if(i.x=n.x,i.y=n.y,this.options.editNode.length===2)this.options.editNode(i,function(a){a!=null&&e.inMode==="editNode"&&e.body.data.nodes.getDataSet().update(a),e.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,n,i,a,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o,l=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(l),this._createSeperator(),this._createDescription(l.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,X(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",X(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",X(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDrag",X(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",X(a=this._finishConnect).call(a,this)),this._temporaryBindUI("onDragStart",X(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",rt(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from.id,e.to.id);return}if(this.guiEnabled===!0){var n,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,X(n=this.toggleEditMode).call(n,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var a,s,o,l,u=this.body.edges[this.edgeBeingEditedId],c=this._getNewTargetNode(u.from.x,u.from.y),d=this._getNewTargetNode(u.to.x,u.to.y);this.temporaryIds.nodes.push(c.id),this.temporaryIds.nodes.push(d.id),this.body.nodes[c.id]=c,this.body.nodeIndices.push(c.id),this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id),this._temporaryBindUI("onTouch",X(a=this._controlNodeTouch).call(a,this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",X(s=this._controlNodeDragStart).call(s,this)),this._temporaryBindUI("onDrag",X(o=this._controlNodeDrag).call(o,this)),this._temporaryBindUI("onDragEnd",X(l=this._controlNodeDragEnd).call(l,this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(f){var h=u.edgeType.findBorderPositions(f);c.selected===!1&&(c.x=h.from.x,c.y=h.from.y),d.selected===!1&&(d.x=h.to.x,d.y=h.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var e=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var n=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),a=void 0;if(n.length>0){for(var s=0;s<n.length;s++)if(this.body.nodes[n[s]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(a=this.options.deleteNode)}else i.length>0&&typeof this.options.deleteEdge=="function"&&(a=this.options.deleteEdge);if(typeof a=="function"){var o={nodes:n,edges:i};if(a.length===2)a(o,function(l){l!=null&&e.inMode==="delete"?(e.body.data.edges.getDataSet().remove(l.edges),e.body.data.nodes.getDataSet().remove(l.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(n),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,n;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(n=this.options.locales[this.options.locale])===null||n===void 0?void 0:n.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function(e,n){var i=ft({},this.options.controlNodeStyle);i.id="targetNode"+Sl(),i.hidden=!1,i.physics=!1,i.x=e,i.y=n;var a=this.body.functions.createNode(i);return a.shape.boundingBox={left:e,right:e,top:n,bottom:n},a}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},Ti(this.editModeDiv);var n=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",n.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,X(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(Ti(this.editModeDiv),Ti(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,n=kCe(ni(e=this._domEventListenerCleanupQueue).call(e,0)),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;a()}}catch(s){n.e(s)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Ti(this.manipulationDiv),Ti(this.editModeDiv),Ti(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var n,i=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(n=this.addNodeMode).call(n,this))}},{key:"_createAddEdgeButton",value:function(e){var n,i=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(n=this.addEdgeMode).call(n,this))}},{key:"_createEditNodeButton",value:function(e){var n,i=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(n=this.editNode).call(n,this))}},{key:"_createEditEdgeButton",value:function(e){var n,i=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(n=this.editEdgeMode).call(n,this))}},{key:"_createDeleteButton",value:function(e){var n,i;this.options.rtl?i="vis-delete-rtl":i="vis-delete";var a=this._createButton("delete",i,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(a),this._bindElementEvents(a,X(n=this.deleteSelected).call(n,this))}},{key:"_createBackButton",value:function(e){var n,i=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(n=this.showManipulatorToolbar).call(n,this))}},{key:"_createButton",value:function(e,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+n,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=a,this.manipulationDOM[e+"Label"].innerText=i,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,n){this.temporaryEventFunctions.push({event:e,boundFunction:n}),this.body.emitter.on(e,n)}},{key:"_temporaryBindUI",value:function(e,n){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=n;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Gu(bt(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var n=this.temporaryEventFunctions[e].event,i=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(n,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,n){var i=new Gs(e,{});Jd(i,n),this._domEventListenerCleanupQueue.push(function(){i.destroy()});var a=function(o){var l=o.keyCode,u=o.key;(u==="Enter"||u===" "||l===13||l===32)&&n()};e.addEventListener("keyup",a,!1),this._domEventListenerCleanupQueue.push(function(){e.removeEventListener("keyup",a,!1)})}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var n;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var i=He(n=this.body.edgeIndices).call(n,this.temporaryIds.edges[e]);if(i!==-1){var a;ni(a=this.body.edgeIndices).call(a,i,1)}}for(var s=0;s<this.temporaryIds.nodes.length;s++){var o;delete this.body.nodes[this.temporaryIds.nodes[s]];var l=He(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[s]);if(l!==-1){var u;ni(u=this.body.nodeIndices).call(u,l,1)}}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=xt({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,n=this.selectionHandler._pointerToPositionObject(e),i=this.body.nodes[this.temporaryIds.nodes[0]],a=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=i.isOverlappingWith(n),l=a.isOverlappingWith(n);o===!0?(this.selectedControlNode=i,s.edgeType.from=i):l===!0&&(this.selectedControlNode=a,s.edgeType.to=a),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var n=this.body.functions.getPointer(e.center),i=this.canvas.DOMtoCanvas(n);this.selectedControlNode!==void 0?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var n=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(n),a=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var s=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,l=s.length-1;l>=0;l--)if(s[l]!==this.selectedControlNode.id){o=this.body.nodes[s[l]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var u=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===u.id?this._performEditEdge(o.id,a.to.id):this._performEditEdge(a.from.id,o.id)}else a.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=xt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var n=this.lastTouch,i=this.selectionHandler.getNodeAt(n);if(i!==void 0)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this._getNewTargetNode(i.x,i.y);this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id);var s=this.body.functions.createEdge({id:"connectionEdge"+Sl(),from:i.id,to:a.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(a.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(e){var n=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(n),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,l=s.length-1;l>=0;l--){var u;if(He(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,n),this.temporaryIds.nodes[0]!==void 0){var c=this.body.nodes[this.temporaryIds.nodes[0]];c.x=this.canvas._XconvertDOMtoCanvas(n.x),c.y=this.canvas._YconvertDOMtoCanvas(n.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var n=this.body.functions.getPointer(e.center),i=this.selectionHandler._pointerToPositionObject(n),a=void 0;this.temporaryIds.edges[0]!==void 0&&(a=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var s=this.selectionHandler._getAllNodesOverlappingWith(i),o=void 0,l=s.length-1;l>=0;l--){var u;if(He(u=this.temporaryIds.nodes).call(u,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[a]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(a,o.id)),e.controlEdge={from:a,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,n),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var n=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,n,void 0,!0)}},{key:"_performAddNode",value:function(e){var n=this,i={id:Sl(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(i,function(a){a!=null&&n.inMode==="addNode"&&n.body.data.nodes.getDataSet().add(a),n.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,n){var i=this,a={from:e,to:n};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(a,function(s){s!=null&&i.inMode==="addEdge"&&(i.body.data.edges.getDataSet().add(s),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,n){var i=this,a={id:this.edgeBeingEditedId,from:e,to:n,label:this.body.data.edges.get(this.edgeBeingEditedId).label},s=this.options.editEdge;if(rt(s)==="object"&&(s=s.editWithoutDrag),typeof s=="function")if(s.length===2)s(a,function(o){o==null||i.inMode!=="editEdge"?(i.body.edges[a.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(o),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(a),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),ee="string",Y="boolean",F="number",nl="array",ge="object",MR="dom",OCe="any",Xp=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Zp={borderWidth:{number:F},borderWidthSelected:{number:F,undefined:"undefined"},brokenImage:{string:ee,undefined:"undefined"},chosen:{label:{boolean:Y,function:"function"},node:{boolean:Y,function:"function"},__type__:{object:ge,boolean:Y}},color:{border:{string:ee},background:{string:ee},highlight:{border:{string:ee},background:{string:ee},__type__:{object:ge,string:ee}},hover:{border:{string:ee},background:{string:ee},__type__:{object:ge,string:ee}},__type__:{object:ge,string:ee}},opacity:{number:F,undefined:"undefined"},fixed:{x:{boolean:Y},y:{boolean:Y},__type__:{object:ge,boolean:Y}},font:{align:{string:ee},color:{string:ee},size:{number:F},face:{string:ee},background:{string:ee},strokeWidth:{number:F},strokeColor:{string:ee},vadjust:{number:F},multi:{boolean:Y,string:ee},bold:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},boldital:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},ital:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},mono:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},__type__:{object:ge,string:ee}},group:{string:ee,number:F,undefined:"undefined"},heightConstraint:{minimum:{number:F},valign:{string:ee},__type__:{object:ge,boolean:Y,number:F}},hidden:{boolean:Y},icon:{face:{string:ee},code:{string:ee},size:{number:F},color:{string:ee},weight:{string:ee,number:F},__type__:{object:ge}},id:{string:ee,number:F},image:{selected:{string:ee,undefined:"undefined"},unselected:{string:ee,undefined:"undefined"},__type__:{object:ge,string:ee}},imagePadding:{top:{number:F},right:{number:F},bottom:{number:F},left:{number:F},__type__:{object:ge,number:F}},label:{string:ee,undefined:"undefined"},labelHighlightBold:{boolean:Y},level:{number:F,undefined:"undefined"},margin:{top:{number:F},right:{number:F},bottom:{number:F},left:{number:F},__type__:{object:ge,number:F}},mass:{number:F},physics:{boolean:Y},scaling:{min:{number:F},max:{number:F},label:{enabled:{boolean:Y},min:{number:F},max:{number:F},maxVisible:{number:F},drawThreshold:{number:F},__type__:{object:ge,boolean:Y}},customScalingFunction:{function:"function"},__type__:{object:ge}},shadow:{enabled:{boolean:Y},color:{string:ee},size:{number:F},x:{number:F},y:{number:F},__type__:{object:ge,boolean:Y}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Y,array:nl},borderRadius:{number:F},interpolation:{boolean:Y},useImageSize:{boolean:Y},useBorderWithImage:{boolean:Y},coordinateOrigin:{string:["center","top-left"]},__type__:{object:ge}},size:{number:F},title:{string:ee,dom:MR,undefined:"undefined"},value:{number:F,undefined:"undefined"},widthConstraint:{minimum:{number:F},maximum:{number:F},__type__:{object:ge,boolean:Y,number:F}},x:{number:F},y:{number:F},__type__:{object:ge}},CCe={configure:{enabled:{boolean:Y},filter:{boolean:Y,string:ee,array:nl,function:"function"},container:{dom:MR},showButton:{boolean:Y},__type__:{object:ge,boolean:Y,string:ee,array:nl,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Y},scaleFactor:{number:F},type:{string:Xp},imageHeight:{number:F},imageWidth:{number:F},src:{string:ee},__type__:{object:ge,boolean:Y}},middle:{enabled:{boolean:Y},scaleFactor:{number:F},type:{string:Xp},imageWidth:{number:F},imageHeight:{number:F},src:{string:ee},__type__:{object:ge,boolean:Y}},from:{enabled:{boolean:Y},scaleFactor:{number:F},type:{string:Xp},imageWidth:{number:F},imageHeight:{number:F},src:{string:ee},__type__:{object:ge,boolean:Y}},__type__:{string:["from","to","middle"],object:ge}},endPointOffset:{from:{number:F},to:{number:F},__type__:{object:ge,number:F}},arrowStrikethrough:{boolean:Y},background:{enabled:{boolean:Y},color:{string:ee},size:{number:F},dashes:{boolean:Y,array:nl},__type__:{object:ge,boolean:Y}},chosen:{label:{boolean:Y,function:"function"},edge:{boolean:Y,function:"function"},__type__:{object:ge,boolean:Y}},color:{color:{string:ee},highlight:{string:ee},hover:{string:ee},inherit:{string:["from","to","both"],boolean:Y},opacity:{number:F},__type__:{object:ge,string:ee}},dashes:{boolean:Y,array:nl},font:{color:{string:ee},size:{number:F},face:{string:ee},background:{string:ee},strokeWidth:{number:F},strokeColor:{string:ee},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:F},multi:{boolean:Y,string:ee},bold:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},boldital:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},ital:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},mono:{color:{string:ee},size:{number:F},face:{string:ee},mod:{string:ee},vadjust:{number:F},__type__:{object:ge,string:ee}},__type__:{object:ge,string:ee}},hidden:{boolean:Y},hoverWidth:{function:"function",number:F},label:{string:ee,undefined:"undefined"},labelHighlightBold:{boolean:Y},length:{number:F,undefined:"undefined"},physics:{boolean:Y},scaling:{min:{number:F},max:{number:F},label:{enabled:{boolean:Y},min:{number:F},max:{number:F},maxVisible:{number:F},drawThreshold:{number:F},__type__:{object:ge,boolean:Y}},customScalingFunction:{function:"function"},__type__:{object:ge}},selectionWidth:{function:"function",number:F},selfReferenceSize:{number:F},selfReference:{size:{number:F},angle:{number:F},renderBehindTheNode:{boolean:Y},__type__:{object:ge}},shadow:{enabled:{boolean:Y},color:{string:ee},size:{number:F},x:{number:F},y:{number:F},__type__:{object:ge,boolean:Y}},smooth:{enabled:{boolean:Y},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:F},forceDirection:{string:["horizontal","vertical","none"],boolean:Y},__type__:{object:ge,boolean:Y}},title:{string:ee,undefined:"undefined"},width:{number:F},widthConstraint:{maximum:{number:F},__type__:{object:ge,boolean:Y,number:F}},value:{number:F,undefined:"undefined"},__type__:{object:ge}},groups:{useDefaultGroups:{boolean:Y},__any__:Zp,__type__:{object:ge}},interaction:{dragNodes:{boolean:Y},dragView:{boolean:Y},hideEdgesOnDrag:{boolean:Y},hideEdgesOnZoom:{boolean:Y},hideNodesOnDrag:{boolean:Y},hover:{boolean:Y},keyboard:{enabled:{boolean:Y},speed:{x:{number:F},y:{number:F},zoom:{number:F},__type__:{object:ge}},bindToWindow:{boolean:Y},autoFocus:{boolean:Y},__type__:{object:ge,boolean:Y}},multiselect:{boolean:Y},navigationButtons:{boolean:Y},selectable:{boolean:Y},selectConnectedEdges:{boolean:Y},hoverConnectedEdges:{boolean:Y},tooltipDelay:{number:F},zoomView:{boolean:Y},zoomSpeed:{number:F},__type__:{object:ge}},layout:{randomSeed:{undefined:"undefined",number:F,string:ee},improvedLayout:{boolean:Y},clusterThreshold:{number:F},hierarchical:{enabled:{boolean:Y},levelSeparation:{number:F},nodeSpacing:{number:F},treeSpacing:{number:F},blockShifting:{boolean:Y},edgeMinimization:{boolean:Y},parentCentralization:{boolean:Y},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:ge,boolean:Y}},__type__:{object:ge}},manipulation:{enabled:{boolean:Y},initiallyActive:{boolean:Y},addNode:{boolean:Y,function:"function"},addEdge:{boolean:Y,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:ge,boolean:Y,function:"function"}},deleteNode:{boolean:Y,function:"function"},deleteEdge:{boolean:Y,function:"function"},controlNodeStyle:Zp,__type__:{object:ge,boolean:Y}},nodes:Zp,physics:{enabled:{boolean:Y},barnesHut:{theta:{number:F},gravitationalConstant:{number:F},centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},damping:{number:F},avoidOverlap:{number:F},__type__:{object:ge}},forceAtlas2Based:{theta:{number:F},gravitationalConstant:{number:F},centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},damping:{number:F},avoidOverlap:{number:F},__type__:{object:ge}},repulsion:{centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},nodeDistance:{number:F},damping:{number:F},__type__:{object:ge}},hierarchicalRepulsion:{centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},nodeDistance:{number:F},damping:{number:F},avoidOverlap:{number:F},__type__:{object:ge}},maxVelocity:{number:F},minVelocity:{number:F},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Y},iterations:{number:F},updateInterval:{number:F},onlyDynamicEdges:{boolean:Y},fit:{boolean:Y},__type__:{object:ge,boolean:Y}},timestep:{number:F},adaptiveTimestep:{boolean:Y},wind:{x:{number:F},y:{number:F},__type__:{object:ge}},__type__:{object:ge,boolean:Y}},autoResize:{boolean:Y},clickToUse:{boolean:Y},locale:{string:ee},locales:{__any__:{any:OCe},__type__:{object:ge}},height:{string:ee},width:{string:ee},__type__:{object:ge}},DR={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},ICe=function(r,e,n){var i;return!!(Bi(r).call(r,"physics")&&Bi(i=DR.physics.solver).call(i,e)&&n.physics.solver!==e&&e!=="wind")},PCe=function(){function t(){re(this,t)}return ne(t,[{key:"getDistances",value:function(e,n,i){for(var a={},s=e.edges,o=0;o<n.length;o++){var l=n[o],u={};a[l]=u;for(var c=0;c<n.length;c++)u[n[c]]=o==c?0:1e9}for(var d=0;d<i.length;d++){var f=s[i[d]];f.connected===!0&&a[f.fromId]!==void 0&&a[f.toId]!==void 0&&(a[f.fromId][f.toId]=1,a[f.toId][f.fromId]=1)}for(var h=n.length,v=0;v<h;v++)for(var p=n[v],m=a[p],y=0;y<h-1;y++)for(var b=n[y],A=a[b],$=y+1;$<h;$++){var k=n[$],C=a[k],T=Math.min(A[k],A[p]+m[k]);A[k]=T,C[b]=T}return a}}]),t}(),xCe=function(){function t(r,e,n){re(this,t),this.body=r,this.springLength=e,this.springConstant=n,this.distanceSolver=new PCe}return ne(t,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=this.distanceSolver.getDistances(this.body,e,n);this._createL_matrix(a),this._createK_matrix(a),this._createE_matrix();for(var s=.01,o=1,l=0,u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5,d=1e9,f=0,h=0,v=0,p=0,m=0;d>s&&l<u;){l+=1;var y=this._getHighestEnergyNode(i),b=$t(y,4);for(f=b[0],d=b[1],h=b[2],v=b[3],p=d,m=0;p>o&&m<c;){m+=1,this._moveNode(f,h,v);var A=this._getEnergy(f),$=$t(A,3);p=$[0],h=$[1],v=$[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var n=this.body.nodeIndices,i=this.body.nodes,a=0,s=n[0],o=0,l=0,u=0;u<n.length;u++){var c=n[u];if(i[c].predefinedPosition!==!0||i[c].isCluster===!0&&e===!0||i[c].options.fixed.x!==!0||i[c].options.fixed.y!==!0){var d=this._getEnergy(c),f=$t(d,3),h=f[0],v=f[1],p=f[2];a<h&&(a=h,s=c,o=v,l=p)}}return[s,a,o,l]}},{key:"_getEnergy",value:function(e){var n=$t(this.E_sums[e],2),i=n[0],a=n[1],s=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));return[s,i,a]}},{key:"_moveNode",value:function(e,n,i){for(var a=this.body.nodeIndices,s=this.body.nodes,o=0,l=0,u=0,c=s[e].x,d=s[e].y,f=this.K_matrix[e],h=this.L_matrix[e],v=0;v<a.length;v++){var p=a[v];if(p!==e){var m=s[p].x,y=s[p].y,b=f[p],A=h[p],$=1/Math.pow(Math.pow(c-m,2)+Math.pow(d-y,2),1.5);o+=b*(1-A*Math.pow(d-y,2)*$),l+=b*(A*(c-m)*(d-y)*$),u+=b*(1-A*Math.pow(c-m,2)*$)}}var k=o,C=l,T=n,E=u,S=i,O=(T/k+S/C)/(C/k-E/C),P=-(C*O+T)/k;s[e].x+=P,s[e].y+=O,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var n=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var a=0;a<n.length;a++){this.L_matrix[n[a]]={};for(var s=0;s<n.length;s++)this.L_matrix[n[a]][n[s]]=i*e[n[a]][n[s]]}}},{key:"_createK_matrix",value:function(e){var n=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var a=0;a<n.length;a++){this.K_matrix[n[a]]={};for(var s=0;s<n.length;s++)this.K_matrix[n[a]][n[s]]=i*Math.pow(e[n[a]][n[s]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,n=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<e.length;i++)this.E_matrix[e[i]]=[];for(var a=0;a<e.length;a++){for(var s=e[a],o=n[s].x,l=n[s].y,u=0,c=0,d=a;d<e.length;d++){var f=e[d];if(f!==s){var h=n[f].x,v=n[f].y,p=1/Math.sqrt(Math.pow(o-h,2)+Math.pow(l-v,2));this.E_matrix[s][d]=[this.K_matrix[s][f]*(o-h-this.L_matrix[s][f]*(o-h)*p),this.K_matrix[s][f]*(l-v-this.L_matrix[s][f]*(l-v)*p)],this.E_matrix[f][a]=this.E_matrix[s][d],u+=this.E_matrix[s][d][0],c+=this.E_matrix[s][d][1]}}this.E_sums[s]=[u,c]}}},{key:"_updateE_matrix",value:function(e){for(var n=this.body.nodeIndices,i=this.body.nodes,a=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],l=i[e].x,u=i[e].y,c=0,d=0,f=0;f<n.length;f++){var h=n[f];if(h!==e){var v=a[f],p=v[0],m=v[1],y=i[h].x,b=i[h].y,A=1/Math.sqrt(Math.pow(l-y,2)+Math.pow(u-b,2)),$=s[h]*(l-y-o[h]*(l-y)*A),k=s[h]*(u-b-o[h]*(u-b)*A);a[f]=[$,k],c+=$,d+=k;var C=this.E_sums[h];C[0]+=$-p,C[1]+=k-m}}this.E_sums[e]=[c,d]}}]),t}();function pe(t,r,e){var n,i,a,s,o=this;if(!(this instanceof pe))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:C0e,clickToUse:!1},xt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:X(n=this.on).call(n,this),off:X(i=this.off).call(i,this),emit:X(a=this.emit).call(a,this),once:X(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new x0e(function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new YAe,this.canvas=new fTe(this.body),this.selectionHandler=new rOe(this.body,this.canvas),this.interactionHandler=new mTe(this.body,this.canvas,this.selectionHandler),this.view=new vTe(this.body,this.canvas),this.renderer=new oTe(this.body,this.canvas),this.physics=new ZEe(this.body),this.layoutEngine=new SCe(this.body),this.clustering=new aTe(this.body),this.manipulation=new TCe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Mke(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new zEe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new xCe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(r)}MP(pe.prototype);pe.prototype.setOptions=function(t){var r=this;if(t===null&&(t=void 0),t!==void 0){var e=s0e.validate(t,CCe);e===!0&&console.error("%cErrors have been found in the supplied options object.",Bx);var n=["locale","locales","clickToUse"];if(No(n,this.options,t),t.locale!==void 0&&(t.locale=I0e(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new i0e(this,this.body.container,DR,this.canvas.pixelRatio,ICe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ft(i.nodes,this.nodesHandler.options),ft(i.edges,this.edgesHandler.options),ft(i.layout,this.layoutEngine.options),ft(i.interaction,this.selectionHandler.options),ft(i.interaction,this.renderer.options),ft(i.interaction,this.interactionHandler.options),ft(i.manipulation,this.manipulation.options),ft(i.physics,this.physics.options),ft(i.global,this.canvas.options),ft(i.global,this.options),this.configurator.setModuleOptions(i)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new n0e(this.canvas.frame),this.activator.on("change",function(){r.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};pe.prototype._updateVisibleIndices=function(){var t=this.body.nodes,r=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&!this.clustering._isClusteredNode(e)&&t[e].options.hidden===!1&&this.body.nodeIndices.push(t[e].id);for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n],a=t[i.fromId],s=t[i.toId],o=a!==void 0&&s!==void 0,l=!this.clustering._isClusteredEdge(n)&&i.options.hidden===!1&&o&&a.options.hidden===!1&&s.options.hidden===!1;l&&this.body.edgeIndices.push(i.id)}};pe.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})};pe.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var r=g0e(t.dot);this.setData(r);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var e=y0e(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};pe.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&delete this.body.edges[r];Ti(this.body.container)};pe.prototype._updateValueRange=function(t){var r,e=void 0,n=void 0,i=0;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r].getValue();a!==void 0&&(e=e===void 0?a:Math.min(a,e),n=n===void 0?a:Math.max(a,n),i+=a)}if(e!==void 0&&n!==void 0)for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].setValueRange(e,n,i)};pe.prototype.isActive=function(){return!this.activator||this.activator.active};pe.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};pe.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};pe.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};pe.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};pe.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};pe.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};pe.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};pe.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};pe.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};pe.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};pe.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};pe.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};pe.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};pe.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};pe.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};pe.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};pe.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};pe.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};pe.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};pe.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};pe.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};pe.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};pe.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};pe.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};pe.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};pe.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};pe.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};pe.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};pe.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};pe.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};pe.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};pe.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};pe.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};pe.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};pe.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};pe.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};pe.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};pe.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};pe.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};pe.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};pe.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};pe.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};pe.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};pe.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};pe.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};pe.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};pe.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};pe.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};pe.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};pe.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};pe.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};pe.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};const RCe={class:"network-view view-active"},MCe=qe({__name:"NetworkView",setup(t){let r=null;const e={Eyzin:{x:200,y:30},Fjel:{x:200,y:100},Mja:{x:200,y:250},Belladonna:{x:200,y:380},Wiro:{x:270,y:170},Ilse:{x:270,y:250},Lewenhart:{x:370,y:310},Elvis:{x:370,y:250},Syor:{x:370,y:190},"Fel'rekt":{x:370,y:70},Calimar:{x:370,y:130},Mondo:{x:30,y:170},Selakorvo:{x:30,y:250},Karnacio:{x:130,y:100},Lumo:{x:130,y:170},Leslie:{x:130,y:380},Herudis:{x:30,y:100},Mervargr:{x:130,y:320},Rey:{x:270,y:380},Vee:{x:370,y:380},Hyacinth:{x:200,y:450}},n=Ln.map(u=>{var c,d;return{id:u.id,image:Nt(u.path),x:(c=e[u.name])==null?void 0:c.x,y:(d=e[u.name])==null?void 0:d.y,fixed:!0,shape:"circularImage",size:20,imageSize:20,imagePadding:0,color:{border:"#848484",background:"#ffffff",highlight:{border:"#2B7CE9",background:"#ffffff"},hover:{border:"#2B7CE9",background:"#ffffff"}}}}),i=window.$characterRelationships.map(u=>{var c,d,f;return{...u,color:{color:((c=u.color)==null?void 0:c.color)||"#848484",highlight:((d=u.color)==null?void 0:d.color)||"#848484",hover:((f=u.color)==null?void 0:f.color)||"#848484",opacity:.8}}}),a={nodes:{borderWidth:2,borderWidthSelected:3,size:20,shape:"circularImage",brokenImage:void 0,imagePadding:0,chosen:{node:(u,c,d,f)=>{f&&(u.borderWidth=3,u.shadow=!0,u.shadowColor="rgba(0,0,0,0.3)",u.shadowSize=10,u.shadowX=0,u.shadowY=0)},label:(u,c,d,f)=>{f&&(u.color=getComputedStyle(document.documentElement).getPropertyValue("--color-text").trim())}},font:{color:"#343434",size:14,face:"Arial"},shadow:{enabled:!1},shapeProperties:{useBorderWithImage:!0,interpolation:!0},transition:{duration:200,easing:"easeInOutQuad"}},edges:{width:1.5,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:!1,opacity:.8},smooth:{enabled:!0,type:"cubicBezier",roundness:.3},font:{size:9,align:"horizontal",strokeWidth:2,strokeColor:"#ffffff"},chosen:{edge:function(u,c,d,f){f&&(u.width=4,u.opacity=1,u.shadow=!0,u.shadowColor="rgba(0,0,0,0.2)")}},hoverWidth:2,selectionWidth:2,arrows:{to:{enabled:!1,scaleFactor:.3,type:"arrow"},from:{enabled:!1,scaleFactor:.3,type:"arrow"}}},physics:{enabled:!1},layout:{improvedLayout:!0,randomSeed:2},interaction:{hover:!0,hoverConnectedEdges:!0,selectable:!0,selectConnectedEdges:!0,multiselect:!0,keyboard:{enabled:!0,bindToWindow:!1},zoomView:!0},manipulation:{enabled:!1}},s=oi(),o=u=>{s.showCharacter(u)},l=()=>{const u=document.getElementById("network");r=new pe(u,{nodes:n,edges:i},a),r.on("click",c=>{if(c.nodes.length>0){const d=Ln.find(f=>f.id===c.nodes[0]);d&&o(d)}})};return Wt(()=>{l()}),jr(()=>{r&&(r.destroy(),r=null)}),(u,c)=>(I(),R("div",RCe,c[0]||(c[0]=[g("div",{id:"network"},null,-1)])))}}),DCe=Ye(MCe,[["__scopeId","data-v-63189b89"]]),FCe={class:"character-list view-active"},BCe={class:"character-groups"},NCe={class:"race-groups-container"},LCe={class:"race-name"},jCe={class:"group-content"},zCe=["onClick"],HCe={class:"card-image"},WCe=["src","alt"],VCe={class:"card-content"},UCe={class:"card-title"},GCe=qe({__name:"ListView",setup(t){const r=oi(),e=s=>{const o=Ln.filter(u=>u.realm===s),l=[...new Set(o.map(u=>u.race))];return AF.filter(u=>l.includes(u.id))},n=(s,o)=>Ln.filter(l=>l.realm===s&&l.race===o),i=s=>{const u=Math.floor(4.285714285714286);return s.length<=u},a=s=>{r.showCharacter(s)};return(s,o)=>(I(),R("div",FCe,[g("div",BCe,[(I(!0),R(he,null,Ce(ue($F),l=>(I(),R("div",{key:l.id,class:"realm-group"},[g("div",NCe,[(I(!0),R(he,null,Ce(e(l.id),u=>(I(),R("div",{key:`${l.id}-${u.id}`,class:Me(["race-group",{"inline-group":i(n(l.id,u.id))}])},[g("div",LCe,G(u.name),1),g("div",jCe,[(I(!0),R(he,null,Ce(n(l.id,u.id),c=>(I(),R("div",{key:`${l.id}-${u.id}-${c.id}`,class:"character-card",onClick:d=>a(c)},[g("div",HCe,[g("img",{src:ue(Nt)(c.path),alt:c.name},null,8,WCe)]),g("div",VCe,[g("p",UCe,G(c.name),1)])],8,zCe))),128))])],2))),128))])]))),128))])]))}}),KCe=Ye(GCe,[["__scopeId","data-v-613d8f2e"]]),qCe={class:"over-view"},YCe={class:"split-view"},XCe={class:"list-panel"},ZCe={class:"panel-header"},QCe={class:"action-buttons"},JCe={class:"tooltip"},eIe={class:"right-panel"},tIe={class:"upper-container"},rIe={class:"reading-list"},nIe={class:"book-list"},iIe=["onClick"],aIe={class:"book-title"},sIe={class:"lower-container"},oIe=qe({__name:"Overview",setup(t){const r=oi(),e=le(!1),n=()=>{e.value=window.innerWidth<=768};Wt(()=>{n(),window.addEventListener("resize",n)}),jr(()=>{window.removeEventListener("resize",n)});const i=[{id:1,title:"5e chm",url:"https://5echm.kagangtuya.top/"}],a=l=>{l.url?window.open(l.url,"_blank"):l.path&&Ki(l)},s=le(!1),o=le(null);return(l,u)=>(I(),R("div",qCe,[g("div",{class:Me(["view-container",{"detail-open":ue(r).currentChar,"detail-open--mobile":ue(r).currentChar&&e.value}])},[g("div",YCe,[g("div",XCe,[g("div",ZCe,[u[6]||(u[6]=g("div",{class:"nav-buttons"},null,-1)),u[7]||(u[7]=g("div",{class:"title"},"OC Studio",-1)),g("div",QCe,[u[5]||(u[5]=g("button",{class:"nav-button"},[g("i",{class:"fi fi-sr-thumbtack"})],-1)),g("button",{class:"nav-button",onMouseenter:u[0]||(u[0]=c=>s.value=!0),onMouseleave:u[1]||(u[1]=c=>s.value=!1),ref_key:"infoButton",ref:o},[u[4]||(u[4]=g("i",{class:"fi fi-rr-menu-dots"},null,-1)),fa(g("div",JCe,u[3]||(u[3]=[It(" version: 2.1.1 "),g("br",null,null,-1),It(" last-edited: 2024-10-12 ")]),512),[[em,s.value]])],544)])]),Pe(KCe)]),g("div",eIe,[g("div",tIe,[g("div",rIe,[u[9]||(u[9]=g("div",{class:"list-header"},[g("h3",null,"规则书")],-1)),g("div",nIe,[(I(),R(he,null,Ce(i,c=>g("div",{class:"book-item",key:c.id,onClick:d=>a(c)},[g("span",aIe,G(c.title),1),g("button",{class:"more-button",onClick:u[2]||(u[2]=kr(()=>{},["stop"]))},u[8]||(u[8]=[g("i",{class:"fi fi-rs-arrow-up-right-from-square"},null,-1)]))],8,iIe)),64))])])]),u[10]||(u[10]=g("div",{class:"panel-divider"},null,-1)),u[11]||(u[11]=g("div",{class:"panel-toolbar"},[g("button",{class:"adaptive-shadow-button",title:"关系图"},[g("i",{class:"fi fi-ss-chart-network"})])],-1)),g("div",sIe,[Pe(DCe)])])])],2)]))}}),lIe=Ye(oIe,[["__scopeId","data-v-7cd28195"]]),uIe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAOgCAMAAAAajn/oAAAAulBMVEX///8EBAQMDAzQ0NAICAj+/v4eHh4AAAD7+/v39/fy8vL19fXCwsKjo6PNzc1ISEjo6Ojh4eHs7OyQkJCXl5evr68YGBjv7++5ubl/f3/U1NRQUFD5+fne3t7b29tycnJMTEw+Pj45OTlra2tgYGDk5OQpKSmqqqoTExPX19e+vr4sLCydnZ0QEBCMjIxCQkKIiIh7e3uFhYVbW1s0NDR2dnZmZmYkJCTHx8dWVlaCgoK2tranp6cxMTFnC75AAAAKrUlEQVR42u3cZ1MbSxYG4BYKRyCCyTnnaDBgwOH//63t7pGwF7PlrVvF+t7leT7MtGZaI9eo6q3TR4NTAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgD9l+tNY6y+98WxvbKcZrV399hIbXy/H5txs4C+IZ5ODTuy/MmM+n1vI+7nIm61eHAxezpiIOG1Gg4jr33xg9zGiGX3LF94fvDZnIZ/ZHvflAC8CK6XNiOUy6EYcvzZlJ2rVdFdz5u7ilaJpFEEl/7Z+94nb0RuO1p9HL/Viz1cDvDC+ktJFRDenR8mdD6/N+Vzz6DCin+fHKxO+PgdWrrAGv6/pPg1HJ/Gx7B6OfpnTerXWA5gZ5s1mxKvnF+vxo4h2Ln1WXpmw1wRPdvofLvHvgdV+Hi3m7WR8fmXOme8FeDVBmrz5FDGxEAfdMp6Yj/g2PL9ZKrDZHGtTabyTXy/ncxcbdc5Mt72+mRdw22Xeynn0fgTW7H2cLCwsp+OZeMyXndmoB2+ikz/leSW5nLonpX+2lNLZXZ7fbc5MPM9J7duYmc77s+1YHJ8qV2/vxpOuPbxT3VE5E9G6yCFymYdXMZsun/vnpSY6mYvYTWNrKU3FTjk0qCfGxqLs1kr85DB7iJvhe3r5Cs1SMSfdzUoTiuex9VMRtlJH3eb1SWykubHhmW+jOd2HvEo9zh+c0n3+sNZd6rc6afq/qOOA/0uHo75TxNcSL2PlV7qZlDp1wdacuJi8zWlzvpxLra2aFjtxl2udMuyU893Urw2wiM3mLR/jPqX9OrVe9mMJrJ3Smbp+Tpu9OjprXtftqAd/OZozU7OqJmppfR1u53gbz3nW8bXB+zRVu+l1HVYjZ6psZr8uPedVfvk9x8RO9JYOS+qUHvlBiZT18lveXFMpXZTNYBQ04xFz5X0LoyhayqVXk2ljcTW87EOJxXQUT81njP34/bEzamtFTNbt57I5zR9wnHf5HzLwtcH7tD+sV2q91C/ptZxLqq3lHzO+1x/2PtdWUw6O8sTBeinEOs2i8XupnsqCMT3G8LHR6WFtNTe8bC29Tp9HozT6UquphVrnLUWMVoT9mpqpBuDEcOLcaBG6dzHrO4N363IYFF9KntR4OXzRIzqoOXRW8yed1MB6iIPSfaoPXZ2UmilKubRdI220zmsehNguFVm9Yk2x5R8PPjSPm+ZqLm9X6+lh02zQHFucS/UJsVQqs5XRyvHBNwbvWLNwK/vrUeREzJeiZzTjSy14NuO8vLguT3tOlKps0KwluzV4Sr/qQ+QYq3IsfejWdljai/XSxO/UdeJsehoVYaPW+bBy6pYQHD7LsDJ85Kufw3SqlHb5qrdNFn4qPaw04VuDd2nyKIYLsNphOojLdjdNtvLBH42ix2bNGOPDJeR9u9MbH/3KV55OuJpN/cu8bjyP3eEzVk95iTgVneluvux0Srv14auDfNHHiMfaMit/8fN5o/nboPXx+NJerQ324Zkif+rGUkxelf59Gq0SH/KJ1o3vDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgvVu8PnITgL+fsZgZ7mP9+WAc/DIrOnPpays6bbcM+GMixuv+qPvTsclfc61sW2fuF/BHA6vX7H8cWovBy1md3bzprbldwB80vrMQW3nf/6ltdR+/zIrj1O/Nul3AnzR5n6KVV4Pt2sqaXi2LvvNccx2urualYnv1uF+OH8bh+MmHlDbmp8rLrel8pgxWF1P/sYw2VpfdS+CNPbXTdCzmqmqlxFJ7ELd5/bedBq3JlCbic1qMUlctxNzYRE2o2ExpEB/y3OnUNLseI2fVVriVwFvb2ygd9X7aGeQcmssR9L3E0KBTzp3k8ErfSxQdxXZJqqyTj61E6XOVSivyu4/LaF5gAW+uBM147Jd9tPoTuzmpZuOwxk87F1IpTZVxtFIs1fkHZWIurm7K4evhuZQ+LrmVwFurPxHuxsRS6kbcTZVO1Jc4LYvEJpPyajCljVjIhVR9puFDbGyUntfMXX5xvlcCa75stt1K4I1t7pdtP3q3uc5abI4t9dJ6qZrWa2AdRWlu5Vqr12lKsuOpklzxKW9aq6WhdVgu4IkH4K1dNyF1Exe5wjpvjnWucnh9LEvC0mePqZS+lV7VaS2l0t3OZRoeXitrw7nSc9fCAt6+wDo5HobUbOlI7cxv54orTsuvgbmM2jsfjJ/PpDR7Vx/V6sVCXgtu158N01Jn/va0BFauzuZ3j2u2AfzPnK5f9V8cuP0liNaemv19XhPuL5TR09e8fJx0+4C/HYs/4J9i58A9AP4Zbn79u2iAv6Pu4qL/DwsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/hn+BVurYHqJc9NgAAAAAElFTkSuQmCC",cIe="/the-tale-of-Ofoces/assets/202410-gmm58kbk.png",dIe="/the-tale-of-Ofoces/assets/202411-BoIgZs1g.png",fIe="/the-tale-of-Ofoces/assets/202412-DeZRlMUK.png",hIe="/the-tale-of-Ofoces/assets/202413-BUkPco3L.png",vIe="/the-tale-of-Ofoces/assets/202414-u-MmatWC.png",pIe="/the-tale-of-Ofoces/assets/202415-B37fLPXn.png",gIe="/the-tale-of-Ofoces/assets/202416-CjRQfeWj.png",yIe="/the-tale-of-Ofoces/assets/202417-DQ8QF1Vl.png",mIe="/the-tale-of-Ofoces/assets/202418-Ce0F5m8v.png",bIe="/the-tale-of-Ofoces/assets/202419-BT71m9qS.png",$Ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAOgCAMAAAAajn/oAAAAA1BMVEX///+nxBvIAAAETklEQVR42u3BAQ0AAADCoPdPbQ8HFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8G4CnwABPFkWNgAAAABJRU5ErkJggg==",AIe="/the-tale-of-Ofoces/assets/202420-4ytAsjWB.png",wIe="/the-tale-of-Ofoces/assets/202421-oWJTzeoA.png",_Ie="/the-tale-of-Ofoces/assets/202422-Ci1r47rk.png",SIe="/the-tale-of-Ofoces/assets/202423-BpJ2fc2K.png",kIe="/the-tale-of-Ofoces/assets/202424-C94zX752.png",EIe="/the-tale-of-Ofoces/assets/202425-Dc_h996C.png",TIe="/the-tale-of-Ofoces/assets/202426-BPW1HqtU.png",OIe="/the-tale-of-Ofoces/assets/202427-zN3rWeS6.png",CIe="/the-tale-of-Ofoces/assets/202428-BkQeq8VH.png",IIe="/the-tale-of-Ofoces/assets/202429-DTwaKx_X.png",PIe="/the-tale-of-Ofoces/assets/20243-BYfQsRgS.png",xIe="/the-tale-of-Ofoces/assets/202430-KMh8vf2W.png",RIe="/the-tale-of-Ofoces/assets/202431-CeLmZWD6.png",MIe="/the-tale-of-Ofoces/assets/202432-CMXx2FZl.png",DIe="/the-tale-of-Ofoces/assets/202433-JwvNqdfQ.png",FIe="/the-tale-of-Ofoces/assets/202434-BW1uVV3-.png",BIe="/the-tale-of-Ofoces/assets/202435-CpgjvPK7.png",NIe="/the-tale-of-Ofoces/assets/202436-DNmgwNTW.png",LIe="/the-tale-of-Ofoces/assets/202437--P24mDya.png",jIe="/the-tale-of-Ofoces/assets/20244-CYb3nzYk.png",zIe="/the-tale-of-Ofoces/assets/20245-DhLpP70q.png",HIe="/the-tale-of-Ofoces/assets/20246-cY8gj1pL.png",WIe="/the-tale-of-Ofoces/assets/20247-DrA_KEmX.png",VIe="/the-tale-of-Ofoces/assets/20248-ClUC13EW.png",UIe="/the-tale-of-Ofoces/assets/20249-BwmwHB_J.png",GIe={class:"gallery-item-wrapper"},KIe={class:"item-overlay"},qIe={class:"overlay-content"},YIe=300,XIe=qe({__name:"VirtualWaterfall",props:{items:{},columnWidth:{},gap:{},minColumnCount:{}},emits:["select-character","open-file"],setup(t,{emit:r}){const e=t,n=le(),{width:i}=mB(n),a=ce(()=>i.value?Math.max(Math.floor(i.value/(e.columnWidth+e.gap)),e.minColumnCount):e.minColumnCount);ce(()=>Math.ceil(e.items.length/a.value)*(YIe+e.gap));const s=ce(()=>e.items),o=()=>{};Wt(()=>{window.addEventListener("resize",o)}),jr(()=>{window.removeEventListener("resize",o)}),wt(()=>e.items,o,{deep:!0});const l=r,u=d=>{l("select-character",d)},c=d=>{l("open-file",d)};return(d,f)=>(I(),R("div",{ref_key:"container",ref:n,class:"virtual-waterfall",onScroll:o},[g("div",{class:"waterfall-content",style:er({columnCount:a.value,columnGap:`${d.gap}px`})},[(I(!0),R(he,null,Ce(s.value,h=>(I(),R("div",{class:"waterfall-item",key:h.id,style:er({marginBottom:`${d.gap}px`})},[g("div",GIe,[SE(d.$slots,"item",{item:h},void 0),g("div",KIe,[g("div",qIe,[Pe(sm,{"current-tool":"overview","entity-id":h.id,"entity-type":"gallery","filtered-entities":[],onSelectCharacter:u,onOpenFile:c},null,8,["entity-id"])])])])],4))),128))],4)],544))}}),ZIe=Ye(XIe,[["__scopeId","data-v-c52a5bb1"]]),QIe={class:"ebook-container"},JIe={class:"ebook-viewer"},ePe=["src","alt"],tPe=["src","alt"],rPe={class:"ebook-controls"},nPe=["disabled"],iPe=["disabled"],aPe={class:"page-info"},sPe=["disabled"],oPe=["disabled"],lPe=qe({__name:"EbookViewer",props:{images:{}},emits:["select-character","open-file"],setup(t,{emit:r}){const e=t,n=r,i=le(0),a=le(!1),s=ce(()=>e.images.length),o=ce(()=>e.images[i.value]),l=ce(()=>e.images[i.value+1]),u=()=>{i.value<s.value-2&&(a.value=!0,setTimeout(()=>{i.value+=2,a.value=!1},300))},c=()=>{i.value>0&&(a.value=!0,setTimeout(()=>{i.value-=2,a.value=!1},300))},d=()=>{i.value>0&&(a.value=!0,setTimeout(()=>{i.value=0,a.value=!1},300))},f=()=>{const p=s.value-(s.value%2===0?2:1);i.value<p&&(a.value=!0,setTimeout(()=>{i.value=p,a.value=!1},300))},h=p=>{n("select-character",p)},v=p=>{n("open-file",p)};return(p,m)=>(I(),R("div",QIe,[g("div",JIe,[g("div",{class:Me(["page left-page",{turning:a.value}]),onClick:c},[o.value?(I(),R("img",{key:0,src:o.value.path,alt:o.value.title},null,8,ePe)):De("",!0)],2),g("div",{class:Me(["page right-page",{turning:a.value}]),onClick:u},[l.value?(I(),R("img",{key:0,src:l.value.path,alt:l.value.title},null,8,tPe)):De("",!0)],2)]),g("div",rPe,[g("button",{onClick:d,disabled:i.value<=0,title:"首页"},m[0]||(m[0]=[g("i",{class:"fi fi-rr-caret-left"},null,-1)]),8,nPe),g("button",{onClick:c,disabled:i.value<=0,title:"上一页"},m[1]||(m[1]=[g("i",{class:"fi fi-rr-angle-small-left"},null,-1)]),8,iPe),g("div",aPe,G(i.value+1)+" / "+G(s.value),1),g("button",{onClick:u,disabled:i.value>=s.value-1,title:"下一页"},m[2]||(m[2]=[g("i",{class:"fi fi-rr-angle-small-right"},null,-1)]),8,sPe),g("button",{onClick:f,disabled:i.value>=s.value-2,title:"末页"},m[3]||(m[3]=[g("i",{class:"fi fi-rr-caret-right"},null,-1)]),8,oPe)]),Pe(lm,{"entity-id":1,"entity-type":"ebook",onSelectCharacter:h,onOpenFile:v})]))}}),uPe=Ye(lPe,[["__scopeId","data-v-3e64ebec"]]),cPe={class:"calendar-header"},dPe={class:"months-grid"},fPe={class:"month-header"},hPe={class:"calendar-grid"},vPe=qe({__name:"CalendarPopover",props:{dates:{}},setup(t){const r=t,e=le(new Date().getFullYear()-1),n=["日","一","二","三","四","五","六"],i=[{index:0,name:"1月"},{index:1,name:"2月"},{index:2,name:"3月"},{index:3,name:"4月"},{index:4,name:"5月"},{index:5,name:"6月"},{index:6,name:"7月"},{index:7,name:"8月"},{index:8,name:"9月"},{index:9,name:"10月"},{index:10,name:"11月"},{index:11,name:"12月"}],a=u=>{const c=e.value,d=new Date(c,u,1),f=new Date(c,u+1,0),h=[],v=d.getDay();for(let m=v;m>0;m--){const y=new Date(c,u,-m+1);h.push({date:y.toISOString().split("T")[0],day:y.getDate(),isOtherMonth:!0})}for(let m=1;m<=f.getDate();m++){const y=new Date(c,u,m);h.push({date:y.toISOString().split("T")[0],day:m,isOtherMonth:!1})}const p=7-h.length%7;if(p<7)for(let m=1;m<=p;m++){const y=new Date(c,u+1,m);h.push({date:y.toISOString().split("T")[0],day:m,isOtherMonth:!0})}return h},s=u=>r.dates.includes(u),o=()=>{e.value--},l=()=>{e.value++};return(u,c)=>(I(),R("div",{class:"calendar-container",onClick:c[0]||(c[0]=kr(()=>{},["stop"]))},[g("div",cPe,[g("button",{onClick:kr(o,["stop"])},c[1]||(c[1]=[g("i",{class:"fi fi-rr-angle-left"},null,-1)])),g("span",null,G(e.value)+"年",1),g("button",{onClick:kr(l,["stop"])},c[2]||(c[2]=[g("i",{class:"fi fi-rr-angle-right"},null,-1)]))]),g("div",dPe,[(I(),R(he,null,Ce(i,d=>g("div",{key:d.index,class:"month"},[g("div",fPe,G(d.name),1),g("div",hPe,[(I(),R(he,null,Ce(n,f=>g("div",{key:f,class:"weekday"},G(f),1)),64)),(I(!0),R(he,null,Ce(a(d.index),f=>(I(),R("div",{key:f.date,class:Me(["date",{"other-month":f.isOtherMonth,"has-items":s(f.date)}])},G(f.day),3))),128))])])),64))])]))}}),pPe=Ye(vPe,[["__scopeId","data-v-b943de31"]]),gPe={mounted(t,r){t._clickOutside=e=>{t===e.target||t.contains(e.target)||r.value(e)},document.addEventListener("click",t._clickOutside)},unmounted(t){document.removeEventListener("click",t._clickOutside)}},yPe={class:"gallery-container"},mPe={class:"gallery-header"},bPe={class:"left-controls"},$Pe={class:"radio-group-box"},APe={key:0,class:"waterfall-container"},wPe={class:"gallery-item"},_Pe={class:"item-preview"},SPe=["src"],kPe={class:"item-info"},EPe={class:"item-metadata"},TPe={class:"item-date"},OPe={key:0,class:"item-version"},CPe={class:"item-tags"},IPe={key:1,class:"ebook-container"},PPe=qe({__name:"GalleryView",setup(t){const r=oi(),e=le(!1);ce(()=>r.currentFile);const n=()=>{e.value=window.innerWidth<=768};Wt(()=>{n(),window.addEventListener("resize",n)}),jr(()=>{window.removeEventListener("resize",n)});const i=le("waterfall"),a=ce(()=>mT(Ws,{customLabels:{tags:"标签",finishedDate:"完成日期"}})),s=le(!1),o=le({}),l=b=>{o.value=b},u=ce(()=>Ws.filter(b=>{const A=o.value.tags||[],$=A.length===0||b.tags.some(S=>A.includes(S)),k=o.value.finishedDate||{start:"",end:""},C=new Date(b.finishedDate),T=!k.start||C>=new Date(k.start),E=!k.end||C<=new Date(k.end);return $&&T&&E})),c=()=>{s.value=!s.value},d=b=>{r.showCharacter(b)},f=b=>{Ki(b)},h=ce(()=>{try{return Object.entries(Object.assign({"/public/static/archive/2024-Anniv/2024.png":uIe,"/public/static/archive/2024-Anniv/202410.png":cIe,"/public/static/archive/2024-Anniv/202411.png":dIe,"/public/static/archive/2024-Anniv/202412.png":fIe,"/public/static/archive/2024-Anniv/202413.png":hIe,"/public/static/archive/2024-Anniv/202414.png":vIe,"/public/static/archive/2024-Anniv/202415.png":pIe,"/public/static/archive/2024-Anniv/202416.png":gIe,"/public/static/archive/2024-Anniv/202417.png":yIe,"/public/static/archive/2024-Anniv/202418.png":mIe,"/public/static/archive/2024-Anniv/202419.png":bIe,"/public/static/archive/2024-Anniv/20242.png":$Ie,"/public/static/archive/2024-Anniv/202420.png":AIe,"/public/static/archive/2024-Anniv/202421.png":wIe,"/public/static/archive/2024-Anniv/202422.png":_Ie,"/public/static/archive/2024-Anniv/202423.png":SIe,"/public/static/archive/2024-Anniv/202424.png":kIe,"/public/static/archive/2024-Anniv/202425.png":EIe,"/public/static/archive/2024-Anniv/202426.png":TIe,"/public/static/archive/2024-Anniv/202427.png":OIe,"/public/static/archive/2024-Anniv/202428.png":CIe,"/public/static/archive/2024-Anniv/202429.png":IIe,"/public/static/archive/2024-Anniv/20243.png":PIe,"/public/static/archive/2024-Anniv/202430.png":xIe,"/public/static/archive/2024-Anniv/202431.png":RIe,"/public/static/archive/2024-Anniv/202432.png":MIe,"/public/static/archive/2024-Anniv/202433.png":DIe,"/public/static/archive/2024-Anniv/202434.png":FIe,"/public/static/archive/2024-Anniv/202435.png":BIe,"/public/static/archive/2024-Anniv/202436.png":NIe,"/public/static/archive/2024-Anniv/202437.png":LIe,"/public/static/archive/2024-Anniv/20244.png":jIe,"/public/static/archive/2024-Anniv/20245.png":zIe,"/public/static/archive/2024-Anniv/20246.png":HIe,"/public/static/archive/2024-Anniv/20247.png":WIe,"/public/static/archive/2024-Anniv/20248.png":VIe,"/public/static/archive/2024-Anniv/20249.png":UIe})).map(([$,k])=>{const C=$.split("/").pop()||"";return{id:$,path:OF(k),title:C}}).sort(($,k)=>$.title.localeCompare(k.title,void 0,{numeric:!0}))}catch(b){return console.error("Error loading ebook images:",b),[]}}),v=le(!1),p=ce(()=>Ws.map(b=>b.finishedDate)),m=()=>{v.value=!v.value},y=()=>{v.value=!1};return(b,A)=>(I(),R("div",yPe,[g("div",mPe,[g("div",bPe,[g("div",$Pe,[g("button",{class:Me({active:i.value==="waterfall"}),onClick:A[0]||(A[0]=$=>i.value="waterfall")},null,2),g("button",{class:Me({active:i.value==="ebook"}),onClick:A[1]||(A[1]=$=>i.value="ebook")},null,2)]),i.value==="waterfall"?(I(),R("button",{key:0,class:Me(["toggle-button",{active:s.value}]),onClick:c},A[3]||(A[3]=[g("i",{class:"fi fi-rr-filter-list"},null,-1)]),2)):De("",!0),i.value==="waterfall"?(I(),R("button",{key:1,class:Me(["toggle-button position-relative",{active:v.value}]),onClick:kr(m,["stop"])},[A[4]||(A[4]=g("i",{class:"fi fi-rr-calendar"},null,-1)),v.value?fa((I(),vr(pPe,{key:0,dates:p.value,class:"calendar-popover"},null,8,["dates"])),[[ue(gPe),y]]):De("",!0)],2)):De("",!0)])]),Pe($T,{modelValue:s.value,"onUpdate:modelValue":A[2]||(A[2]=$=>s.value=$),"filter-groups":a.value,"active-filters":o.value,onFilter:l},null,8,["modelValue","filter-groups","active-filters"]),i.value==="waterfall"?(I(),R("div",APe,[Pe(ZIe,{items:u.value,"column-width":280,gap:16,"min-column-count":2,onSelectCharacter:d,onOpenFile:f},{item:On(({item:$})=>[g("div",wPe,[g("div",_Pe,[g("img",{src:ue(Nt)($.path),loading:"lazy"},null,8,SPe)]),g("div",kPe,[g("div",EPe,[g("span",TPe,G($.finishedDate),1),$.version>1?(I(),R("span",OPe,"version · "+G($.version),1)):De("",!0)]),g("div",CPe,[(I(!0),R(he,null,Ce($.tags,k=>(I(),R("span",{key:k,class:"tag"},G(k),1))),128))])])])]),_:1},8,["items"])])):i.value==="ebook"?(I(),R("div",IPe,[Pe(uPe,{images:h.value,onOpenFile:f},null,8,["images"])])):De("",!0)]))}}),xPe=Ye(PPe,[["__scopeId","data-v-c6d1ea4f"]]),RPe={class:"note-container"},MPe={class:"header"},DPe={class:"note-head-bar"},FPe={class:"tabs"},BPe=["onClick"],NPe={class:"tab-line"},LPe={class:"note-count"},jPe={class:"column"},zPe={class:"column"},HPe={class:"gallery-grid-small"},WPe=["src","onClick"],VPe=["src","onClick"],UPe=qe({__name:"VaultView",setup(t){const r=[{icon:"fi fi-rr-border-all",value:"all"},{icon:"fi fi-rr-file-medical",value:"md"},{icon:"fi fi-rr-graphic-style",value:"gallery"},{icon:"fi fi-rr-features",value:"document"}],e=le("all"),n=ce(()=>e.value==="md"?Hs:e.value==="gallery"||e.value==="document"?ha.filter(y=>y.displayType===e.value):[...Hs,...ha]),i=y=>{Ki(y)},a=le(!1),s=le(""),o=le(0),l=ce(()=>e.value==="all"?m.value:n.value),u=ce(()=>o.value>0),c=ce(()=>o.value<l.value.length-1),d=y=>{o.value=y,s.value=l.value[y].path},f=y=>{const b=l.value.findIndex(A=>A.path===y);d(b),a.value=!0},h=()=>{u.value&&d(o.value-1)},v=()=>{c.value&&d(o.value+1)},p=ce(()=>ha.filter(y=>y.displayType!=="gallery")),m=ce(()=>ha.filter(y=>y.displayType==="gallery"));return(y,b)=>(I(),R("div",RPe,[g("div",MPe,[b[1]||(b[1]=g("h2",null,"切姆斯比恩斯的回响",-1)),g("div",DPe,[g("div",FPe,[(I(),R(he,null,Ce(r,A=>g("span",{class:Me(["tab",{active:e.value===A.value}]),key:A.value,onClick:$=>e.value=A.value},[g("i",{class:Me(A.icon)},null,2),fa(g("div",NPe,null,512),[[em,e.value===A.value]])],10,BPe)),64))]),g("div",LPe,G(n.value.length),1)])]),g("div",{class:Me(["note-list",{"two-columns":e.value==="all","gallery-grid":e.value==="gallery"}])},[e.value==="all"?(I(),R(he,{key:0},[g("div",jPe,[(I(!0),R(he,null,Ce(ue(Hs),A=>(I(),R("div",{key:A.id},[Pe(hl,{item:A,icon:"📄",onClick:i},null,8,["item"])]))),128))]),g("div",zPe,[(I(!0),R(he,null,Ce(p.value,A=>(I(),R("div",{key:A.id},[Pe(hl,{item:A,icon:"📄",onClick:i},null,8,["item"])]))),128)),g("div",HPe,[(I(!0),R(he,null,Ce(m.value,A=>(I(),R("div",{key:A.id,class:"gallery-item"},[g("img",{src:ue(Nt)(A.path),alt:"图片",onClick:$=>f(A.path)},null,8,WPe)]))),128))])])],64)):e.value==="gallery"?(I(!0),R(he,{key:1},Ce(n.value,A=>(I(),R("div",{key:A.id,class:"gallery-item"},[g("img",{src:ue(Nt)(A.path),alt:"图片",onClick:$=>f(A.path)},null,8,VPe)]))),128)):(I(!0),R(he,{key:2},Ce(n.value,A=>(I(),R("div",{key:A.id},[Pe(hl,{item:A,icon:"📄",onClick:i},null,8,["item"])]))),128))],2),Pe(gm,{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=A=>a.value=A),"image-src":s.value,alt:"图片预览","enable-navigation":!0,"on-previous":u.value?h:void 0,"on-next":c.value?v:void 0},null,8,["modelValue","image-src","on-previous","on-next"])]))}}),GPe=Ye(UPe,[["__scopeId","data-v-647148de"]]),KPe={class:"map-container"},qPe={class:"map-area"},YPe={class:"map-wrapper"},XPe=["src","alt"],ZPe=["onClick"],QPe=["src","alt"],JPe={class:"marker-label"},e2e=qe({__name:"LocationDetail",props:{locationId:{}},emits:["back"],setup(t){const r=t,e=le(null),n=le([]),i=le(null);wt(()=>r.locationId,s=>{s&&(e.value=iu.find(o=>o.id==s)||null,n.value=gT.filter(o=>o.parentId==s),i.value=null)},{immediate:!0});const a=s=>{i.value=s,Ki(s,{props:{initialWidth:200,initialHeight:200,initialPosition:{x:s.coordinates[0]/100,y:s.coordinates[1]/100}}})};return(s,o)=>{var l,u;return I(),R("div",KPe,[g("button",{class:"back-button",onClick:o[0]||(o[0]=c=>s.$emit("back"))}," 返回列表 "),g("div",qPe,[g("div",YPe,[g("img",{src:(l=e.value)==null?void 0:l.path,alt:(u=e.value)==null?void 0:u.title,class:"map-image"},null,8,XPe),(I(!0),R(he,null,Ce(n.value,c=>{var d;return I(),R("div",{key:c.id,class:Me(["map-marker",[`marker-${c.pointType}`,{active:((d=i.value)==null?void 0:d.id)===c.id}]]),style:er({left:`${c.coordinates[0]}%`,top:`${c.coordinates[1]}%`}),onClick:kr(f=>a(c),["stop"])},[g("div",{class:"marker-wrapper",style:er({background:`url(${ue(Nt)("/static/icon/marker-background.svg")}) center/contain no-repeat`})},[g("img",{src:ue(Nt)(`/static/icon/${c.pointType}-marker.png`),alt:c.title,class:"marker-icon"},null,8,QPe)],4),g("div",JPe,G(c.title),1)],14,ZPe)}),128))])]),o[1]||(o[1]=g("div",{class:"location-panel"}," todo ",-1))])}}}),t2e=Ye(e2e,[["__scopeId","data-v-3d89310a"]]),r2e={class:"locations-view"},n2e={key:0,class:"location-list-container"},i2e={class:"location-grid"},a2e=["onClick"],s2e={class:"location-image"},o2e=["src","alt"],l2e={class:"location-info"},u2e={key:0},c2e={class:"location-meta"},d2e={class:"last-updated"},f2e=qe({__name:"LocationView",setup(t){const r=ce(()=>({right:"-1rem",zIndex:1e3})),e=oi(),n=le(null),i=o=>{n.value=o};ce(()=>window.innerWidth<=768);const a=o=>{e.showCharacter(o)},s=o=>{Ki(o)};return(o,l)=>(I(),R("div",r2e,[l[3]||(l[3]=g("div",{class:"page-header"},[g("h1",null,"Interactive Maps"),g("p",{class:"subtitle"}," 由学者、测绘师公会、制图师公会和贤者们精心研究绘制的地图集 ")],-1)),Pe(Jy,{name:"fade",mode:"out-in"},{default:On(()=>[n.value?(I(),vr(t2e,{key:1,locationId:n.value,onBack:l[1]||(l[1]=u=>n.value=null)},null,8,["locationId"])):(I(),R("div",n2e,[g("div",i2e,[(I(!0),R(he,null,Ce(ue(iu),u=>(I(),R("div",{key:u.id,class:"location-card",onClick:c=>i(u.id)},[g("div",s2e,[g("img",{src:u.path,alt:u.title},null,8,o2e),l[2]||(l[2]=g("div",{class:"location-overlay"},[g("span",{class:"view-text"},"查看详情")],-1))]),g("div",l2e,[g("p",null,[It(G(u.title)+" ",1),u.description?(I(),R("span",u2e,"· "+G(u.description),1)):De("",!0)]),g("div",c2e,[g("span",d2e,"最后更新: "+G(u.finishedDate),1)])]),Pe(lm,{"entity-id":u.id,"entity-type":ue(Z).LOCATION,onClick:l[0]||(l[0]=kr(()=>{},["stop"])),onSelectCharacter:a,onOpenFile:s,style:er(r.value)},null,8,["entity-id","entity-type","style"])],8,a2e))),128))])]))]),_:1})]))}}),h2e=Ye(f2e,[["__scopeId","data-v-0d1d072e"]]),Ok=10,v2e=150,p2e=250,g2e=40,y2e=qe({__name:"SourceControlGraph",props:{data:{}},emits:["node-click"],setup(t,{emit:r}){const e=t,n=r,i=le(),a=le();let s,o;const l=le(100),u=le(100),c=le(50),d=le(50),f=z=>c.value+z*l.value,h=z=>d.value+z*u.value,v=z=>getComputedStyle(document.documentElement).getPropertyValue(z).trim(),p=le(null),m=le(!1),y=le(0),b=le(0),A=(z,B)=>{for(const oe of e.data.branches)for(const de of oe.nodes){const Ae=f(de.timestamp)*window.devicePixelRatio,_e=h(oe.level)*window.devicePixelRatio,{width:te,height:Ie}=E(de.title);if(K(z,B,Ae,_e,te*window.devicePixelRatio,Ie*window.devicePixelRatio))return de}return null},$=z=>{!a.value||A((z.clientX-a.value.getBoundingClientRect().left)*window.devicePixelRatio,(z.clientY-a.value.getBoundingClientRect().top)*window.devicePixelRatio)||(m.value=!0,y.value=z.clientX,b.value=z.clientY,a.value.style.cursor="grabbing")},k=z=>{if(!a.value||!s)return;const B=a.value.getBoundingClientRect(),oe=(z.clientX-B.left)*window.devicePixelRatio,de=(z.clientY-B.top)*window.devicePixelRatio;if(m.value){const _e=z.clientX-y.value,te=z.clientY-b.value;c.value+=_e,d.value+=te,y.value=z.clientX,b.value=z.clientY;return}const Ae=A(oe,de);Ae?(p.value=Ae.id,a.value.style.cursor="pointer"):(p.value=null,a.value.style.cursor=m.value?"grabbing":"grab")},C=()=>{a.value&&(m.value=!1,a.value.style.cursor="grab")},T=()=>{a.value&&(m.value=!1,p.value=null,a.value.style.cursor="grab")},E=z=>{if(!s)return{width:0,height:0};s.font="14px Arial";const B=s.measureText(z).width;return{width:Math.min(p2e,Math.max(v2e,B+Ok*2)),height:g2e}},S=(z,B,oe)=>{if(!s)return;const{width:de,height:Ae}=E(z.title);p.value===z.id&&(s.shadowColor=v("--color-background-highlight"),s.shadowBlur=8,s.shadowOffsetX=0,s.shadowOffsetY=0),s.fillStyle=v("--color-background-soft"),s.strokeStyle=v("--color-border"),s.lineWidth=1,s.beginPath(),s.roundRect(B-de/2,oe-Ae/2,de,Ae,6),s.fill(),s.stroke(),s.shadowColor="transparent",s.shadowBlur=0,s.fillStyle=v("--color-text"),s.textAlign="center",s.textBaseline="middle";const _e=de-Ok*2;let te=z.title;if(s.measureText(z.title).width>_e){let Ie=z.title;for(;s.measureText(Ie+"...").width>_e&&Ie.length>0;)Ie=Ie.slice(0,-1);te=Ie+"..."}s.fillText(te,B,oe)},O=(z,B,oe)=>{if(!s)return;s.beginPath(),s.moveTo(z.x,z.y);const de=(z.x+B.x)/2;s.bezierCurveTo(de,z.y,de,B.y,B.x,B.y),s.strokeStyle=oe==="merge"?v("--color-background-highlight"):"#848484",s.lineWidth=1,oe==="branch"?s.setLineDash([5,5]):s.setLineDash([]),s.stroke();const Ae=Math.atan2(B.y-z.y,B.x-z.x),_e=10;s.beginPath(),s.moveTo(B.x,B.y),s.lineTo(B.x-_e*Math.cos(Ae-Math.PI/6),B.y-_e*Math.sin(Ae-Math.PI/6)),s.moveTo(B.x,B.y),s.lineTo(B.x-_e*Math.cos(Ae+Math.PI/6),B.y-_e*Math.sin(Ae+Math.PI/6)),s.stroke()},P=()=>{!s||!a.value||(s.clearRect(0,0,a.value.width,a.value.height),e.data.connections.forEach(z=>{const B=e.data.branches.flatMap(de=>de.nodes).find(de=>de.id===z.from),oe=e.data.branches.flatMap(de=>de.nodes).find(de=>de.id===z.to);if(B&&oe){const de=e.data.branches.find(_e=>_e.nodes.some(te=>te.id===B.id)),Ae=e.data.branches.find(_e=>_e.nodes.some(te=>te.id===oe.id));de&&Ae&&O({x:f(B.timestamp),y:h(de.level)},{x:f(oe.timestamp),y:h(Ae.level)},z.type)}}),e.data.branches.forEach(z=>{z.nodes.forEach(B=>{S(B,f(B.timestamp),h(z.level))})}),o=requestAnimationFrame(P))},j=()=>{if(!a.value||!i.value)return;const{width:z,height:B}=i.value.getBoundingClientRect();a.value.width=z*window.devicePixelRatio,a.value.height=B*window.devicePixelRatio,a.value.style.width=`${z}px`,a.value.style.height=`${B}px`,s==null||s.scale(window.devicePixelRatio,window.devicePixelRatio)},K=(z,B,oe,de,Ae,_e)=>z>=oe-Ae/2&&z<=oe+Ae/2&&B>=de-_e/2&&B<=de+_e/2,me=z=>{if(!a.value||!s)return;const B=a.value.getBoundingClientRect(),oe=(z.clientX-B.left)*window.devicePixelRatio,de=(z.clientY-B.top)*window.devicePixelRatio,Ae=A(oe,de);Ae&&n("node-click",Ae)},Ee=()=>{if(!s||!i.value)return;let z=1/0,B=-1/0,oe=1/0,de=-1/0;if(e.data.branches.forEach(Ne=>{Ne.nodes.forEach(Ze=>{const it=Ze.timestamp,N=Ne.level;z=Math.min(z,it),B=Math.max(B,it),oe=Math.min(oe,N),de=Math.max(de,N)})}),z===1/0||B===-1/0||oe===1/0||de===-1/0)return;const{width:Ae,height:_e}=i.value.getBoundingClientRect(),te=(B-z)*l.value,Ie=(de-oe)*u.value;c.value=(Ae-te)/2-z*l.value,d.value=(_e-Ie)/2-oe*u.value};return Wt(()=>{a.value&&(s=a.value.getContext("2d"),j(),Ee(),P(),window.addEventListener("resize",j),a.value.addEventListener("click",me),a.value.addEventListener("mousemove",k),a.value.addEventListener("mousedown",$),a.value.addEventListener("mouseup",C),a.value.addEventListener("mouseleave",T),a.value.style.cursor="grab")}),jr(()=>{var z,B,oe,de,Ae;window.removeEventListener("resize",j),(z=a.value)==null||z.removeEventListener("click",me),(B=a.value)==null||B.removeEventListener("mousemove",k),(oe=a.value)==null||oe.removeEventListener("mousedown",$),(de=a.value)==null||de.removeEventListener("mouseup",C),(Ae=a.value)==null||Ae.removeEventListener("mouseleave",T),o&&cancelAnimationFrame(o)}),wt(()=>e.data,()=>{Ee(),P()}),(z,B)=>(I(),R("div",{class:"network-container",ref_key:"container",ref:i},[g("canvas",{ref_key:"canvas",ref:a},null,512)],512))}}),m2e=Ye(y2e,[["__scopeId","data-v-6571a451"]]),b2e=qe({__name:"EventView",setup(t){const r=n=>{Ki(n)},e={branches:[{level:-1,nodes:[{id:"3",title:"维洛的教育问题",timestamp:1,parentId:"1",nodeType:"thought",displayType:"chat",path:"/static/md/维洛的教育问题.md"},{id:"4",title:"外界对伊斯的影响",timestamp:3,nodeType:"thought"}]},{level:0,nodes:[{id:"1",title:"维洛长期缺席时在外做什么？",content:"维洛长期缺席时在外做什么？",timestamp:0,nodeType:"thought",displayType:"chat",path:"/static/md/维洛长期缺席时在外做什么？.md"},{id:"5",title:"总结归纳",timestamp:4,nodeType:"summary"}]},{level:1,nodes:[{id:"6",title:"维洛的贵族职责？",timestamp:1,parentId:"1",nodeType:"thought",displayType:"chat",path:"/static/md/维洛的贵族职责？.md"},{id:"7",title:"家族与家主的互相作用力",timestamp:3,nodeType:"thought",displayType:"chat",path:"/static/md/家族与家主的互相作用力.md"}]},{level:2,nodes:[{id:"8",title:"米克斯塔的贵族关系",timestamp:1,parentId:"6",nodeType:"thought"}]}],connections:[{from:"1",to:"3",type:"branch"},{from:"1",to:"6",type:"branch"},{from:"6",to:"8",type:"branch"},{from:"3",to:"4",type:"commit"},{from:"6",to:"7",type:"commit"},{from:"4",to:"5",type:"merge"},{from:"7",to:"5",type:"merge"}]};return(n,i)=>(I(),vr(m2e,{data:e,onNodeClick:r}))}}),$2e=mF({history:XD("/the-tale-of-Ofoces/"),routes:[{path:"/",name:"home",component:H5},{path:"/overview",name:"overview",component:lIe},{path:"/gallery",name:"gallery",component:xPe},{path:"/location",name:"location",component:h2e},{path:"/vault",name:"vault",component:GPe},{path:"/event",name:"event",component:b2e},{path:"/test",name:"test",component:()=>$5(()=>import("./TestView-XNjCmrtq.js"),[])}]});function A2e(){const t=[];return Ln.forEach(r=>{var e,n;(e=r.references)!=null&&e.characters&&r.references.characters.forEach(i=>{t.push({from:r.id,to:i.id,type:i.edgeType,label:i.label,arrows:"to",color:Ck(i.edgeType)})}),(n=r.referencedBy)!=null&&n.characters&&r.referencedBy.characters.forEach(i=>{const a=t.find(s=>s.from===i.id&&s.to===r.id&&s.type===i.edgeType);a?a.arrows="to;from":t.push({from:i.id,to:r.id,type:i.edgeType,label:i.label,arrows:"to",color:Ck(i.edgeType)})})}),t.filter((r,e,n)=>{const i=n.findIndex(a=>a.from===r.from&&a.to===r.to&&a.type===r.type||a.from===r.to&&a.to===r.from&&a.type===r.type);return e===i?(n.find(s=>s.from===r.to&&s.to===r.from&&s.type===r.type&&e!==n.indexOf(s))&&(r.type===4?r.label="主从":r.type===3&&(r.label="家属")),!0):!1})}function Ck(t){return{color:{1:"#FF6B6B",2:"#4ECDC4",3:"#45B7D1",4:"#96CEB4"}[t]||"#666666"}}window.$characterRelationships=A2e();const Yb=ZE(y5);Yb.use(vD());Yb.use($2e);Yb.mount("#app");export{m2e as S,Ki as a,vr as c,qe as d,I as o};
